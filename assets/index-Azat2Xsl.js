(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function a(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=a(i);fetch(i.href,l)}})();function th(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ah={exports:{}},js={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag=Symbol.for("react.transitional.element"),Og=Symbol.for("react.fragment");function nh(e,t,a){var n=null;if(a!==void 0&&(n=""+a),t.key!==void 0&&(n=""+t.key),"key"in t){a={};for(var i in t)i!=="key"&&(a[i]=t[i])}else a=t;return t=a.ref,{$$typeof:Ag,type:e,key:n,ref:t!==void 0?t:null,props:a}}js.Fragment=Og;js.jsx=nh;js.jsxs=nh;ah.exports=js;var c=ah.exports,ih={exports:{}},H={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Po=Symbol.for("react.transitional.element"),jg=Symbol.for("react.portal"),Ng=Symbol.for("react.fragment"),Rg=Symbol.for("react.strict_mode"),Cg=Symbol.for("react.profiler"),kg=Symbol.for("react.consumer"),Ug=Symbol.for("react.context"),Dg=Symbol.for("react.forward_ref"),zg=Symbol.for("react.suspense"),Mg=Symbol.for("react.memo"),lh=Symbol.for("react.lazy"),Bg=Symbol.for("react.activity"),ec=Symbol.iterator;function Lg(e){return e===null||typeof e!="object"?null:(e=ec&&e[ec]||e["@@iterator"],typeof e=="function"?e:null)}var sh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rh=Object.assign,oh={};function Yn(e,t,a){this.props=e,this.context=t,this.refs=oh,this.updater=a||sh}Yn.prototype.isReactComponent={};Yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uh(){}uh.prototype=Yn.prototype;function Wo(e,t,a){this.props=e,this.context=t,this.refs=oh,this.updater=a||sh}var Fo=Wo.prototype=new uh;Fo.constructor=Wo;rh(Fo,Yn.prototype);Fo.isPureReactComponent=!0;var tc=Array.isArray;function Kr(){}var le={H:null,A:null,T:null,S:null},ch=Object.prototype.hasOwnProperty;function eu(e,t,a){var n=a.ref;return{$$typeof:Po,type:e,key:t,ref:n!==void 0?n:null,props:a}}function qg(e,t){return eu(e.type,t,e.props)}function tu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Po}function Hg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var ac=/\/+/g;function Ps(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hg(""+e.key):t.toString(36)}function $g(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Kr,Kr):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function rn(e,t,a,n,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(l){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Po:case jg:s=!0;break;case lh:return s=e._init,rn(s(e._payload),t,a,n,i)}}if(s)return i=i(e),s=n===""?"."+Ps(e,0):n,tc(i)?(a="",s!=null&&(a=s.replace(ac,"$&/")+"/"),rn(i,t,a,"",function(u){return u})):i!=null&&(tu(i)&&(i=qg(i,a+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(ac,"$&/")+"/")+s)),t.push(i)),1;s=0;var r=n===""?".":n+":";if(tc(e))for(var o=0;o<e.length;o++)n=e[o],l=r+Ps(n,o),s+=rn(n,t,a,l,i);else if(o=Lg(e),typeof o=="function")for(e=o.call(e),o=0;!(n=e.next()).done;)n=n.value,l=r+Ps(n,o++),s+=rn(n,t,a,l,i);else if(l==="object"){if(typeof e.then=="function")return rn($g(e),t,a,n,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function hl(e,t,a){if(e==null)return e;var n=[],i=0;return rn(e,n,"","",function(l){return t.call(a,l,i++)}),n}function Gg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vg={map:hl,forEach:function(e,t,a){hl(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return hl(e,function(){t++}),t},toArray:function(e){return hl(e,function(t){return t})||[]},only:function(e){if(!tu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Activity=Bg;H.Children=Vg;H.Component=Yn;H.Fragment=Ng;H.Profiler=Cg;H.PureComponent=Wo;H.StrictMode=Rg;H.Suspense=zg;H.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le;H.__COMPILER_RUNTIME={__proto__:null,c:function(e){return le.H.useMemoCache(e)}};H.cache=function(e){return function(){return e.apply(null,arguments)}};H.cacheSignal=function(){return null};H.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=rh({},e.props),i=e.key;if(t!=null)for(l in t.key!==void 0&&(i=""+t.key),t)!ch.call(t,l)||l==="key"||l==="__self"||l==="__source"||l==="ref"&&t.ref===void 0||(n[l]=t[l]);var l=arguments.length-2;if(l===1)n.children=a;else if(1<l){for(var s=Array(l),r=0;r<l;r++)s[r]=arguments[r+2];n.children=s}return eu(e.type,i,n)};H.createContext=function(e){return e={$$typeof:Ug,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:kg,_context:e},e};H.createElement=function(e,t,a){var n,i={},l=null;if(t!=null)for(n in t.key!==void 0&&(l=""+t.key),t)ch.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=a;else if(1<s){for(var r=Array(s),o=0;o<s;o++)r[o]=arguments[o+2];i.children=r}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return eu(e,l,i)};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:Dg,render:e}};H.isValidElement=tu;H.lazy=function(e){return{$$typeof:lh,_payload:{_status:-1,_result:e},_init:Gg}};H.memo=function(e,t){return{$$typeof:Mg,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=le.T,a={};le.T=a;try{var n=e(),i=le.S;i!==null&&i(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(Kr,nc)}catch(l){nc(l)}finally{t!==null&&a.types!==null&&(t.types=a.types),le.T=t}};H.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()};H.use=function(e){return le.H.use(e)};H.useActionState=function(e,t,a){return le.H.useActionState(e,t,a)};H.useCallback=function(e,t){return le.H.useCallback(e,t)};H.useContext=function(e){return le.H.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e,t){return le.H.useDeferredValue(e,t)};H.useEffect=function(e,t){return le.H.useEffect(e,t)};H.useEffectEvent=function(e){return le.H.useEffectEvent(e)};H.useId=function(){return le.H.useId()};H.useImperativeHandle=function(e,t,a){return le.H.useImperativeHandle(e,t,a)};H.useInsertionEffect=function(e,t){return le.H.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return le.H.useLayoutEffect(e,t)};H.useMemo=function(e,t){return le.H.useMemo(e,t)};H.useOptimistic=function(e,t){return le.H.useOptimistic(e,t)};H.useReducer=function(e,t,a){return le.H.useReducer(e,t,a)};H.useRef=function(e){return le.H.useRef(e)};H.useState=function(e){return le.H.useState(e)};H.useSyncExternalStore=function(e,t,a){return le.H.useSyncExternalStore(e,t,a)};H.useTransition=function(){return le.H.useTransition()};H.version="19.2.4";ih.exports=H;var D=ih.exports;const Kg=th(D);var dh={exports:{}},Ns={},hh={exports:{}},fh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,w){var E=N.length;N.push(w);e:for(;0<E;){var x=E-1>>>1,k=N[x];if(0<i(k,w))N[x]=w,N[E]=k,E=x;else break e}}function a(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var w=N[0],E=N.pop();if(E!==w){N[0]=E;e:for(var x=0,k=N.length,G=k>>>1;x<G;){var X=2*(x+1)-1,at=N[X],Ot=X+1,jt=N[Ot];if(0>i(at,E))Ot<k&&0>i(jt,at)?(N[x]=jt,N[Ot]=E,x=Ot):(N[x]=at,N[X]=E,x=X);else if(Ot<k&&0>i(jt,E))N[x]=jt,N[Ot]=E,x=Ot;else break e}}return w}function i(N,w){var E=N.sortIndex-w.sortIndex;return E!==0?E:N.id-w.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var s=Date,r=s.now();e.unstable_now=function(){return s.now()-r}}var o=[],u=[],d=1,p=null,f=3,g=!1,y=!1,_=!1,S=!1,v=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;function b(N){for(var w=a(u);w!==null;){if(w.callback===null)n(u);else if(w.startTime<=N)n(u),w.sortIndex=w.expirationTime,t(o,w);else break;w=a(u)}}function O(N){if(_=!1,b(N),!y)if(a(o)!==null)y=!0,j||(j=!0,M());else{var w=a(u);w!==null&&bt(O,w.startTime-N)}}var j=!1,A=-1,C=5,R=-1;function z(){return S?!0:!(e.unstable_now()-R<C)}function oe(){if(S=!1,j){var N=e.unstable_now();R=N;var w=!0;try{e:{y=!1,_&&(_=!1,h(A),A=-1),g=!0;var E=f;try{t:{for(b(N),p=a(o);p!==null&&!(p.expirationTime>N&&z());){var x=p.callback;if(typeof x=="function"){p.callback=null,f=p.priorityLevel;var k=x(p.expirationTime<=N);if(N=e.unstable_now(),typeof k=="function"){p.callback=k,b(N),w=!0;break t}p===a(o)&&n(o),b(N)}else n(o);p=a(o)}if(p!==null)w=!0;else{var G=a(u);G!==null&&bt(O,G.startTime-N),w=!1}}break e}finally{p=null,f=E,g=!1}w=void 0}}finally{w?M():j=!1}}}var M;if(typeof m=="function")M=function(){m(oe)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Ta=Ae.port2;Ae.port1.onmessage=oe,M=function(){Ta.postMessage(null)}}else M=function(){v(oe,0)};function bt(N,w){A=v(function(){N(e.unstable_now())},w)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var w=3;break;default:w=f}var E=f;f=w;try{return N()}finally{f=E}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(N,w){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var E=f;f=N;try{return w()}finally{f=E}},e.unstable_scheduleCallback=function(N,w,E){var x=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?x+E:x):E=x,N){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=E+k,N={id:d++,callback:w,priorityLevel:N,startTime:E,expirationTime:k,sortIndex:-1},E>x?(N.sortIndex=E,t(u,N),a(o)===null&&N===a(u)&&(_?(h(A),A=-1):_=!0,bt(O,E-x))):(N.sortIndex=k,t(o,N),y||g||(y=!0,j||(j=!0,M()))),N},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(N){var w=f;return function(){var E=f;f=w;try{return N.apply(this,arguments)}finally{f=E}}}})(fh);hh.exports=fh;var Yg=hh.exports,gh={exports:{}},Me={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg=D;function mh(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zt(){}var ze={d:{f:Zt,r:function(){throw Error(mh(522))},D:Zt,C:Zt,L:Zt,m:Zt,X:Zt,S:Zt,M:Zt},p:0,findDOMNode:null},Xg=Symbol.for("react.portal");function Jg(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xg,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var mi=Qg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Rs(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Me.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ze;Me.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(mh(299));return Jg(e,t,null,a)};Me.flushSync=function(e){var t=mi.T,a=ze.p;try{if(mi.T=null,ze.p=2,e)return e()}finally{mi.T=t,ze.p=a,ze.d.f()}};Me.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ze.d.C(e,t))};Me.prefetchDNS=function(e){typeof e=="string"&&ze.d.D(e)};Me.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=Rs(a,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,l=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?ze.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:l}):a==="script"&&ze.d.X(e,{crossOrigin:n,integrity:i,fetchPriority:l,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Me.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=Rs(t.as,t.crossOrigin);ze.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ze.d.M(e)};Me.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=Rs(a,t.crossOrigin);ze.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Me.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=Rs(t.as,t.crossOrigin);ze.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ze.d.m(e)};Me.requestFormReset=function(e){ze.d.r(e)};Me.unstable_batchedUpdates=function(e,t){return e(t)};Me.useFormState=function(e,t,a){return mi.H.useFormState(e,t,a)};Me.useFormStatus=function(){return mi.H.useHostTransitionStatus()};Me.version="19.2.4";function vh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vh)}catch(e){console.error(e)}}vh(),gh.exports=Me;var Ig=gh.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Se=Yg,ph=D,Zg=Ig;function T(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function yh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fi(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function bh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ic(e){if(Fi(e)!==e)throw Error(T(188))}function Pg(e){var t=e.alternate;if(!t){if(t=Fi(e),t===null)throw Error(T(188));return t!==e?null:e}for(var a=e,n=t;;){var i=a.return;if(i===null)break;var l=i.alternate;if(l===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===a)return ic(i),e;if(l===n)return ic(i),t;l=l.sibling}throw Error(T(188))}if(a.return!==n.return)a=i,n=l;else{for(var s=!1,r=i.child;r;){if(r===a){s=!0,a=i,n=l;break}if(r===n){s=!0,n=i,a=l;break}r=r.sibling}if(!s){for(r=l.child;r;){if(r===a){s=!0,a=l,n=i;break}if(r===n){s=!0,n=l,a=i;break}r=r.sibling}if(!s)throw Error(T(189))}}if(a.alternate!==n)throw Error(T(190))}if(a.tag!==3)throw Error(T(188));return a.stateNode.current===a?e:t}function wh(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=wh(e),t!==null)return t;e=e.sibling}return null}var se=Object.assign,Wg=Symbol.for("react.element"),fl=Symbol.for("react.transitional.element"),ui=Symbol.for("react.portal"),fn=Symbol.for("react.fragment"),Sh=Symbol.for("react.strict_mode"),Yr=Symbol.for("react.profiler"),xh=Symbol.for("react.consumer"),Bt=Symbol.for("react.context"),au=Symbol.for("react.forward_ref"),Qr=Symbol.for("react.suspense"),Xr=Symbol.for("react.suspense_list"),nu=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),Jr=Symbol.for("react.activity"),Fg=Symbol.for("react.memo_cache_sentinel"),lc=Symbol.iterator;function ti(e){return e===null||typeof e!="object"?null:(e=lc&&e[lc]||e["@@iterator"],typeof e=="function"?e:null)}var em=Symbol.for("react.client.reference");function Ir(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===em?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fn:return"Fragment";case Yr:return"Profiler";case Sh:return"StrictMode";case Qr:return"Suspense";case Xr:return"SuspenseList";case Jr:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ui:return"Portal";case Bt:return e.displayName||"Context";case xh:return(e._context.displayName||"Context")+".Consumer";case au:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nu:return t=e.displayName||null,t!==null?t:Ir(e.type)||"Memo";case Pt:t=e._payload,e=e._init;try{return Ir(e(t))}catch{}}return null}var ci=Array.isArray,q=ph.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Zg.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ba={pending:!1,data:null,method:null,action:null},Zr=[],gn=-1;function Tt(e){return{current:e}}function Te(e){0>gn||(e.current=Zr[gn],Zr[gn]=null,gn--)}function ae(e,t){gn++,Zr[gn]=e.current,e.current=t}var Et=Tt(null),ki=Tt(null),ca=Tt(null),Zl=Tt(null);function Pl(e,t){switch(ae(ca,t),ae(ki,e),ae(Et,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?dd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=dd(t),e=K0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Te(Et),ae(Et,e)}function Dn(){Te(Et),Te(ki),Te(ca)}function Pr(e){e.memoizedState!==null&&ae(Zl,e);var t=Et.current,a=K0(t,e.type);t!==a&&(ae(ki,e),ae(Et,a))}function Wl(e){ki.current===e&&(Te(Et),Te(ki)),Zl.current===e&&(Te(Zl),Vi._currentValue=Ba)}var Ws,sc;function Na(e){if(Ws===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ws=t&&t[1]||"",sc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ws+e+sc}var Fs=!1;function er(e,t){if(!e||Fs)return"";Fs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(g){var f=g}Reflect.construct(e,[],p)}else{try{p.call()}catch(g){f=g}e.call(p.prototype)}}else{try{throw Error()}catch(g){f=g}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(g){if(g&&f&&typeof g.stack=="string")return[g.stack,f.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=n.DetermineComponentFrameRoot(),s=l[0],r=l[1];if(s&&r){var o=s.split(`
`),u=r.split(`
`);for(i=n=0;n<o.length&&!o[n].includes("DetermineComponentFrameRoot");)n++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(n===o.length||i===u.length)for(n=o.length-1,i=u.length-1;1<=n&&0<=i&&o[n]!==u[i];)i--;for(;1<=n&&0<=i;n--,i--)if(o[n]!==u[i]){if(n!==1||i!==1)do if(n--,i--,0>i||o[n]!==u[i]){var d=`
`+o[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=i);break}}}finally{Fs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Na(a):""}function tm(e,t){switch(e.tag){case 26:case 27:case 5:return Na(e.type);case 16:return Na("Lazy");case 13:return e.child!==t&&t!==null?Na("Suspense Fallback"):Na("Suspense");case 19:return Na("SuspenseList");case 0:case 15:return er(e.type,!1);case 11:return er(e.type.render,!1);case 1:return er(e.type,!0);case 31:return Na("Activity");default:return""}}function rc(e){try{var t="",a=null;do t+=tm(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Wr=Object.prototype.hasOwnProperty,iu=Se.unstable_scheduleCallback,tr=Se.unstable_cancelCallback,am=Se.unstable_shouldYield,nm=Se.unstable_requestPaint,Ze=Se.unstable_now,im=Se.unstable_getCurrentPriorityLevel,Eh=Se.unstable_ImmediatePriority,Th=Se.unstable_UserBlockingPriority,Fl=Se.unstable_NormalPriority,lm=Se.unstable_LowPriority,Ah=Se.unstable_IdlePriority,sm=Se.log,rm=Se.unstable_setDisableYieldValue,el=null,Pe=null;function la(e){if(typeof sm=="function"&&rm(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(el,e)}catch{}}var We=Math.clz32?Math.clz32:cm,om=Math.log,um=Math.LN2;function cm(e){return e>>>=0,e===0?32:31-(om(e)/um|0)|0}var gl=256,ml=262144,vl=4194304;function Ra(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Cs(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var i=0,l=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var r=n&134217727;return r!==0?(n=r&~l,n!==0?i=Ra(n):(s&=r,s!==0?i=Ra(s):a||(a=r&~e,a!==0&&(i=Ra(a))))):(r=n&~l,r!==0?i=Ra(r):s!==0?i=Ra(s):a||(a=n&~e,a!==0&&(i=Ra(a)))),i===0?0:t!==0&&t!==i&&!(t&l)&&(l=i&-i,a=t&-t,l>=a||l===32&&(a&4194048)!==0)?t:i}function tl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function dm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oh(){var e=vl;return vl<<=1,!(vl&62914560)&&(vl=4194304),e}function ar(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function al(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function hm(e,t,a,n,i,l){var s=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var r=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(a=s&~a;0<a;){var d=31-We(a),p=1<<d;r[d]=0,o[d]=-1;var f=u[d];if(f!==null)for(u[d]=null,d=0;d<f.length;d++){var g=f[d];g!==null&&(g.lane&=-536870913)}a&=~p}n!==0&&jh(e,n,0),l!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=l&~(s&~t))}function jh(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-We(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function Nh(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-We(a),i=1<<n;i&t|e[n]&t&&(e[n]|=t),a&=~i}}function Rh(e,t){var a=t&-t;return a=a&42?1:lu(a),a&(e.suspendedLanes|t)?0:a}function lu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function su(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Ch(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:tg(e.type))}function oc(e,t){var a=I.p;try{return I.p=e,t()}finally{I.p=a}}var xa=Math.random().toString(36).slice(2),Re="__reactFiber$"+xa,Ge="__reactProps$"+xa,Qn="__reactContainer$"+xa,Fr="__reactEvents$"+xa,fm="__reactListeners$"+xa,gm="__reactHandles$"+xa,uc="__reactResources$"+xa,nl="__reactMarker$"+xa;function ru(e){delete e[Re],delete e[Ge],delete e[Fr],delete e[fm],delete e[gm]}function mn(e){var t=e[Re];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Qn]||a[Re]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=vd(e);e!==null;){if(a=e[Re])return a;e=vd(e)}return t}e=a,a=e.parentNode}return null}function Xn(e){if(e=e[Re]||e[Qn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function di(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(T(33))}function An(e){var t=e[uc];return t||(t=e[uc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ee(e){e[nl]=!0}var kh=new Set,Uh={};function Xa(e,t){zn(e,t),zn(e+"Capture",t)}function zn(e,t){for(Uh[e]=t,e=0;e<t.length;e++)kh.add(t[e])}var mm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cc={},dc={};function vm(e){return Wr.call(dc,e)?!0:Wr.call(cc,e)?!1:mm.test(e)?dc[e]=!0:(cc[e]=!0,!1)}function zl(e,t,a){if(vm(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function pl(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Nt(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function it(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pm(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){a=""+s,l.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(s){a=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function eo(e){if(!e._valueTracker){var t=Dh(e)?"checked":"value";e._valueTracker=pm(e,t,""+e[t])}}function zh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Dh(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function es(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ym=/[\n"\\]/g;function rt(e){return e.replace(ym,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function to(e,t,a,n,i,l,s,r){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+it(t)):e.value!==""+it(t)&&(e.value=""+it(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?ao(e,s,it(t)):a!=null?ao(e,s,it(a)):n!=null&&e.removeAttribute("value"),i==null&&l!=null&&(e.defaultChecked=!!l),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+it(r):e.removeAttribute("name")}function Mh(e,t,a,n,i,l,s,r){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.type=l),t!=null||a!=null){if(!(l!=="submit"&&l!=="reset"||t!=null)){eo(e);return}a=a!=null?""+it(a):"",t=t!=null?""+it(t):a,r||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=r?e.checked:!!n,e.defaultChecked=!!n,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),eo(e)}function ao(e,t,a){t==="number"&&es(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function On(e,t,a,n){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&n&&(e[a].defaultSelected=!0)}else{for(a=""+it(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Bh(e,t,a){if(t!=null&&(t=""+it(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+it(a):""}function Lh(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(T(92));if(ci(n)){if(1<n.length)throw Error(T(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=it(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),eo(e)}function Mn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var bm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hc(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||bm.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function qh(e,t,a){if(t!=null&&typeof t!="object")throw Error(T(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&a[i]!==n&&hc(e,i,n)}else for(var l in t)t.hasOwnProperty(l)&&hc(e,l,t[l])}function ou(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _m=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ml(e){return wm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Lt(){}var no=null;function uu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vn=null,jn=null;function fc(e){var t=Xn(e);if(t&&(e=t.stateNode)){var a=e[Ge]||null;e:switch(e=t.stateNode,t.type){case"input":if(to(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var i=n[Ge]||null;if(!i)throw Error(T(90));to(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&zh(n)}break e;case"textarea":Bh(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&On(e,!!a.multiple,t,!1)}}}var nr=!1;function Hh(e,t,a){if(nr)return e(t,a);nr=!0;try{var n=e(t);return n}finally{if(nr=!1,(vn!==null||jn!==null)&&(Vs(),vn&&(t=vn,e=jn,jn=vn=null,fc(t),e)))for(t=0;t<e.length;t++)fc(e[t])}}function Ui(e,t){var a=e.stateNode;if(a===null)return null;var n=a[Ge]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(T(231,t,typeof a));return a}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),io=!1;if(Vt)try{var ai={};Object.defineProperty(ai,"passive",{get:function(){io=!0}}),window.addEventListener("test",ai,ai),window.removeEventListener("test",ai,ai)}catch{io=!1}var sa=null,cu=null,Bl=null;function $h(){if(Bl)return Bl;var e,t=cu,a=t.length,n,i="value"in sa?sa.value:sa.textContent,l=i.length;for(e=0;e<a&&t[e]===i[e];e++);var s=a-e;for(n=1;n<=s&&t[a-n]===i[l-n];n++);return Bl=i.slice(e,1<n?1-n:void 0)}function Ll(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yl(){return!0}function gc(){return!1}function Ve(e){function t(a,n,i,l,s){this._reactName=a,this._targetInst=i,this.type=n,this.nativeEvent=l,this.target=s,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(a=e[r],this[r]=a?a(l):l[r]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?yl:gc,this.isPropagationStopped=gc,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),t}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ks=Ve(Ja),il=se({},Ja,{view:0,detail:0}),Sm=Ve(il),ir,lr,ni,Us=se({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ni&&(ni&&e.type==="mousemove"?(ir=e.screenX-ni.screenX,lr=e.screenY-ni.screenY):lr=ir=0,ni=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:lr}}),mc=Ve(Us),xm=se({},Us,{dataTransfer:0}),Em=Ve(xm),Tm=se({},il,{relatedTarget:0}),sr=Ve(Tm),Am=se({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),Om=Ve(Am),jm=se({},Ja,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nm=Ve(jm),Rm=se({},Ja,{data:0}),vc=Ve(Rm),Cm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},km={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Um={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Um[e])?!!t[e]:!1}function du(){return Dm}var zm=se({},il,{key:function(e){if(e.key){var t=Cm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?km[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(e){return e.type==="keypress"?Ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mm=Ve(zm),Bm=se({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pc=Ve(Bm),Lm=se({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),qm=Ve(Lm),Hm=se({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),$m=Ve(Hm),Gm=se({},Us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vm=Ve(Gm),Km=se({},Ja,{newState:0,oldState:0}),Ym=Ve(Km),Qm=[9,13,27,32],hu=Vt&&"CompositionEvent"in window,vi=null;Vt&&"documentMode"in document&&(vi=document.documentMode);var Xm=Vt&&"TextEvent"in window&&!vi,Gh=Vt&&(!hu||vi&&8<vi&&11>=vi),yc=" ",bc=!1;function Vh(e,t){switch(e){case"keyup":return Qm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pn=!1;function Jm(e,t){switch(e){case"compositionend":return Kh(t);case"keypress":return t.which!==32?null:(bc=!0,yc);case"textInput":return e=t.data,e===yc&&bc?null:e;default:return null}}function Im(e,t){if(pn)return e==="compositionend"||!hu&&Vh(e,t)?(e=$h(),Bl=cu=sa=null,pn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gh&&t.locale!=="ko"?null:t.data;default:return null}}var Zm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zm[e.type]:t==="textarea"}function Yh(e,t,a,n){vn?jn?jn.push(n):jn=[n]:vn=n,t=ys(t,"onChange"),0<t.length&&(a=new ks("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var pi=null,Di=null;function Pm(e){$0(e,0)}function Ds(e){var t=di(e);if(zh(t))return e}function wc(e,t){if(e==="change")return t}var Qh=!1;if(Vt){var rr;if(Vt){var or="oninput"in document;if(!or){var Sc=document.createElement("div");Sc.setAttribute("oninput","return;"),or=typeof Sc.oninput=="function"}rr=or}else rr=!1;Qh=rr&&(!document.documentMode||9<document.documentMode)}function xc(){pi&&(pi.detachEvent("onpropertychange",Xh),Di=pi=null)}function Xh(e){if(e.propertyName==="value"&&Ds(Di)){var t=[];Yh(t,Di,e,uu(e)),Hh(Pm,t)}}function Wm(e,t,a){e==="focusin"?(xc(),pi=t,Di=a,pi.attachEvent("onpropertychange",Xh)):e==="focusout"&&xc()}function Fm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ds(Di)}function ev(e,t){if(e==="click")return Ds(t)}function tv(e,t){if(e==="input"||e==="change")return Ds(t)}function av(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var et=typeof Object.is=="function"?Object.is:av;function zi(e,t){if(et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!Wr.call(t,i)||!et(e[i],t[i]))return!1}return!0}function Ec(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tc(e,t){var a=Ec(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ec(a)}}function Jh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ih(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=es(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=es(e.document)}return t}function fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var nv=Vt&&"documentMode"in document&&11>=document.documentMode,yn=null,lo=null,yi=null,so=!1;function Ac(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;so||yn==null||yn!==es(n)||(n=yn,"selectionStart"in n&&fu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yi&&zi(yi,n)||(yi=n,n=ys(lo,"onSelect"),0<n.length&&(t=new ks("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=yn)))}function Aa(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var bn={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},ur={},Zh={};Vt&&(Zh=document.createElement("div").style,"AnimationEvent"in window||(delete bn.animationend.animation,delete bn.animationiteration.animation,delete bn.animationstart.animation),"TransitionEvent"in window||delete bn.transitionend.transition);function Ia(e){if(ur[e])return ur[e];if(!bn[e])return e;var t=bn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Zh)return ur[e]=t[a];return e}var Ph=Ia("animationend"),Wh=Ia("animationiteration"),Fh=Ia("animationstart"),iv=Ia("transitionrun"),lv=Ia("transitionstart"),sv=Ia("transitioncancel"),ef=Ia("transitionend"),tf=new Map,ro="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ro.push("scrollEnd");function yt(e,t){tf.set(e,t),Xa(t,[e])}var ts=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},nt=[],_n=0,gu=0;function zs(){for(var e=_n,t=gu=_n=0;t<e;){var a=nt[t];nt[t++]=null;var n=nt[t];nt[t++]=null;var i=nt[t];nt[t++]=null;var l=nt[t];if(nt[t++]=null,n!==null&&i!==null){var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}l!==0&&af(a,i,l)}}function Ms(e,t,a,n){nt[_n++]=e,nt[_n++]=t,nt[_n++]=a,nt[_n++]=n,gu|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function mu(e,t,a,n){return Ms(e,t,a,n),as(e)}function Za(e,t){return Ms(e,null,null,t),as(e)}function af(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var i=!1,l=e.return;l!==null;)l.childLanes|=a,n=l.alternate,n!==null&&(n.childLanes|=a),l.tag===22&&(e=l.stateNode,e===null||e._visibility&1||(i=!0)),e=l,l=l.return;return e.tag===3?(l=e.stateNode,i&&t!==null&&(i=31-We(a),e=l.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=a|536870912),l):null}function as(e){if(50<Oi)throw Oi=0,No=null,Error(T(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var wn={};function rv(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(e,t,a,n){return new rv(e,t,a,n)}function vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ht(e,t){var a=e.alternate;return a===null?(a=Xe(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function nf(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ql(e,t,a,n,i,l){var s=0;if(n=e,typeof e=="function")vu(e)&&(s=1);else if(typeof e=="string")s=hp(e,a,Et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Jr:return e=Xe(31,a,t,i),e.elementType=Jr,e.lanes=l,e;case fn:return La(a.children,i,l,t);case Sh:s=8,i|=24;break;case Yr:return e=Xe(12,a,t,i|2),e.elementType=Yr,e.lanes=l,e;case Qr:return e=Xe(13,a,t,i),e.elementType=Qr,e.lanes=l,e;case Xr:return e=Xe(19,a,t,i),e.elementType=Xr,e.lanes=l,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bt:s=10;break e;case xh:s=9;break e;case au:s=11;break e;case nu:s=14;break e;case Pt:s=16,n=null;break e}s=29,a=Error(T(130,e===null?"null":typeof e,"")),n=null}return t=Xe(s,a,t,i),t.elementType=e,t.type=n,t.lanes=l,t}function La(e,t,a,n){return e=Xe(7,e,n,t),e.lanes=a,e}function cr(e,t,a){return e=Xe(6,e,null,t),e.lanes=a,e}function lf(e){var t=Xe(18,null,null,0);return t.stateNode=e,t}function dr(e,t,a){return t=Xe(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Oc=new WeakMap;function ot(e,t){if(typeof e=="object"&&e!==null){var a=Oc.get(e);return a!==void 0?a:(t={value:e,source:t,stack:rc(t)},Oc.set(e,t),t)}return{value:e,source:t,stack:rc(t)}}var Sn=[],xn=0,ns=null,Mi=0,lt=[],st=0,ba=null,wt=1,St="";function zt(e,t){Sn[xn++]=Mi,Sn[xn++]=ns,ns=e,Mi=t}function sf(e,t,a){lt[st++]=wt,lt[st++]=St,lt[st++]=ba,ba=e;var n=wt;e=St;var i=32-We(n)-1;n&=~(1<<i),a+=1;var l=32-We(t)+i;if(30<l){var s=i-i%5;l=(n&(1<<s)-1).toString(32),n>>=s,i-=s,wt=1<<32-We(t)+i|a<<i|n,St=l+e}else wt=1<<l|a<<i|n,St=e}function pu(e){e.return!==null&&(zt(e,1),sf(e,1,0))}function yu(e){for(;e===ns;)ns=Sn[--xn],Sn[xn]=null,Mi=Sn[--xn],Sn[xn]=null;for(;e===ba;)ba=lt[--st],lt[st]=null,St=lt[--st],lt[st]=null,wt=lt[--st],lt[st]=null}function rf(e,t){lt[st++]=wt,lt[st++]=St,lt[st++]=ba,wt=t.id,St=t.overflow,ba=e}var Ce=null,ie=null,Q=!1,da=null,ut=!1,oo=Error(T(519));function _a(e){var t=Error(T(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bi(ot(t,e)),oo}function jc(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Re]=e,t[Ge]=n,a){case"dialog":V("cancel",t),V("close",t);break;case"iframe":case"object":case"embed":V("load",t);break;case"video":case"audio":for(a=0;a<$i.length;a++)V($i[a],t);break;case"source":V("error",t);break;case"img":case"image":case"link":V("error",t),V("load",t);break;case"details":V("toggle",t);break;case"input":V("invalid",t),Mh(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":V("invalid",t);break;case"textarea":V("invalid",t),Lh(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||V0(t.textContent,a)?(n.popover!=null&&(V("beforetoggle",t),V("toggle",t)),n.onScroll!=null&&V("scroll",t),n.onScrollEnd!=null&&V("scrollend",t),n.onClick!=null&&(t.onclick=Lt),t=!0):t=!1,t||_a(e,!0)}function Nc(e){for(Ce=e.return;Ce;)switch(Ce.tag){case 5:case 31:case 13:ut=!1;return;case 27:case 3:ut=!0;return;default:Ce=Ce.return}}function Wa(e){if(e!==Ce)return!1;if(!Q)return Nc(e),Q=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Do(e.type,e.memoizedProps)),a=!a),a&&ie&&_a(e),Nc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));ie=md(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));ie=md(e)}else t===27?(t=ie,Ea(e.type)?(e=Lo,Lo=null,ie=e):ie=t):ie=Ce?dt(e.stateNode.nextSibling):null;return!0}function Ga(){ie=Ce=null,Q=!1}function hr(){var e=da;return e!==null&&(He===null?He=e:He.push.apply(He,e),da=null),e}function Bi(e){da===null?da=[e]:da.push(e)}var uo=Tt(null),Pa=null,qt=null;function ea(e,t,a){ae(uo,t._currentValue),t._currentValue=a}function $t(e){e._currentValue=uo.current,Te(uo)}function co(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function ho(e,t,a,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){var s=i.child;l=l.firstContext;e:for(;l!==null;){var r=l;l=i;for(var o=0;o<t.length;o++)if(r.context===t[o]){l.lanes|=a,r=l.alternate,r!==null&&(r.lanes|=a),co(l.return,a,e),n||(s=null);break e}l=r.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(T(341));s.lanes|=a,l=s.alternate,l!==null&&(l.lanes|=a),co(s,a,e),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function Jn(e,t,a,n){e=null;for(var i=t,l=!1;i!==null;){if(!l){if(i.flags&524288)l=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(T(387));if(s=s.memoizedProps,s!==null){var r=i.type;et(i.pendingProps.value,s.value)||(e!==null?e.push(r):e=[r])}}else if(i===Zl.current){if(s=i.alternate,s===null)throw Error(T(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Vi):e=[Vi])}i=i.return}e!==null&&ho(t,e,a,n),t.flags|=262144}function is(e){for(e=e.firstContext;e!==null;){if(!et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Va(e){Pa=e,qt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ke(e){return of(Pa,e)}function bl(e,t){return Pa===null&&Va(e),of(e,t)}function of(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},qt===null){if(e===null)throw Error(T(308));qt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else qt=qt.next=t;return a}var ov=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},uv=Se.unstable_scheduleCallback,cv=Se.unstable_NormalPriority,ye={$$typeof:Bt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bu(){return{controller:new ov,data:new Map,refCount:0}}function ll(e){e.refCount--,e.refCount===0&&uv(cv,function(){e.controller.abort()})}var bi=null,fo=0,Bn=0,Nn=null;function dv(e,t){if(bi===null){var a=bi=[];fo=0,Bn=Ku(),Nn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return fo++,t.then(Rc,Rc),t}function Rc(){if(--fo===0&&bi!==null){Nn!==null&&(Nn.status="fulfilled");var e=bi;bi=null,Bn=0,Nn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function hv(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),n}var Cc=q.S;q.S=function(e,t){S0=Ze(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&dv(e,t),Cc!==null&&Cc(e,t)};var qa=Tt(null);function _u(){var e=qa.current;return e!==null?e:ee.pooledCache}function Hl(e,t){t===null?ae(qa,qa.current):ae(qa,t.pool)}function uf(){var e=_u();return e===null?null:{parent:ye._currentValue,pool:e}}var In=Error(T(460)),wu=Error(T(474)),Bs=Error(T(542)),ls={then:function(){}};function kc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function cf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Lt,Lt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dc(e),e;default:if(typeof t.status=="string")t.then(Lt,Lt);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(T(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dc(e),e}throw Ha=t,In}}function Ca(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ha=a,In):a}}var Ha=null;function Uc(){if(Ha===null)throw Error(T(459));var e=Ha;return Ha=null,e}function Dc(e){if(e===In||e===Bs)throw Error(T(483))}var Rn=null,Li=0;function _l(e){var t=Li;return Li+=1,Rn===null&&(Rn=[]),cf(Rn,e,t)}function ii(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function wl(e,t){throw t.$$typeof===Wg?Error(T(525)):(e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function df(e){function t(v,h){if(e){var m=v.deletions;m===null?(v.deletions=[h],v.flags|=16):m.push(h)}}function a(v,h){if(!e)return null;for(;h!==null;)t(v,h),h=h.sibling;return null}function n(v){for(var h=new Map;v!==null;)v.key!==null?h.set(v.key,v):h.set(v.index,v),v=v.sibling;return h}function i(v,h){return v=Ht(v,h),v.index=0,v.sibling=null,v}function l(v,h,m){return v.index=m,e?(m=v.alternate,m!==null?(m=m.index,m<h?(v.flags|=67108866,h):m):(v.flags|=67108866,h)):(v.flags|=1048576,h)}function s(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function r(v,h,m,b){return h===null||h.tag!==6?(h=cr(m,v.mode,b),h.return=v,h):(h=i(h,m),h.return=v,h)}function o(v,h,m,b){var O=m.type;return O===fn?d(v,h,m.props.children,b,m.key):h!==null&&(h.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Pt&&Ca(O)===h.type)?(h=i(h,m.props),ii(h,m),h.return=v,h):(h=ql(m.type,m.key,m.props,null,v.mode,b),ii(h,m),h.return=v,h)}function u(v,h,m,b){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=dr(m,v.mode,b),h.return=v,h):(h=i(h,m.children||[]),h.return=v,h)}function d(v,h,m,b,O){return h===null||h.tag!==7?(h=La(m,v.mode,b,O),h.return=v,h):(h=i(h,m),h.return=v,h)}function p(v,h,m){if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return h=cr(""+h,v.mode,m),h.return=v,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case fl:return m=ql(h.type,h.key,h.props,null,v.mode,m),ii(m,h),m.return=v,m;case ui:return h=dr(h,v.mode,m),h.return=v,h;case Pt:return h=Ca(h),p(v,h,m)}if(ci(h)||ti(h))return h=La(h,v.mode,m,null),h.return=v,h;if(typeof h.then=="function")return p(v,_l(h),m);if(h.$$typeof===Bt)return p(v,bl(v,h),m);wl(v,h)}return null}function f(v,h,m,b){var O=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return O!==null?null:r(v,h,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case fl:return m.key===O?o(v,h,m,b):null;case ui:return m.key===O?u(v,h,m,b):null;case Pt:return m=Ca(m),f(v,h,m,b)}if(ci(m)||ti(m))return O!==null?null:d(v,h,m,b,null);if(typeof m.then=="function")return f(v,h,_l(m),b);if(m.$$typeof===Bt)return f(v,h,bl(v,m),b);wl(v,m)}return null}function g(v,h,m,b,O){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return v=v.get(m)||null,r(h,v,""+b,O);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fl:return v=v.get(b.key===null?m:b.key)||null,o(h,v,b,O);case ui:return v=v.get(b.key===null?m:b.key)||null,u(h,v,b,O);case Pt:return b=Ca(b),g(v,h,m,b,O)}if(ci(b)||ti(b))return v=v.get(m)||null,d(h,v,b,O,null);if(typeof b.then=="function")return g(v,h,m,_l(b),O);if(b.$$typeof===Bt)return g(v,h,m,bl(h,b),O);wl(h,b)}return null}function y(v,h,m,b){for(var O=null,j=null,A=h,C=h=0,R=null;A!==null&&C<m.length;C++){A.index>C?(R=A,A=null):R=A.sibling;var z=f(v,A,m[C],b);if(z===null){A===null&&(A=R);break}e&&A&&z.alternate===null&&t(v,A),h=l(z,h,C),j===null?O=z:j.sibling=z,j=z,A=R}if(C===m.length)return a(v,A),Q&&zt(v,C),O;if(A===null){for(;C<m.length;C++)A=p(v,m[C],b),A!==null&&(h=l(A,h,C),j===null?O=A:j.sibling=A,j=A);return Q&&zt(v,C),O}for(A=n(A);C<m.length;C++)R=g(A,v,C,m[C],b),R!==null&&(e&&R.alternate!==null&&A.delete(R.key===null?C:R.key),h=l(R,h,C),j===null?O=R:j.sibling=R,j=R);return e&&A.forEach(function(oe){return t(v,oe)}),Q&&zt(v,C),O}function _(v,h,m,b){if(m==null)throw Error(T(151));for(var O=null,j=null,A=h,C=h=0,R=null,z=m.next();A!==null&&!z.done;C++,z=m.next()){A.index>C?(R=A,A=null):R=A.sibling;var oe=f(v,A,z.value,b);if(oe===null){A===null&&(A=R);break}e&&A&&oe.alternate===null&&t(v,A),h=l(oe,h,C),j===null?O=oe:j.sibling=oe,j=oe,A=R}if(z.done)return a(v,A),Q&&zt(v,C),O;if(A===null){for(;!z.done;C++,z=m.next())z=p(v,z.value,b),z!==null&&(h=l(z,h,C),j===null?O=z:j.sibling=z,j=z);return Q&&zt(v,C),O}for(A=n(A);!z.done;C++,z=m.next())z=g(A,v,C,z.value,b),z!==null&&(e&&z.alternate!==null&&A.delete(z.key===null?C:z.key),h=l(z,h,C),j===null?O=z:j.sibling=z,j=z);return e&&A.forEach(function(M){return t(v,M)}),Q&&zt(v,C),O}function S(v,h,m,b){if(typeof m=="object"&&m!==null&&m.type===fn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case fl:e:{for(var O=m.key;h!==null;){if(h.key===O){if(O=m.type,O===fn){if(h.tag===7){a(v,h.sibling),b=i(h,m.props.children),b.return=v,v=b;break e}}else if(h.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Pt&&Ca(O)===h.type){a(v,h.sibling),b=i(h,m.props),ii(b,m),b.return=v,v=b;break e}a(v,h);break}else t(v,h);h=h.sibling}m.type===fn?(b=La(m.props.children,v.mode,b,m.key),b.return=v,v=b):(b=ql(m.type,m.key,m.props,null,v.mode,b),ii(b,m),b.return=v,v=b)}return s(v);case ui:e:{for(O=m.key;h!==null;){if(h.key===O)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){a(v,h.sibling),b=i(h,m.children||[]),b.return=v,v=b;break e}else{a(v,h);break}else t(v,h);h=h.sibling}b=dr(m,v.mode,b),b.return=v,v=b}return s(v);case Pt:return m=Ca(m),S(v,h,m,b)}if(ci(m))return y(v,h,m,b);if(ti(m)){if(O=ti(m),typeof O!="function")throw Error(T(150));return m=O.call(m),_(v,h,m,b)}if(typeof m.then=="function")return S(v,h,_l(m),b);if(m.$$typeof===Bt)return S(v,h,bl(v,m),b);wl(v,m)}return typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint"?(m=""+m,h!==null&&h.tag===6?(a(v,h.sibling),b=i(h,m),b.return=v,v=b):(a(v,h),b=cr(m,v.mode,b),b.return=v,v=b),s(v)):a(v,h)}return function(v,h,m,b){try{Li=0;var O=S(v,h,m,b);return Rn=null,O}catch(A){if(A===In||A===Bs)throw A;var j=Xe(29,A,null,v.mode);return j.lanes=b,j.return=v,j}finally{}}}var Ka=df(!0),hf=df(!1),Wt=!1;function Su(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function go(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ha(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function fa(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,J&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=as(e),af(e,null,a),t}return Ms(e,n,t,a),as(e)}function _i(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Nh(e,a)}}function fr(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,l=null;if(a=a.firstBaseUpdate,a!==null){do{var s={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};l===null?i=l=s:l=l.next=s,a=a.next}while(a!==null);l===null?i=l=t:l=l.next=t}else i=l=t;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var mo=!1;function wi(){if(mo){var e=Nn;if(e!==null)throw e}}function Si(e,t,a,n){mo=!1;var i=e.updateQueue;Wt=!1;var l=i.firstBaseUpdate,s=i.lastBaseUpdate,r=i.shared.pending;if(r!==null){i.shared.pending=null;var o=r,u=o.next;o.next=null,s===null?l=u:s.next=u,s=o;var d=e.alternate;d!==null&&(d=d.updateQueue,r=d.lastBaseUpdate,r!==s&&(r===null?d.firstBaseUpdate=u:r.next=u,d.lastBaseUpdate=o))}if(l!==null){var p=i.baseState;s=0,d=u=o=null,r=l;do{var f=r.lane&-536870913,g=f!==r.lane;if(g?(Y&f)===f:(n&f)===f){f!==0&&f===Bn&&(mo=!0),d!==null&&(d=d.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var y=e,_=r;f=t;var S=a;switch(_.tag){case 1:if(y=_.payload,typeof y=="function"){p=y.call(S,p,f);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,f=typeof y=="function"?y.call(S,p,f):y,f==null)break e;p=se({},p,f);break e;case 2:Wt=!0}}f=r.callback,f!==null&&(e.flags|=64,g&&(e.flags|=8192),g=i.callbacks,g===null?i.callbacks=[f]:g.push(f))}else g={lane:f,tag:r.tag,payload:r.payload,callback:r.callback,next:null},d===null?(u=d=g,o=p):d=d.next=g,s|=f;if(r=r.next,r===null){if(r=i.shared.pending,r===null)break;g=r,r=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);d===null&&(o=p),i.baseState=o,i.firstBaseUpdate=u,i.lastBaseUpdate=d,l===null&&(i.shared.lanes=0),Sa|=s,e.lanes=s,e.memoizedState=p}}function ff(e,t){if(typeof e!="function")throw Error(T(191,e));e.call(t)}function gf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ff(a[e],t)}var Ln=Tt(null),ss=Tt(0);function zc(e,t){e=Xt,ae(ss,e),ae(Ln,t),Xt=e|t.baseLanes}function vo(){ae(ss,Xt),ae(Ln,Ln.current)}function xu(){Xt=ss.current,Te(Ln),Te(ss)}var tt=Tt(null),ct=null;function ta(e){var t=e.alternate;ae(fe,fe.current&1),ae(tt,e),ct===null&&(t===null||Ln.current!==null||t.memoizedState!==null)&&(ct=e)}function po(e){ae(fe,fe.current),ae(tt,e),ct===null&&(ct=e)}function mf(e){e.tag===22?(ae(fe,fe.current),ae(tt,e),ct===null&&(ct=e)):aa()}function aa(){ae(fe,fe.current),ae(tt,tt.current)}function Qe(e){Te(tt),ct===e&&(ct=null),Te(fe)}var fe=Tt(0);function rs(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Mo(a)||Bo(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kt=0,$=null,F=null,ve=null,os=!1,Cn=!1,Ya=!1,us=0,qi=0,kn=null,fv=0;function ce(){throw Error(T(321))}function Eu(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!et(e[a],t[a]))return!1;return!0}function Tu(e,t,a,n,i,l){return Kt=l,$=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?Qf:Mu,Ya=!1,l=a(n,i),Ya=!1,Cn&&(l=pf(t,a,n,i)),vf(e),l}function vf(e){q.H=Hi;var t=F!==null&&F.next!==null;if(Kt=0,ve=F=$=null,os=!1,qi=0,kn=null,t)throw Error(T(300));e===null||be||(e=e.dependencies,e!==null&&is(e)&&(be=!0))}function pf(e,t,a,n){$=e;var i=0;do{if(Cn&&(kn=null),qi=0,Cn=!1,25<=i)throw Error(T(301));if(i+=1,ve=F=null,e.updateQueue!=null){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}q.H=Xf,l=t(a,n)}while(Cn);return l}function gv(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?sl(t):t,e=e.useState()[0],(F!==null?F.memoizedState:null)!==e&&($.flags|=1024),t}function Au(){var e=us!==0;return us=0,e}function Ou(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function ju(e){if(os){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}os=!1}Kt=0,ve=F=$=null,Cn=!1,qi=us=0,kn=null}function De(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?$.memoizedState=ve=e:ve=ve.next=e,ve}function ge(){if(F===null){var e=$.alternate;e=e!==null?e.memoizedState:null}else e=F.next;var t=ve===null?$.memoizedState:ve.next;if(t!==null)ve=t,F=e;else{if(e===null)throw $.alternate===null?Error(T(467)):Error(T(310));F=e,e={memoizedState:F.memoizedState,baseState:F.baseState,baseQueue:F.baseQueue,queue:F.queue,next:null},ve===null?$.memoizedState=ve=e:ve=ve.next=e}return ve}function Ls(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(e){var t=qi;return qi+=1,kn===null&&(kn=[]),e=cf(kn,e,t),t=$,(ve===null?t.memoizedState:ve.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?Qf:Mu),e}function qs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return sl(e);if(e.$$typeof===Bt)return ke(e)}throw Error(T(438,String(e)))}function Nu(e){var t=null,a=$.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=$.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ls(),$.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=Fg;return t.index++,a}function Yt(e,t){return typeof t=="function"?t(e):t}function $l(e){var t=ge();return Ru(t,F,e)}function Ru(e,t,a){var n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=a;var i=e.baseQueue,l=n.pending;if(l!==null){if(i!==null){var s=i.next;i.next=l.next,l.next=s}t.baseQueue=i=l,n.pending=null}if(l=e.baseState,i===null)e.memoizedState=l;else{t=i.next;var r=s=null,o=null,u=t,d=!1;do{var p=u.lane&-536870913;if(p!==u.lane?(Y&p)===p:(Kt&p)===p){var f=u.revertLane;if(f===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),p===Bn&&(d=!0);else if((Kt&f)===f){u=u.next,f===Bn&&(d=!0);continue}else p={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(r=o=p,s=l):o=o.next=p,$.lanes|=f,Sa|=f;p=u.action,Ya&&a(l,p),l=u.hasEagerState?u.eagerState:a(l,p)}else f={lane:p,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(r=o=f,s=l):o=o.next=f,$.lanes|=p,Sa|=p;u=u.next}while(u!==null&&u!==t);if(o===null?s=l:o.next=r,!et(l,e.memoizedState)&&(be=!0,d&&(a=Nn,a!==null)))throw a;e.memoizedState=l,e.baseState=s,e.baseQueue=o,n.lastRenderedState=l}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function gr(e){var t=ge(),a=t.queue;if(a===null)throw Error(T(311));a.lastRenderedReducer=e;var n=a.dispatch,i=a.pending,l=t.memoizedState;if(i!==null){a.pending=null;var s=i=i.next;do l=e(l,s.action),s=s.next;while(s!==i);et(l,t.memoizedState)||(be=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),a.lastRenderedState=l}return[l,n]}function yf(e,t,a){var n=$,i=ge(),l=Q;if(l){if(a===void 0)throw Error(T(407));a=a()}else a=t();var s=!et((F||i).memoizedState,a);if(s&&(i.memoizedState=a,be=!0),i=i.queue,Cu(wf.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||ve!==null&&ve.memoizedState.tag&1){if(n.flags|=2048,qn(9,{destroy:void 0},_f.bind(null,n,i,a,t),null),ee===null)throw Error(T(349));l||Kt&127||bf(n,t,a)}return a}function bf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=$.updateQueue,t===null?(t=Ls(),$.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function _f(e,t,a,n){t.value=a,t.getSnapshot=n,Sf(t)&&xf(e)}function wf(e,t,a){return a(function(){Sf(t)&&xf(e)})}function Sf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!et(e,a)}catch{return!0}}function xf(e){var t=Za(e,2);t!==null&&$e(t,e,2)}function yo(e){var t=De();if(typeof e=="function"){var a=e;if(e=a(),Ya){la(!0);try{a()}finally{la(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yt,lastRenderedState:e},t}function Ef(e,t,a,n){return e.baseState=a,Ru(e,F,typeof n=="function"?n:Yt)}function mv(e,t,a,n,i){if($s(e))throw Error(T(485));if(e=t.action,e!==null){var l={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){l.listeners.push(s)}};q.T!==null?a(!0):l.isTransition=!1,n(l),a=t.pending,a===null?(l.next=t.pending=l,Tf(t,l)):(l.next=a.next,t.pending=a.next=l)}}function Tf(e,t){var a=t.action,n=t.payload,i=e.state;if(t.isTransition){var l=q.T,s={};q.T=s;try{var r=a(i,n),o=q.S;o!==null&&o(s,r),Mc(e,t,r)}catch(u){bo(e,t,u)}finally{l!==null&&s.types!==null&&(l.types=s.types),q.T=l}}else try{l=a(i,n),Mc(e,t,l)}catch(u){bo(e,t,u)}}function Mc(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Bc(e,t,n)},function(n){return bo(e,t,n)}):Bc(e,t,a)}function Bc(e,t,a){t.status="fulfilled",t.value=a,Af(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Tf(e,a)))}function bo(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Af(t),t=t.next;while(t!==n)}e.action=null}function Af(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Of(e,t){return t}function Lc(e,t){if(Q){var a=ee.formState;if(a!==null){e:{var n=$;if(Q){if(ie){t:{for(var i=ie,l=ut;i.nodeType!==8;){if(!l){i=null;break t}if(i=dt(i.nextSibling),i===null){i=null;break t}}l=i.data,i=l==="F!"||l==="F"?i:null}if(i){ie=dt(i.nextSibling),n=i.data==="F!";break e}}_a(n)}n=!1}n&&(t=a[0])}}return a=De(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Of,lastRenderedState:t},a.queue=n,a=Vf.bind(null,$,n),n.dispatch=a,n=yo(!1),l=zu.bind(null,$,!1,n.queue),n=De(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,a=mv.bind(null,$,i,l,a),i.dispatch=a,n.memoizedState=e,[t,a,!1]}function qc(e){var t=ge();return jf(t,F,e)}function jf(e,t,a){if(t=Ru(e,t,Of)[0],e=$l(Yt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=sl(t)}catch(s){throw s===In?Bs:s}else n=t;t=ge();var i=t.queue,l=i.dispatch;return a!==t.memoizedState&&($.flags|=2048,qn(9,{destroy:void 0},vv.bind(null,i,a),null)),[n,l,e]}function vv(e,t){e.action=t}function Hc(e){var t=ge(),a=F;if(a!==null)return jf(t,a,e);ge(),t=t.memoizedState,a=ge();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function qn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=$.updateQueue,t===null&&(t=Ls(),$.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Nf(){return ge().memoizedState}function Gl(e,t,a,n){var i=De();$.flags|=e,i.memoizedState=qn(1|t,{destroy:void 0},a,n===void 0?null:n)}function Hs(e,t,a,n){var i=ge();n=n===void 0?null:n;var l=i.memoizedState.inst;F!==null&&n!==null&&Eu(n,F.memoizedState.deps)?i.memoizedState=qn(t,l,a,n):($.flags|=e,i.memoizedState=qn(1|t,l,a,n))}function $c(e,t){Gl(8390656,8,e,t)}function Cu(e,t){Hs(2048,8,e,t)}function pv(e){$.flags|=4;var t=$.updateQueue;if(t===null)t=Ls(),$.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Rf(e){var t=ge().memoizedState;return pv({ref:t,nextImpl:e}),function(){if(J&2)throw Error(T(440));return t.impl.apply(void 0,arguments)}}function Cf(e,t){return Hs(4,2,e,t)}function kf(e,t){return Hs(4,4,e,t)}function Uf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Df(e,t,a){a=a!=null?a.concat([e]):null,Hs(4,4,Uf.bind(null,t,e),a)}function ku(){}function zf(e,t){var a=ge();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Eu(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Mf(e,t){var a=ge();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Eu(t,n[1]))return n[0];if(n=e(),Ya){la(!0);try{e()}finally{la(!1)}}return a.memoizedState=[n,t],n}function Uu(e,t,a){return a===void 0||Kt&1073741824&&!(Y&261930)?e.memoizedState=t:(e.memoizedState=a,e=E0(),$.lanes|=e,Sa|=e,a)}function Bf(e,t,a,n){return et(a,t)?a:Ln.current!==null?(e=Uu(e,a,n),et(e,t)||(be=!0),e):!(Kt&42)||Kt&1073741824&&!(Y&261930)?(be=!0,e.memoizedState=a):(e=E0(),$.lanes|=e,Sa|=e,t)}function Lf(e,t,a,n,i){var l=I.p;I.p=l!==0&&8>l?l:8;var s=q.T,r={};q.T=r,zu(e,!1,t,a);try{var o=i(),u=q.S;if(u!==null&&u(r,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=hv(o,n);xi(e,t,d,Fe(e))}else xi(e,t,n,Fe(e))}catch(p){xi(e,t,{then:function(){},status:"rejected",reason:p},Fe())}finally{I.p=l,s!==null&&r.types!==null&&(s.types=r.types),q.T=s}}function yv(){}function _o(e,t,a,n){if(e.tag!==5)throw Error(T(476));var i=qf(e).queue;Lf(e,i,t,Ba,a===null?yv:function(){return Hf(e),a(n)})}function qf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ba,baseState:Ba,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yt,lastRenderedState:Ba},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yt,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Hf(e){var t=qf(e);t.next===null&&(t=e.alternate.memoizedState),xi(e,t.next.queue,{},Fe())}function Du(){return ke(Vi)}function $f(){return ge().memoizedState}function Gf(){return ge().memoizedState}function bv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Fe();e=ha(a);var n=fa(t,e,a);n!==null&&($e(n,t,a),_i(n,t,a)),t={cache:bu()},e.payload=t;return}t=t.return}}function _v(e,t,a){var n=Fe();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$s(e)?Kf(t,a):(a=mu(e,t,a,n),a!==null&&($e(a,e,n),Yf(a,t,n)))}function Vf(e,t,a){var n=Fe();xi(e,t,a,n)}function xi(e,t,a,n){var i={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if($s(e))Kf(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var s=t.lastRenderedState,r=l(s,a);if(i.hasEagerState=!0,i.eagerState=r,et(r,s))return Ms(e,t,i,0),ee===null&&zs(),!1}catch{}finally{}if(a=mu(e,t,i,n),a!==null)return $e(a,e,n),Yf(a,t,n),!0}return!1}function zu(e,t,a,n){if(n={lane:2,revertLane:Ku(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},$s(e)){if(t)throw Error(T(479))}else t=mu(e,a,n,2),t!==null&&$e(t,e,2)}function $s(e){var t=e.alternate;return e===$||t!==null&&t===$}function Kf(e,t){Cn=os=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Yf(e,t,a){if(a&4194048){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Nh(e,a)}}var Hi={readContext:ke,use:qs,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Hi.useEffectEvent=ce;var Qf={readContext:ke,use:qs,useCallback:function(e,t){return De().memoizedState=[e,t===void 0?null:t],e},useContext:ke,useEffect:$c,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Gl(4194308,4,Uf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Gl(4194308,4,e,t)},useInsertionEffect:function(e,t){Gl(4,2,e,t)},useMemo:function(e,t){var a=De();t=t===void 0?null:t;var n=e();if(Ya){la(!0);try{e()}finally{la(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=De();if(a!==void 0){var i=a(t);if(Ya){la(!0);try{a(t)}finally{la(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=_v.bind(null,$,e),[n.memoizedState,e]},useRef:function(e){var t=De();return e={current:e},t.memoizedState=e},useState:function(e){e=yo(e);var t=e.queue,a=Vf.bind(null,$,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:ku,useDeferredValue:function(e,t){var a=De();return Uu(a,e,t)},useTransition:function(){var e=yo(!1);return e=Lf.bind(null,$,e.queue,!0,!1),De().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=$,i=De();if(Q){if(a===void 0)throw Error(T(407));a=a()}else{if(a=t(),ee===null)throw Error(T(349));Y&127||bf(n,t,a)}i.memoizedState=a;var l={value:a,getSnapshot:t};return i.queue=l,$c(wf.bind(null,n,l,e),[e]),n.flags|=2048,qn(9,{destroy:void 0},_f.bind(null,n,l,a,t),null),a},useId:function(){var e=De(),t=ee.identifierPrefix;if(Q){var a=St,n=wt;a=(n&~(1<<32-We(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=us++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=fv++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Du,useFormState:Lc,useActionState:Lc,useOptimistic:function(e){var t=De();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=zu.bind(null,$,!0,a),a.dispatch=t,[e,t]},useMemoCache:Nu,useCacheRefresh:function(){return De().memoizedState=bv.bind(null,$)},useEffectEvent:function(e){var t=De(),a={impl:e};return t.memoizedState=a,function(){if(J&2)throw Error(T(440));return a.impl.apply(void 0,arguments)}}},Mu={readContext:ke,use:qs,useCallback:zf,useContext:ke,useEffect:Cu,useImperativeHandle:Df,useInsertionEffect:Cf,useLayoutEffect:kf,useMemo:Mf,useReducer:$l,useRef:Nf,useState:function(){return $l(Yt)},useDebugValue:ku,useDeferredValue:function(e,t){var a=ge();return Bf(a,F.memoizedState,e,t)},useTransition:function(){var e=$l(Yt)[0],t=ge().memoizedState;return[typeof e=="boolean"?e:sl(e),t]},useSyncExternalStore:yf,useId:$f,useHostTransitionStatus:Du,useFormState:qc,useActionState:qc,useOptimistic:function(e,t){var a=ge();return Ef(a,F,e,t)},useMemoCache:Nu,useCacheRefresh:Gf};Mu.useEffectEvent=Rf;var Xf={readContext:ke,use:qs,useCallback:zf,useContext:ke,useEffect:Cu,useImperativeHandle:Df,useInsertionEffect:Cf,useLayoutEffect:kf,useMemo:Mf,useReducer:gr,useRef:Nf,useState:function(){return gr(Yt)},useDebugValue:ku,useDeferredValue:function(e,t){var a=ge();return F===null?Uu(a,e,t):Bf(a,F.memoizedState,e,t)},useTransition:function(){var e=gr(Yt)[0],t=ge().memoizedState;return[typeof e=="boolean"?e:sl(e),t]},useSyncExternalStore:yf,useId:$f,useHostTransitionStatus:Du,useFormState:Hc,useActionState:Hc,useOptimistic:function(e,t){var a=ge();return F!==null?Ef(a,F,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Nu,useCacheRefresh:Gf};Xf.useEffectEvent=Rf;function mr(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:se({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var wo={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Fe(),i=ha(n);i.payload=t,a!=null&&(i.callback=a),t=fa(e,i,n),t!==null&&($e(t,e,n),_i(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Fe(),i=ha(n);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=fa(e,i,n),t!==null&&($e(t,e,n),_i(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Fe(),n=ha(a);n.tag=2,t!=null&&(n.callback=t),t=fa(e,n,a),t!==null&&($e(t,e,a),_i(t,e,a))}};function Gc(e,t,a,n,i,l,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,s):t.prototype&&t.prototype.isPureReactComponent?!zi(a,n)||!zi(i,l):!0}function Vc(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&wo.enqueueReplaceState(t,t.state,null)}function Qa(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=se({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}function Jf(e){ts(e)}function If(e){console.error(e)}function Zf(e){ts(e)}function cs(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Kc(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function So(e,t,a){return a=ha(a),a.tag=3,a.payload={element:null},a.callback=function(){cs(e,t)},a}function Pf(e){return e=ha(e),e.tag=3,e}function Wf(e,t,a,n){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var l=n.value;e.payload=function(){return i(l)},e.callback=function(){Kc(t,a,n)}}var s=a.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Kc(t,a,n),typeof i!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var r=n.stack;this.componentDidCatch(n.value,{componentStack:r!==null?r:""})})}function wv(e,t,a,n,i){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Jn(t,a,i,!0),a=tt.current,a!==null){switch(a.tag){case 31:case 13:return ct===null?ms():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=i,n===ls?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Ar(e,n,i)),!1;case 22:return a.flags|=65536,n===ls?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Ar(e,n,i)),!1}throw Error(T(435,a.tag))}return Ar(e,n,i),ms(),!1}if(Q)return t=tt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==oo&&(e=Error(T(422),{cause:n}),Bi(ot(e,a)))):(n!==oo&&(t=Error(T(423),{cause:n}),Bi(ot(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=ot(n,a),i=So(e.stateNode,n,i),fr(e,i),he!==4&&(he=2)),!1;var l=Error(T(520),{cause:n});if(l=ot(l,a),Ai===null?Ai=[l]:Ai.push(l),he!==4&&(he=2),t===null)return!0;n=ot(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=So(a.stateNode,n,e),fr(a,e),!1;case 1:if(t=a.type,l=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(ga===null||!ga.has(l))))return a.flags|=65536,i&=-i,a.lanes|=i,i=Pf(i),Wf(i,e,a,n),fr(a,i),!1}a=a.return}while(a!==null);return!1}var Bu=Error(T(461)),be=!1;function Ne(e,t,a,n){t.child=e===null?hf(t,null,a,n):Ka(t,e.child,a,n)}function Yc(e,t,a,n,i){a=a.render;var l=t.ref;if("ref"in n){var s={};for(var r in n)r!=="ref"&&(s[r]=n[r])}else s=n;return Va(t),n=Tu(e,t,a,s,l,i),r=Au(),e!==null&&!be?(Ou(e,t,i),Qt(e,t,i)):(Q&&r&&pu(t),t.flags|=1,Ne(e,t,n,i),t.child)}function Qc(e,t,a,n,i){if(e===null){var l=a.type;return typeof l=="function"&&!vu(l)&&l.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=l,Ff(e,t,l,n,i)):(e=ql(a.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!Lu(e,i)){var s=l.memoizedProps;if(a=a.compare,a=a!==null?a:zi,a(s,n)&&e.ref===t.ref)return Qt(e,t,i)}return t.flags|=1,e=Ht(l,n),e.ref=t.ref,e.return=t,t.child=e}function Ff(e,t,a,n,i){if(e!==null){var l=e.memoizedProps;if(zi(l,n)&&e.ref===t.ref)if(be=!1,t.pendingProps=n=l,Lu(e,i))e.flags&131072&&(be=!0);else return t.lanes=e.lanes,Qt(e,t,i)}return xo(e,t,a,n,i)}function e0(e,t,a,n){var i=n.children,l=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(l=l!==null?l.baseLanes|a:a,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~l}else n=0,t.child=null;return Xc(e,t,l,a,n)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hl(t,l!==null?l.cachePool:null),l!==null?zc(t,l):vo(),mf(t);else return n=t.lanes=536870912,Xc(e,t,l!==null?l.baseLanes|a:a,a,n)}else l!==null?(Hl(t,l.cachePool),zc(t,l),aa(),t.memoizedState=null):(e!==null&&Hl(t,null),vo(),aa());return Ne(e,t,i,a),t.child}function hi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Xc(e,t,a,n,i){var l=_u();return l=l===null?null:{parent:ye._currentValue,pool:l},t.memoizedState={baseLanes:a,cachePool:l},e!==null&&Hl(t,null),vo(),mf(t),e!==null&&Jn(e,t,n,!0),t.childLanes=i,null}function Vl(e,t){return t=ds({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Jc(e,t,a){return Ka(t,e.child,null,a),e=Vl(t,t.pendingProps),e.flags|=2,Qe(t),t.memoizedState=null,e}function Sv(e,t,a){var n=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Q){if(n.mode==="hidden")return e=Vl(t,n),t.lanes=536870912,hi(null,e);if(po(t),(e=ie)?(e=Q0(e,ut),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ba!==null?{id:wt,overflow:St}:null,retryLane:536870912,hydrationErrors:null},a=lf(e),a.return=t,t.child=a,Ce=t,ie=null)):e=null,e===null)throw _a(t);return t.lanes=536870912,null}return Vl(t,n)}var l=e.memoizedState;if(l!==null){var s=l.dehydrated;if(po(t),i)if(t.flags&256)t.flags&=-257,t=Jc(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(T(558));else if(be||Jn(e,t,a,!1),i=(a&e.childLanes)!==0,be||i){if(n=ee,n!==null&&(s=Rh(n,a),s!==0&&s!==l.retryLane))throw l.retryLane=s,Za(e,s),$e(n,e,s),Bu;ms(),t=Jc(e,t,a)}else e=l.treeContext,ie=dt(s.nextSibling),Ce=t,Q=!0,da=null,ut=!1,e!==null&&rf(t,e),t=Vl(t,n),t.flags|=4096;return t}return e=Ht(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Kl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(T(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function xo(e,t,a,n,i){return Va(t),a=Tu(e,t,a,n,void 0,i),n=Au(),e!==null&&!be?(Ou(e,t,i),Qt(e,t,i)):(Q&&n&&pu(t),t.flags|=1,Ne(e,t,a,i),t.child)}function Ic(e,t,a,n,i,l){return Va(t),t.updateQueue=null,a=pf(t,n,a,i),vf(e),n=Au(),e!==null&&!be?(Ou(e,t,l),Qt(e,t,l)):(Q&&n&&pu(t),t.flags|=1,Ne(e,t,a,l),t.child)}function Zc(e,t,a,n,i){if(Va(t),t.stateNode===null){var l=wn,s=a.contextType;typeof s=="object"&&s!==null&&(l=ke(s)),l=new a(n,l),t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=wo,t.stateNode=l,l._reactInternals=t,l=t.stateNode,l.props=n,l.state=t.memoizedState,l.refs={},Su(t),s=a.contextType,l.context=typeof s=="object"&&s!==null?ke(s):wn,l.state=t.memoizedState,s=a.getDerivedStateFromProps,typeof s=="function"&&(mr(t,a,s,n),l.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(s=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),s!==l.state&&wo.enqueueReplaceState(l,l.state,null),Si(t,n,l,i),wi(),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){l=t.stateNode;var r=t.memoizedProps,o=Qa(a,r);l.props=o;var u=l.context,d=a.contextType;s=wn,typeof d=="object"&&d!==null&&(s=ke(d));var p=a.getDerivedStateFromProps;d=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(r||u!==s)&&Vc(t,l,n,s),Wt=!1;var f=t.memoizedState;l.state=f,Si(t,n,l,i),wi(),u=t.memoizedState,r||f!==u||Wt?(typeof p=="function"&&(mr(t,a,p,n),u=t.memoizedState),(o=Wt||Gc(t,a,o,n,f,u,s))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),l.props=n,l.state=u,l.context=s,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,go(e,t),s=t.memoizedProps,d=Qa(a,s),l.props=d,p=t.pendingProps,f=l.context,u=a.contextType,o=wn,typeof u=="object"&&u!==null&&(o=ke(u)),r=a.getDerivedStateFromProps,(u=typeof r=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==p||f!==o)&&Vc(t,l,n,o),Wt=!1,f=t.memoizedState,l.state=f,Si(t,n,l,i),wi();var g=t.memoizedState;s!==p||f!==g||Wt||e!==null&&e.dependencies!==null&&is(e.dependencies)?(typeof r=="function"&&(mr(t,a,r,n),g=t.memoizedState),(d=Wt||Gc(t,a,d,n,f,g,o)||e!==null&&e.dependencies!==null&&is(e.dependencies))?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,g,o),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,g,o)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),l.props=n,l.state=g,l.context=o,n=d):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return l=n,Kl(e,t),n=(t.flags&128)!==0,l||n?(l=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:l.render(),t.flags|=1,e!==null&&n?(t.child=Ka(t,e.child,null,i),t.child=Ka(t,null,a,i)):Ne(e,t,a,i),t.memoizedState=l.state,e=t.child):e=Qt(e,t,i),e}function Pc(e,t,a,n){return Ga(),t.flags|=256,Ne(e,t,a,n),t.child}var vr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pr(e){return{baseLanes:e,cachePool:uf()}}function yr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ie),e}function t0(e,t,a){var n=t.pendingProps,i=!1,l=(t.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),s&&(i=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(Q){if(i?ta(t):aa(),(e=ie)?(e=Q0(e,ut),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ba!==null?{id:wt,overflow:St}:null,retryLane:536870912,hydrationErrors:null},a=lf(e),a.return=t,t.child=a,Ce=t,ie=null)):e=null,e===null)throw _a(t);return Bo(e)?t.lanes=32:t.lanes=536870912,null}var r=n.children;return n=n.fallback,i?(aa(),i=t.mode,r=ds({mode:"hidden",children:r},i),n=La(n,i,a,null),r.return=t,n.return=t,r.sibling=n,t.child=r,n=t.child,n.memoizedState=pr(a),n.childLanes=yr(e,s,a),t.memoizedState=vr,hi(null,n)):(ta(t),Eo(t,r))}var o=e.memoizedState;if(o!==null&&(r=o.dehydrated,r!==null)){if(l)t.flags&256?(ta(t),t.flags&=-257,t=br(e,t,a)):t.memoizedState!==null?(aa(),t.child=e.child,t.flags|=128,t=null):(aa(),r=n.fallback,i=t.mode,n=ds({mode:"visible",children:n.children},i),r=La(r,i,a,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,Ka(t,e.child,null,a),n=t.child,n.memoizedState=pr(a),n.childLanes=yr(e,s,a),t.memoizedState=vr,t=hi(null,n));else if(ta(t),Bo(r)){if(s=r.nextSibling&&r.nextSibling.dataset,s)var u=s.dgst;s=u,n=Error(T(419)),n.stack="",n.digest=s,Bi({value:n,source:null,stack:null}),t=br(e,t,a)}else if(be||Jn(e,t,a,!1),s=(a&e.childLanes)!==0,be||s){if(s=ee,s!==null&&(n=Rh(s,a),n!==0&&n!==o.retryLane))throw o.retryLane=n,Za(e,n),$e(s,e,n),Bu;Mo(r)||ms(),t=br(e,t,a)}else Mo(r)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,ie=dt(r.nextSibling),Ce=t,Q=!0,da=null,ut=!1,e!==null&&rf(t,e),t=Eo(t,n.children),t.flags|=4096);return t}return i?(aa(),r=n.fallback,i=t.mode,o=e.child,u=o.sibling,n=Ht(o,{mode:"hidden",children:n.children}),n.subtreeFlags=o.subtreeFlags&65011712,u!==null?r=Ht(u,r):(r=La(r,i,a,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,hi(null,n),n=t.child,r=e.child.memoizedState,r===null?r=pr(a):(i=r.cachePool,i!==null?(o=ye._currentValue,i=i.parent!==o?{parent:o,pool:o}:i):i=uf(),r={baseLanes:r.baseLanes|a,cachePool:i}),n.memoizedState=r,n.childLanes=yr(e,s,a),t.memoizedState=vr,hi(e.child,n)):(ta(t),a=e.child,e=a.sibling,a=Ht(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a)}function Eo(e,t){return t=ds({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ds(e,t){return e=Xe(22,e,null,t),e.lanes=0,e}function br(e,t,a){return Ka(t,e.child,null,a),e=Eo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wc(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),co(e.return,t,a)}function _r(e,t,a,n,i,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i,treeForkCount:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=a,s.tailMode=i,s.treeForkCount=l)}function a0(e,t,a){var n=t.pendingProps,i=n.revealOrder,l=n.tail;n=n.children;var s=fe.current,r=(s&2)!==0;if(r?(s=s&1|2,t.flags|=128):s&=1,ae(fe,s),Ne(e,t,n,a),n=Q?Mi:0,!r&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wc(e,a,t);else if(e.tag===19)Wc(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&rs(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),_r(t,!1,i,a,l,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&rs(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}_r(t,!0,a,null,l,n);break;case"together":_r(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Qt(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Sa|=t.lanes,!(a&t.childLanes))if(e!==null){if(Jn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,a=Ht(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Ht(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Lu(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&is(e)))}function xv(e,t,a){switch(t.tag){case 3:Pl(t,t.stateNode.containerInfo),ea(t,ye,e.memoizedState.cache),Ga();break;case 27:case 5:Pr(t);break;case 4:Pl(t,t.stateNode.containerInfo);break;case 10:ea(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,po(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(ta(t),t.flags|=128,null):a&t.child.childLanes?t0(e,t,a):(ta(t),e=Qt(e,t,a),e!==null?e.sibling:null);ta(t);break;case 19:var i=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Jn(e,t,a,!1),n=(a&t.childLanes)!==0),i){if(n)return a0(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ae(fe,fe.current),n)break;return null;case 22:return t.lanes=0,e0(e,t,a,t.pendingProps);case 24:ea(t,ye,e.memoizedState.cache)}return Qt(e,t,a)}function n0(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)be=!0;else{if(!Lu(e,a)&&!(t.flags&128))return be=!1,xv(e,t,a);be=!!(e.flags&131072)}else be=!1,Q&&t.flags&1048576&&sf(t,Mi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Ca(t.elementType),t.type=e,typeof e=="function")vu(e)?(n=Qa(e,n),t.tag=1,t=Zc(null,t,e,n,a)):(t.tag=0,t=xo(null,t,e,n,a));else{if(e!=null){var i=e.$$typeof;if(i===au){t.tag=11,t=Yc(null,t,e,n,a);break e}else if(i===nu){t.tag=14,t=Qc(null,t,e,n,a);break e}}throw t=Ir(e)||e,Error(T(306,t,""))}}return t;case 0:return xo(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,i=Qa(n,t.pendingProps),Zc(e,t,n,i,a);case 3:e:{if(Pl(t,t.stateNode.containerInfo),e===null)throw Error(T(387));n=t.pendingProps;var l=t.memoizedState;i=l.element,go(e,t),Si(t,n,null,a);var s=t.memoizedState;if(n=s.cache,ea(t,ye,n),n!==l.cache&&ho(t,[ye],a,!0),wi(),n=s.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){t=Pc(e,t,n,a);break e}else if(n!==i){i=ot(Error(T(424)),t),Bi(i),t=Pc(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=dt(e.firstChild),Ce=t,Q=!0,da=null,ut=!0,a=hf(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ga(),n===i){t=Qt(e,t,a);break e}Ne(e,t,n,a)}t=t.child}return t;case 26:return Kl(e,t),e===null?(a=yd(t.type,null,t.pendingProps,null))?t.memoizedState=a:Q||(a=t.type,e=t.pendingProps,n=bs(ca.current).createElement(a),n[Re]=t,n[Ge]=e,Ue(n,a,e),Ee(n),t.stateNode=n):t.memoizedState=yd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Pr(t),e===null&&Q&&(n=t.stateNode=X0(t.type,t.pendingProps,ca.current),Ce=t,ut=!0,i=ie,Ea(t.type)?(Lo=i,ie=dt(n.firstChild)):ie=i),Ne(e,t,t.pendingProps.children,a),Kl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Q&&((i=n=ie)&&(n=Fv(n,t.type,t.pendingProps,ut),n!==null?(t.stateNode=n,Ce=t,ie=dt(n.firstChild),ut=!1,i=!0):i=!1),i||_a(t)),Pr(t),i=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,n=l.children,Do(i,l)?n=null:s!==null&&Do(i,s)&&(t.flags|=32),t.memoizedState!==null&&(i=Tu(e,t,gv,null,null,a),Vi._currentValue=i),Kl(e,t),Ne(e,t,n,a),t.child;case 6:return e===null&&Q&&((e=a=ie)&&(a=ep(a,t.pendingProps,ut),a!==null?(t.stateNode=a,Ce=t,ie=null,e=!0):e=!1),e||_a(t)),null;case 13:return t0(e,t,a);case 4:return Pl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ka(t,null,n,a):Ne(e,t,n,a),t.child;case 11:return Yc(e,t,t.type,t.pendingProps,a);case 7:return Ne(e,t,t.pendingProps,a),t.child;case 8:return Ne(e,t,t.pendingProps.children,a),t.child;case 12:return Ne(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,ea(t,t.type,n.value),Ne(e,t,n.children,a),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,Va(t),i=ke(i),n=n(i),t.flags|=1,Ne(e,t,n,a),t.child;case 14:return Qc(e,t,t.type,t.pendingProps,a);case 15:return Ff(e,t,t.type,t.pendingProps,a);case 19:return a0(e,t,a);case 31:return Sv(e,t,a);case 22:return e0(e,t,a,t.pendingProps);case 24:return Va(t),n=ke(ye),e===null?(i=_u(),i===null&&(i=ee,l=bu(),i.pooledCache=l,l.refCount++,l!==null&&(i.pooledCacheLanes|=a),i=l),t.memoizedState={parent:n,cache:i},Su(t),ea(t,ye,i)):(e.lanes&a&&(go(e,t),Si(t,null,null,a),wi()),i=e.memoizedState,l=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),ea(t,ye,n)):(n=l.cache,ea(t,ye,n),n!==i.cache&&ho(t,[ye],a,!0))),Ne(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(T(156,t.tag))}function Rt(e){e.flags|=4}function wr(e,t,a,n,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(O0())e.flags|=8192;else throw Ha=ls,wu}else e.flags&=-16777217}function Fc(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Z0(t))if(O0())e.flags|=8192;else throw Ha=ls,wu}function Sl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Oh():536870912,e.lanes|=t,Hn|=t)}function li(e,t){if(!Q)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Ev(e,t,a){var n=t.pendingProps;switch(yu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(t),null;case 1:return ne(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),$t(ye),Dn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Wa(t)?Rt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hr())),ne(t),null;case 26:var i=t.type,l=t.memoizedState;return e===null?(Rt(t),l!==null?(ne(t),Fc(t,l)):(ne(t),wr(t,i,null,n,a))):l?l!==e.memoizedState?(Rt(t),ne(t),Fc(t,l)):(ne(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Rt(t),ne(t),wr(t,i,e,n,a)),null;case 27:if(Wl(t),a=ca.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Rt(t);else{if(!n){if(t.stateNode===null)throw Error(T(166));return ne(t),null}e=Et.current,Wa(t)?jc(t):(e=X0(i,n,a),t.stateNode=e,Rt(t))}return ne(t),null;case 5:if(Wl(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Rt(t);else{if(!n){if(t.stateNode===null)throw Error(T(166));return ne(t),null}if(l=Et.current,Wa(t))jc(t);else{var s=bs(ca.current);switch(l){case 1:l=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:l=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":l=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":l=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":l=s.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof n.is=="string"?s.createElement("select",{is:n.is}):s.createElement("select"),n.multiple?l.multiple=!0:n.size&&(l.size=n.size);break;default:l=typeof n.is=="string"?s.createElement(i,{is:n.is}):s.createElement(i)}}l[Re]=t,l[Ge]=n;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)l.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=l;e:switch(Ue(l,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Rt(t)}}return ne(t),wr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Rt(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(e=ca.current,Wa(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,i=Ce,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[Re]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||V0(e.nodeValue,a)),e||_a(t,!0)}else e=bs(e).createTextNode(n),e[Re]=t,t.stateNode=e}return ne(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=Wa(t),a!==null){if(e===null){if(!n)throw Error(T(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(557));e[Re]=t}else Ga(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ne(t),e=!1}else a=hr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Qe(t),t):(Qe(t),null);if(t.flags&128)throw Error(T(558))}return ne(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Wa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Re]=t}else Ga(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ne(t),i=!1}else i=hr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Qe(t),t):(Qe(t),null)}return Qe(t),t.flags&128?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Sl(t,t.updateQueue),ne(t),null);case 4:return Dn(),e===null&&Yu(t.stateNode.containerInfo),ne(t),null;case 10:return $t(t.type),ne(t),null;case 19:if(Te(fe),n=t.memoizedState,n===null)return ne(t),null;if(i=(t.flags&128)!==0,l=n.rendering,l===null)if(i)li(n,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=rs(e),l!==null){for(t.flags|=128,li(n,!1),e=l.updateQueue,t.updateQueue=e,Sl(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)nf(a,e),a=a.sibling;return ae(fe,fe.current&1|2),Q&&zt(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&Ze()>fs&&(t.flags|=128,i=!0,li(n,!1),t.lanes=4194304)}else{if(!i)if(e=rs(l),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Sl(t,e),li(n,!0),n.tail===null&&n.tailMode==="hidden"&&!l.alternate&&!Q)return ne(t),null}else 2*Ze()-n.renderingStartTime>fs&&a!==536870912&&(t.flags|=128,i=!0,li(n,!1),t.lanes=4194304);n.isBackwards?(l.sibling=t.child,t.child=l):(e=n.last,e!==null?e.sibling=l:t.child=l,n.last=l)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=Ze(),e.sibling=null,a=fe.current,ae(fe,i?a&1|2:a&1),Q&&zt(t,n.treeForkCount),e):(ne(t),null);case 22:case 23:return Qe(t),xu(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?a&536870912&&!(t.flags&128)&&(ne(t),t.subtreeFlags&6&&(t.flags|=8192)):ne(t),a=t.updateQueue,a!==null&&Sl(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&Te(qa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),$t(ye),ne(t),null;case 25:return null;case 30:return null}throw Error(T(156,t.tag))}function Tv(e,t){switch(yu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $t(ye),Dn(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Wl(t),null;case 31:if(t.memoizedState!==null){if(Qe(t),t.alternate===null)throw Error(T(340));Ga()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Qe(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Ga()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(fe),null;case 4:return Dn(),null;case 10:return $t(t.type),null;case 22:case 23:return Qe(t),xu(),e!==null&&Te(qa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return $t(ye),null;case 25:return null;default:return null}}function i0(e,t){switch(yu(t),t.tag){case 3:$t(ye),Dn();break;case 26:case 27:case 5:Wl(t);break;case 4:Dn();break;case 31:t.memoizedState!==null&&Qe(t);break;case 13:Qe(t);break;case 19:Te(fe);break;case 10:$t(t.type);break;case 22:case 23:Qe(t),xu(),e!==null&&Te(qa);break;case 24:$t(ye)}}function rl(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){n=void 0;var l=a.create,s=a.inst;n=l(),s.destroy=n}a=a.next}while(a!==i)}}catch(r){P(t,t.return,r)}}function wa(e,t,a){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var l=i.next;n=l;do{if((n.tag&e)===e){var s=n.inst,r=s.destroy;if(r!==void 0){s.destroy=void 0,i=t;var o=a,u=r;try{u()}catch(d){P(i,o,d)}}}n=n.next}while(n!==l)}}catch(d){P(t,t.return,d)}}function l0(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{gf(t,a)}catch(n){P(e,e.return,n)}}}function s0(e,t,a){a.props=Qa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){P(e,t,n)}}function Ei(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(i){P(e,t,i)}}function xt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(i){P(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){P(e,t,i)}else a.current=null}function r0(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(i){P(e,e.return,i)}}function Sr(e,t,a){try{var n=e.stateNode;Xv(n,e.type,a,t),n[Ge]=t}catch(i){P(e,e.return,i)}}function o0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ea(e.type)||e.tag===4}function xr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||o0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ea(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function To(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Lt));else if(n!==4&&(n===27&&Ea(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(To(e,t,a),e=e.sibling;e!==null;)To(e,t,a),e=e.sibling}function hs(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Ea(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(hs(e,t,a),e=e.sibling;e!==null;)hs(e,t,a),e=e.sibling}function u0(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ue(t,n,a),t[Re]=e,t[Ge]=a}catch(l){P(e,e.return,l)}}var Mt=!1,pe=!1,Er=!1,ed=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Av(e,t){if(e=e.containerInfo,ko=xs,e=Ih(e),fu(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var i=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var s=0,r=-1,o=-1,u=0,d=0,p=e,f=null;t:for(;;){for(var g;p!==a||i!==0&&p.nodeType!==3||(r=s+i),p!==l||n!==0&&p.nodeType!==3||(o=s+n),p.nodeType===3&&(s+=p.nodeValue.length),(g=p.firstChild)!==null;)f=p,p=g;for(;;){if(p===e)break t;if(f===a&&++u===i&&(r=s),f===l&&++d===n&&(o=s),(g=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=g}a=r===-1||o===-1?null:{start:r,end:o}}else a=null}a=a||{start:0,end:0}}else a=null;for(Uo={focusedElem:e,selectionRange:a},xs=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){switch(t=xe,l=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)i=e[a],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&l!==null){e=void 0,a=t,i=l.memoizedProps,l=l.memoizedState,n=a.stateNode;try{var y=Qa(a.type,i);e=n.getSnapshotBeforeUpdate(y,l),n.__reactInternalSnapshotBeforeUpdate=e}catch(_){P(a,a.return,_)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)zo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(T(163))}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}}function c0(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:kt(e,a),n&4&&rl(5,a);break;case 1:if(kt(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(s){P(a,a.return,s)}else{var i=Qa(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){P(a,a.return,s)}}n&64&&l0(a),n&512&&Ei(a,a.return);break;case 3:if(kt(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{gf(e,t)}catch(s){P(a,a.return,s)}}break;case 27:t===null&&n&4&&u0(a);case 26:case 5:kt(e,a),t===null&&n&4&&r0(a),n&512&&Ei(a,a.return);break;case 12:kt(e,a);break;case 31:kt(e,a),n&4&&f0(e,a);break;case 13:kt(e,a),n&4&&g0(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=zv.bind(null,a),tp(e,a))));break;case 22:if(n=a.memoizedState!==null||Mt,!n){t=t!==null&&t.memoizedState!==null||pe,i=Mt;var l=pe;Mt=n,(pe=t)&&!l?Ut(e,a,(a.subtreeFlags&8772)!==0):kt(e,a),Mt=i,pe=l}break;case 30:break;default:kt(e,a)}}function d0(e){var t=e.alternate;t!==null&&(e.alternate=null,d0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ru(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,qe=!1;function Ct(e,t,a){for(a=a.child;a!==null;)h0(e,t,a),a=a.sibling}function h0(e,t,a){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(el,a)}catch{}switch(a.tag){case 26:pe||xt(a,t),Ct(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pe||xt(a,t);var n=re,i=qe;Ea(a.type)&&(re=a.stateNode,qe=!1),Ct(e,t,a),ji(a.stateNode),re=n,qe=i;break;case 5:pe||xt(a,t);case 6:if(n=re,i=qe,re=null,Ct(e,t,a),re=n,qe=i,re!==null)if(qe)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(l){P(a,t,l)}else try{re.removeChild(a.stateNode)}catch(l){P(a,t,l)}break;case 18:re!==null&&(qe?(e=re,fd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Kn(e)):fd(re,a.stateNode));break;case 4:n=re,i=qe,re=a.stateNode.containerInfo,qe=!0,Ct(e,t,a),re=n,qe=i;break;case 0:case 11:case 14:case 15:wa(2,a,t),pe||wa(4,a,t),Ct(e,t,a);break;case 1:pe||(xt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&s0(a,t,n)),Ct(e,t,a);break;case 21:Ct(e,t,a);break;case 22:pe=(n=pe)||a.memoizedState!==null,Ct(e,t,a),pe=n;break;default:Ct(e,t,a)}}function f0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Kn(e)}catch(a){P(t,t.return,a)}}}function g0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Kn(e)}catch(a){P(t,t.return,a)}}function Ov(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ed),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ed),t;default:throw Error(T(435,e.tag))}}function xl(e,t){var a=Ov(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var i=Mv.bind(null,e,n);n.then(i,i)}})}function Be(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n],l=e,s=t,r=s;e:for(;r!==null;){switch(r.tag){case 27:if(Ea(r.type)){re=r.stateNode,qe=!1;break e}break;case 5:re=r.stateNode,qe=!1;break e;case 3:case 4:re=r.stateNode.containerInfo,qe=!0;break e}r=r.return}if(re===null)throw Error(T(160));h0(l,s,i),re=null,qe=!1,l=i.alternate,l!==null&&(l.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)m0(t,e),t=t.sibling}var vt=null;function m0(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Be(t,e),Le(e),n&4&&(wa(3,e,e.return),rl(3,e),wa(5,e,e.return));break;case 1:Be(t,e),Le(e),n&512&&(pe||a===null||xt(a,a.return)),n&64&&Mt&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var i=vt;if(Be(t,e),Le(e),n&512&&(pe||a===null||xt(a,a.return)),n&4){var l=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":l=i.getElementsByTagName("title")[0],(!l||l[nl]||l[Re]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=i.createElement(n),i.head.insertBefore(l,i.querySelector("head > title"))),Ue(l,n,a),l[Re]=e,Ee(l),n=l;break e;case"link":var s=_d("link","href",i).get(n+(a.href||""));if(s){for(var r=0;r<s.length;r++)if(l=s[r],l.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&l.getAttribute("rel")===(a.rel==null?null:a.rel)&&l.getAttribute("title")===(a.title==null?null:a.title)&&l.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){s.splice(r,1);break t}}l=i.createElement(n),Ue(l,n,a),i.head.appendChild(l);break;case"meta":if(s=_d("meta","content",i).get(n+(a.content||""))){for(r=0;r<s.length;r++)if(l=s[r],l.getAttribute("content")===(a.content==null?null:""+a.content)&&l.getAttribute("name")===(a.name==null?null:a.name)&&l.getAttribute("property")===(a.property==null?null:a.property)&&l.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&l.getAttribute("charset")===(a.charSet==null?null:a.charSet)){s.splice(r,1);break t}}l=i.createElement(n),Ue(l,n,a),i.head.appendChild(l);break;default:throw Error(T(468,n))}l[Re]=e,Ee(l),n=l}e.stateNode=n}else wd(i,e.type,e.stateNode);else e.stateNode=bd(i,n,e.memoizedProps);else l!==n?(l===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):l.count--,n===null?wd(i,e.type,e.stateNode):bd(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Sr(e,e.memoizedProps,a.memoizedProps)}break;case 27:Be(t,e),Le(e),n&512&&(pe||a===null||xt(a,a.return)),a!==null&&n&4&&Sr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Be(t,e),Le(e),n&512&&(pe||a===null||xt(a,a.return)),e.flags&32){i=e.stateNode;try{Mn(i,"")}catch(y){P(e,e.return,y)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,Sr(e,i,a!==null?a.memoizedProps:i)),n&1024&&(Er=!0);break;case 6:if(Be(t,e),Le(e),n&4){if(e.stateNode===null)throw Error(T(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(y){P(e,e.return,y)}}break;case 3:if(Xl=null,i=vt,vt=_s(t.containerInfo),Be(t,e),vt=i,Le(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Kn(t.containerInfo)}catch(y){P(e,e.return,y)}Er&&(Er=!1,v0(e));break;case 4:n=vt,vt=_s(e.stateNode.containerInfo),Be(t,e),Le(e),vt=n;break;case 12:Be(t,e),Le(e);break;case 31:Be(t,e),Le(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,xl(e,n)));break;case 13:Be(t,e),Le(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gs=Ze()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,xl(e,n)));break;case 22:i=e.memoizedState!==null;var o=a!==null&&a.memoizedState!==null,u=Mt,d=pe;if(Mt=u||i,pe=d||o,Be(t,e),pe=d,Mt=u,Le(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||o||Mt||pe||ka(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){o=a=t;try{if(l=o.stateNode,i)s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{r=o.stateNode;var p=o.memoizedProps.style,f=p!=null&&p.hasOwnProperty("display")?p.display:null;r.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(y){P(o,o.return,y)}}}else if(t.tag===6){if(a===null){o=t;try{o.stateNode.nodeValue=i?"":o.memoizedProps}catch(y){P(o,o.return,y)}}}else if(t.tag===18){if(a===null){o=t;try{var g=o.stateNode;i?gd(g,!0):gd(o.stateNode,!1)}catch(y){P(o,o.return,y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,xl(e,a))));break;case 19:Be(t,e),Le(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,xl(e,n)));break;case 30:break;case 21:break;default:Be(t,e),Le(e)}}function Le(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(o0(n)){a=n;break}n=n.return}if(a==null)throw Error(T(160));switch(a.tag){case 27:var i=a.stateNode,l=xr(e);hs(e,l,i);break;case 5:var s=a.stateNode;a.flags&32&&(Mn(s,""),a.flags&=-33);var r=xr(e);hs(e,r,s);break;case 3:case 4:var o=a.stateNode.containerInfo,u=xr(e);To(e,u,o);break;default:throw Error(T(161))}}catch(d){P(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function v0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;v0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function kt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)c0(e,t.alternate,t),t=t.sibling}function ka(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:wa(4,t,t.return),ka(t);break;case 1:xt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&s0(t,t.return,a),ka(t);break;case 27:ji(t.stateNode);case 26:case 5:xt(t,t.return),ka(t);break;case 22:t.memoizedState===null&&ka(t);break;case 30:ka(t);break;default:ka(t)}e=e.sibling}}function Ut(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,l=t,s=l.flags;switch(l.tag){case 0:case 11:case 15:Ut(i,l,a),rl(4,l);break;case 1:if(Ut(i,l,a),n=l,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){P(n,n.return,u)}if(n=l,i=n.updateQueue,i!==null){var r=n.stateNode;try{var o=i.shared.hiddenCallbacks;if(o!==null)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)ff(o[i],r)}catch(u){P(n,n.return,u)}}a&&s&64&&l0(l),Ei(l,l.return);break;case 27:u0(l);case 26:case 5:Ut(i,l,a),a&&n===null&&s&4&&r0(l),Ei(l,l.return);break;case 12:Ut(i,l,a);break;case 31:Ut(i,l,a),a&&s&4&&f0(i,l);break;case 13:Ut(i,l,a),a&&s&4&&g0(i,l);break;case 22:l.memoizedState===null&&Ut(i,l,a),Ei(l,l.return);break;case 30:break;default:Ut(i,l,a)}t=t.sibling}}function qu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ll(a))}function Hu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ll(e))}function ft(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)p0(e,t,a,n),t=t.sibling}function p0(e,t,a,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ft(e,t,a,n),i&2048&&rl(9,t);break;case 1:ft(e,t,a,n);break;case 3:ft(e,t,a,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ll(e)));break;case 12:if(i&2048){ft(e,t,a,n),e=t.stateNode;try{var l=t.memoizedProps,s=l.id,r=l.onPostCommit;typeof r=="function"&&r(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){P(t,t.return,o)}}else ft(e,t,a,n);break;case 31:ft(e,t,a,n);break;case 13:ft(e,t,a,n);break;case 23:break;case 22:l=t.stateNode,s=t.alternate,t.memoizedState!==null?l._visibility&2?ft(e,t,a,n):Ti(e,t):l._visibility&2?ft(e,t,a,n):(l._visibility|=2,on(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),i&2048&&qu(s,t);break;case 24:ft(e,t,a,n),i&2048&&Hu(t.alternate,t);break;default:ft(e,t,a,n)}}function on(e,t,a,n,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var l=e,s=t,r=a,o=n,u=s.flags;switch(s.tag){case 0:case 11:case 15:on(l,s,r,o,i),rl(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?on(l,s,r,o,i):Ti(l,s):(d._visibility|=2,on(l,s,r,o,i)),i&&u&2048&&qu(s.alternate,s);break;case 24:on(l,s,r,o,i),i&&u&2048&&Hu(s.alternate,s);break;default:on(l,s,r,o,i)}t=t.sibling}}function Ti(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,i=n.flags;switch(n.tag){case 22:Ti(a,n),i&2048&&qu(n.alternate,n);break;case 24:Ti(a,n),i&2048&&Hu(n.alternate,n);break;default:Ti(a,n)}t=t.sibling}}var fi=8192;function Fa(e,t,a){if(e.subtreeFlags&fi)for(e=e.child;e!==null;)y0(e,t,a),e=e.sibling}function y0(e,t,a){switch(e.tag){case 26:Fa(e,t,a),e.flags&fi&&e.memoizedState!==null&&fp(a,vt,e.memoizedState,e.memoizedProps);break;case 5:Fa(e,t,a);break;case 3:case 4:var n=vt;vt=_s(e.stateNode.containerInfo),Fa(e,t,a),vt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=fi,fi=16777216,Fa(e,t,a),fi=n):Fa(e,t,a));break;default:Fa(e,t,a)}}function b0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function si(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];xe=n,w0(n,e)}b0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_0(e),e=e.sibling}function _0(e){switch(e.tag){case 0:case 11:case 15:si(e),e.flags&2048&&wa(9,e,e.return);break;case 3:si(e);break;case 12:si(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Yl(e)):si(e);break;default:si(e)}}function Yl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];xe=n,w0(n,e)}b0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:wa(8,t,t.return),Yl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Yl(t));break;default:Yl(t)}e=e.sibling}}function w0(e,t){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:wa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:ll(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,xe=n;else e:for(a=e;xe!==null;){n=xe;var i=n.sibling,l=n.return;if(d0(n),n===a){xe=null;break e}if(i!==null){i.return=l,xe=i;break e}xe=l}}}var jv={getCacheForType:function(e){var t=ke(ye),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ke(ye).controller.signal}},Nv=typeof WeakMap=="function"?WeakMap:Map,J=0,ee=null,K=null,Y=0,Z=0,Ye=null,ra=!1,Zn=!1,$u=!1,Xt=0,he=0,Sa=0,$a=0,Gu=0,Ie=0,Hn=0,Ai=null,He=null,Ao=!1,Gs=0,S0=0,fs=1/0,gs=null,ga=null,we=0,ma=null,$n=null,Gt=0,Oo=0,jo=null,x0=null,Oi=0,No=null;function Fe(){return J&2&&Y!==0?Y&-Y:q.T!==null?Ku():Ch()}function E0(){if(Ie===0)if(!(Y&536870912)||Q){var e=ml;ml<<=1,!(ml&3932160)&&(ml=262144),Ie=e}else Ie=536870912;return e=tt.current,e!==null&&(e.flags|=32),Ie}function $e(e,t,a){(e===ee&&(Z===2||Z===9)||e.cancelPendingCommit!==null)&&(Gn(e,0),oa(e,Y,Ie,!1)),al(e,a),(!(J&2)||e!==ee)&&(e===ee&&(!(J&2)&&($a|=a),he===4&&oa(e,Y,Ie,!1)),At(e))}function T0(e,t,a){if(J&6)throw Error(T(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||tl(e,t),i=n?kv(e,t):Tr(e,t,!0),l=n;do{if(i===0){Zn&&!n&&oa(e,t,0,!1);break}else{if(a=e.current.alternate,l&&!Rv(a)){i=Tr(e,t,!1),l=!1;continue}if(i===2){if(l=t,e.errorRecoveryDisabledLanes&l)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var r=e;i=Ai;var o=r.current.memoizedState.isDehydrated;if(o&&(Gn(r,s).flags|=256),s=Tr(r,s,!1),s!==2){if($u&&!o){r.errorRecoveryDisabledLanes|=l,$a|=l,i=4;break e}l=He,He=i,l!==null&&(He===null?He=l:He.push.apply(He,l))}i=s}if(l=!1,i!==2)continue}}if(i===1){Gn(e,0),oa(e,t,0,!0);break}e:{switch(n=e,l=i,l){case 0:case 1:throw Error(T(345));case 4:if((t&4194048)!==t)break;case 6:oa(n,t,Ie,!ra);break e;case 2:He=null;break;case 3:case 5:break;default:throw Error(T(329))}if((t&62914560)===t&&(i=Gs+300-Ze(),10<i)){if(oa(n,t,Ie,!ra),Cs(n,0,!0)!==0)break e;Gt=t,n.timeoutHandle=Y0(td.bind(null,n,a,He,gs,Ao,t,Ie,$a,Hn,ra,l,"Throttled",-0,0),i);break e}td(n,a,He,gs,Ao,t,Ie,$a,Hn,ra,l,null,-0,0)}}break}while(!0);At(e)}function td(e,t,a,n,i,l,s,r,o,u,d,p,f,g){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Lt},y0(t,l,p);var y=(l&62914560)===l?Gs-Ze():(l&4194048)===l?S0-Ze():0;if(y=gp(p,y),y!==null){Gt=l,e.cancelPendingCommit=y(nd.bind(null,e,t,l,a,n,i,s,r,o,d,p,null,f,g)),oa(e,l,s,!u);return}}nd(e,t,l,a,n,i,s,r,o)}function Rv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var i=a[n],l=i.getSnapshot;i=i.value;try{if(!et(l(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oa(e,t,a,n){t&=~Gu,t&=~$a,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var l=31-We(i),s=1<<l;n[l]=-1,i&=~s}a!==0&&jh(e,a,t)}function Vs(){return J&6?!0:(ol(0),!1)}function Vu(){if(K!==null){if(Z===0)var e=K.return;else e=K,qt=Pa=null,ju(e),Rn=null,Li=0,e=K;for(;e!==null;)i0(e.alternate,e),e=e.return;K=null}}function Gn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Zv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Gt=0,Vu(),ee=e,K=a=Ht(e.current,null),Y=t,Z=0,Ye=null,ra=!1,Zn=tl(e,t),$u=!1,Hn=Ie=Gu=$a=Sa=he=0,He=Ai=null,Ao=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-We(n),l=1<<i;t|=e[i],n&=~l}return Xt=t,zs(),a}function A0(e,t){$=null,q.H=Hi,t===In||t===Bs?(t=Uc(),Z=3):t===wu?(t=Uc(),Z=4):Z=t===Bu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ye=t,K===null&&(he=1,cs(e,ot(t,e.current)))}function O0(){var e=tt.current;return e===null?!0:(Y&4194048)===Y?ct===null:(Y&62914560)===Y||Y&536870912?e===ct:!1}function j0(){var e=q.H;return q.H=Hi,e===null?Hi:e}function N0(){var e=q.A;return q.A=jv,e}function ms(){he=4,ra||(Y&4194048)!==Y&&tt.current!==null||(Zn=!0),!(Sa&134217727)&&!($a&134217727)||ee===null||oa(ee,Y,Ie,!1)}function Tr(e,t,a){var n=J;J|=2;var i=j0(),l=N0();(ee!==e||Y!==t)&&(gs=null,Gn(e,t)),t=!1;var s=he;e:do try{if(Z!==0&&K!==null){var r=K,o=Ye;switch(Z){case 8:Vu(),s=6;break e;case 3:case 2:case 9:case 6:tt.current===null&&(t=!0);var u=Z;if(Z=0,Ye=null,En(e,r,o,u),a&&Zn){s=0;break e}break;default:u=Z,Z=0,Ye=null,En(e,r,o,u)}}Cv(),s=he;break}catch(d){A0(e,d)}while(!0);return t&&e.shellSuspendCounter++,qt=Pa=null,J=n,q.H=i,q.A=l,K===null&&(ee=null,Y=0,zs()),s}function Cv(){for(;K!==null;)R0(K)}function kv(e,t){var a=J;J|=2;var n=j0(),i=N0();ee!==e||Y!==t?(gs=null,fs=Ze()+500,Gn(e,t)):Zn=tl(e,t);e:do try{if(Z!==0&&K!==null){t=K;var l=Ye;t:switch(Z){case 1:Z=0,Ye=null,En(e,t,l,1);break;case 2:case 9:if(kc(l)){Z=0,Ye=null,ad(t);break}t=function(){Z!==2&&Z!==9||ee!==e||(Z=7),At(e)},l.then(t,t);break e;case 3:Z=7;break e;case 4:Z=5;break e;case 7:kc(l)?(Z=0,Ye=null,ad(t)):(Z=0,Ye=null,En(e,t,l,7));break;case 5:var s=null;switch(K.tag){case 26:s=K.memoizedState;case 5:case 27:var r=K;if(s?Z0(s):r.stateNode.complete){Z=0,Ye=null;var o=r.sibling;if(o!==null)K=o;else{var u=r.return;u!==null?(K=u,Ks(u)):K=null}break t}}Z=0,Ye=null,En(e,t,l,5);break;case 6:Z=0,Ye=null,En(e,t,l,6);break;case 8:Vu(),he=6;break e;default:throw Error(T(462))}}Uv();break}catch(d){A0(e,d)}while(!0);return qt=Pa=null,q.H=n,q.A=i,J=a,K!==null?0:(ee=null,Y=0,zs(),he)}function Uv(){for(;K!==null&&!am();)R0(K)}function R0(e){var t=n0(e.alternate,e,Xt);e.memoizedProps=e.pendingProps,t===null?Ks(e):K=t}function ad(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Ic(a,t,t.pendingProps,t.type,void 0,Y);break;case 11:t=Ic(a,t,t.pendingProps,t.type.render,t.ref,Y);break;case 5:ju(t);default:i0(a,t),t=K=nf(t,Xt),t=n0(a,t,Xt)}e.memoizedProps=e.pendingProps,t===null?Ks(e):K=t}function En(e,t,a,n){qt=Pa=null,ju(t),Rn=null,Li=0;var i=t.return;try{if(wv(e,i,t,a,Y)){he=1,cs(e,ot(a,e.current)),K=null;return}}catch(l){if(i!==null)throw K=i,l;he=1,cs(e,ot(a,e.current)),K=null;return}t.flags&32768?(Q||n===1?e=!0:Zn||Y&536870912?e=!1:(ra=e=!0,(n===2||n===9||n===3||n===6)&&(n=tt.current,n!==null&&n.tag===13&&(n.flags|=16384))),C0(t,e)):Ks(t)}function Ks(e){var t=e;do{if(t.flags&32768){C0(t,ra);return}e=t.return;var a=Ev(t.alternate,t,Xt);if(a!==null){K=a;return}if(t=t.sibling,t!==null){K=t;return}K=t=e}while(t!==null);he===0&&(he=5)}function C0(e,t){do{var a=Tv(e.alternate,e);if(a!==null){a.flags&=32767,K=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){K=e;return}K=e=a}while(e!==null);he=6,K=null}function nd(e,t,a,n,i,l,s,r,o){e.cancelPendingCommit=null;do Ys();while(we!==0);if(J&6)throw Error(T(327));if(t!==null){if(t===e.current)throw Error(T(177));if(l=t.lanes|t.childLanes,l|=gu,hm(e,a,l,s,r,o),e===ee&&(K=ee=null,Y=0),$n=t,ma=e,Gt=a,Oo=l,jo=i,x0=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Bv(Fl,function(){return M0(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=q.T,q.T=null,i=I.p,I.p=2,s=J,J|=4;try{Av(e,t,a)}finally{J=s,I.p=i,q.T=n}}we=1,k0(),U0(),D0()}}function k0(){if(we===1){we=0;var e=ma,t=$n,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=q.T,q.T=null;var n=I.p;I.p=2;var i=J;J|=4;try{m0(t,e);var l=Uo,s=Ih(e.containerInfo),r=l.focusedElem,o=l.selectionRange;if(s!==r&&r&&r.ownerDocument&&Jh(r.ownerDocument.documentElement,r)){if(o!==null&&fu(r)){var u=o.start,d=o.end;if(d===void 0&&(d=u),"selectionStart"in r)r.selectionStart=u,r.selectionEnd=Math.min(d,r.value.length);else{var p=r.ownerDocument||document,f=p&&p.defaultView||window;if(f.getSelection){var g=f.getSelection(),y=r.textContent.length,_=Math.min(o.start,y),S=o.end===void 0?_:Math.min(o.end,y);!g.extend&&_>S&&(s=S,S=_,_=s);var v=Tc(r,_),h=Tc(r,S);if(v&&h&&(g.rangeCount!==1||g.anchorNode!==v.node||g.anchorOffset!==v.offset||g.focusNode!==h.node||g.focusOffset!==h.offset)){var m=p.createRange();m.setStart(v.node,v.offset),g.removeAllRanges(),_>S?(g.addRange(m),g.extend(h.node,h.offset)):(m.setEnd(h.node,h.offset),g.addRange(m))}}}}for(p=[],g=r;g=g.parentNode;)g.nodeType===1&&p.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<p.length;r++){var b=p[r];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}xs=!!ko,Uo=ko=null}finally{J=i,I.p=n,q.T=a}}e.current=t,we=2}}function U0(){if(we===2){we=0;var e=ma,t=$n,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=q.T,q.T=null;var n=I.p;I.p=2;var i=J;J|=4;try{c0(e,t.alternate,t)}finally{J=i,I.p=n,q.T=a}}we=3}}function D0(){if(we===4||we===3){we=0,nm();var e=ma,t=$n,a=Gt,n=x0;t.subtreeFlags&10256||t.flags&10256?we=5:(we=0,$n=ma=null,z0(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(ga=null),su(a),t=t.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(el,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=q.T,i=I.p,I.p=2,q.T=null;try{for(var l=e.onRecoverableError,s=0;s<n.length;s++){var r=n[s];l(r.value,{componentStack:r.stack})}}finally{q.T=t,I.p=i}}Gt&3&&Ys(),At(e),i=e.pendingLanes,a&261930&&i&42?e===No?Oi++:(Oi=0,No=e):Oi=0,ol(0)}}function z0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ll(t)))}function Ys(){return k0(),U0(),D0(),M0()}function M0(){if(we!==5)return!1;var e=ma,t=Oo;Oo=0;var a=su(Gt),n=q.T,i=I.p;try{I.p=32>a?32:a,q.T=null,a=jo,jo=null;var l=ma,s=Gt;if(we=0,$n=ma=null,Gt=0,J&6)throw Error(T(331));var r=J;if(J|=4,_0(l.current),p0(l,l.current,s,a),J=r,ol(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(el,l)}catch{}return!0}finally{I.p=i,q.T=n,z0(e,t)}}function id(e,t,a){t=ot(a,t),t=So(e.stateNode,t,2),e=fa(e,t,2),e!==null&&(al(e,2),At(e))}function P(e,t,a){if(e.tag===3)id(e,e,a);else for(;t!==null;){if(t.tag===3){id(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ga===null||!ga.has(n))){e=ot(a,e),a=Pf(2),n=fa(t,a,2),n!==null&&(Wf(a,n,t,e),al(n,2),At(n));break}}t=t.return}}function Ar(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new Nv;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(a)||($u=!0,i.add(a),e=Dv.bind(null,e,t,a),t.then(e,e))}function Dv(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Y&a)===a&&(he===4||he===3&&(Y&62914560)===Y&&300>Ze()-Gs?!(J&2)&&Gn(e,0):Gu|=a,Hn===Y&&(Hn=0)),At(e)}function B0(e,t){t===0&&(t=Oh()),e=Za(e,t),e!==null&&(al(e,t),At(e))}function zv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),B0(e,a)}function Mv(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(T(314))}n!==null&&n.delete(t),B0(e,a)}function Bv(e,t){return iu(e,t)}var vs=null,un=null,Ro=!1,ps=!1,Or=!1,ua=0;function At(e){e!==un&&e.next===null&&(un===null?vs=un=e:un=un.next=e),ps=!0,Ro||(Ro=!0,qv())}function ol(e,t){if(!Or&&ps){Or=!0;do for(var a=!1,n=vs;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var l=0;else{var s=n.suspendedLanes,r=n.pingedLanes;l=(1<<31-We(42|e)+1)-1,l&=i&~(s&~r),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(a=!0,ld(n,l))}else l=Y,l=Cs(n,n===ee?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(l&3)||tl(n,l)||(a=!0,ld(n,l));n=n.next}while(a);Or=!1}}function Lv(){L0()}function L0(){ps=Ro=!1;var e=0;ua!==0&&Iv()&&(e=ua);for(var t=Ze(),a=null,n=vs;n!==null;){var i=n.next,l=q0(n,t);l===0?(n.next=null,a===null?vs=i:a.next=i,i===null&&(un=a)):(a=n,(e!==0||l&3)&&(ps=!0)),n=i}we!==0&&we!==5||ol(e),ua!==0&&(ua=0)}function q0(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes&-62914561;0<l;){var s=31-We(l),r=1<<s,o=i[s];o===-1?(!(r&a)||r&n)&&(i[s]=dm(r,t)):o<=t&&(e.expiredLanes|=r),l&=~r}if(t=ee,a=Y,a=Cs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Z===2||Z===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&tr(n),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||tl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&tr(n),su(a)){case 2:case 8:a=Th;break;case 32:a=Fl;break;case 268435456:a=Ah;break;default:a=Fl}return n=H0.bind(null,e),a=iu(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&tr(n),e.callbackPriority=2,e.callbackNode=null,2}function H0(e,t){if(we!==0&&we!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ys()&&e.callbackNode!==a)return null;var n=Y;return n=Cs(e,e===ee?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(T0(e,n,t),q0(e,Ze()),e.callbackNode!=null&&e.callbackNode===a?H0.bind(null,e):null)}function ld(e,t){if(Ys())return null;T0(e,t,!0)}function qv(){Pv(function(){J&6?iu(Eh,Lv):L0()})}function Ku(){if(ua===0){var e=Bn;e===0&&(e=gl,gl<<=1,!(gl&261888)&&(gl=256)),ua=e}return ua}function sd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ml(""+e)}function rd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Hv(e,t,a,n,i){if(t==="submit"&&a&&a.stateNode===i){var l=sd((i[Ge]||null).action),s=n.submitter;s&&(t=(t=s[Ge]||null)?sd(t.formAction):s.getAttribute("formAction"),t!==null&&(l=t,s=null));var r=new ks("action","action",null,n,i);e.push({event:r,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(ua!==0){var o=s?rd(i,s):new FormData(i);_o(a,{pending:!0,data:o,method:i.method,action:l},null,o)}}else typeof l=="function"&&(r.preventDefault(),o=s?rd(i,s):new FormData(i),_o(a,{pending:!0,data:o,method:i.method,action:l},l,o))},currentTarget:i}]})}}for(var jr=0;jr<ro.length;jr++){var Nr=ro[jr],$v=Nr.toLowerCase(),Gv=Nr[0].toUpperCase()+Nr.slice(1);yt($v,"on"+Gv)}yt(Ph,"onAnimationEnd");yt(Wh,"onAnimationIteration");yt(Fh,"onAnimationStart");yt("dblclick","onDoubleClick");yt("focusin","onFocus");yt("focusout","onBlur");yt(iv,"onTransitionRun");yt(lv,"onTransitionStart");yt(sv,"onTransitionCancel");yt(ef,"onTransitionEnd");zn("onMouseEnter",["mouseout","mouseover"]);zn("onMouseLeave",["mouseout","mouseover"]);zn("onPointerEnter",["pointerout","pointerover"]);zn("onPointerLeave",["pointerout","pointerover"]);Xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($i));function $0(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],i=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var s=n.length-1;0<=s;s--){var r=n[s],o=r.instance,u=r.currentTarget;if(r=r.listener,o!==l&&i.isPropagationStopped())break e;l=r,i.currentTarget=u;try{l(i)}catch(d){ts(d)}i.currentTarget=null,l=o}else for(s=0;s<n.length;s++){if(r=n[s],o=r.instance,u=r.currentTarget,r=r.listener,o!==l&&i.isPropagationStopped())break e;l=r,i.currentTarget=u;try{l(i)}catch(d){ts(d)}i.currentTarget=null,l=o}}}}function V(e,t){var a=t[Fr];a===void 0&&(a=t[Fr]=new Set);var n=e+"__bubble";a.has(n)||(G0(t,e,2,!1),a.add(n))}function Rr(e,t,a){var n=0;t&&(n|=4),G0(a,e,n,t)}var El="_reactListening"+Math.random().toString(36).slice(2);function Yu(e){if(!e[El]){e[El]=!0,kh.forEach(function(a){a!=="selectionchange"&&(Vv.has(a)||Rr(a,!1,e),Rr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[El]||(t[El]=!0,Rr("selectionchange",!1,t))}}function G0(e,t,a,n){switch(tg(t)){case 2:var i=pp;break;case 8:i=yp;break;default:i=Iu}a=i.bind(null,t,a,e),i=void 0,!io||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function Cr(e,t,a,n,i){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var r=n.stateNode.containerInfo;if(r===i)break;if(s===4)for(s=n.return;s!==null;){var o=s.tag;if((o===3||o===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;r!==null;){if(s=mn(r),s===null)return;if(o=s.tag,o===5||o===6||o===26||o===27){n=l=s;continue e}r=r.parentNode}}n=n.return}Hh(function(){var u=l,d=uu(a),p=[];e:{var f=tf.get(e);if(f!==void 0){var g=ks,y=e;switch(e){case"keypress":if(Ll(a)===0)break e;case"keydown":case"keyup":g=Mm;break;case"focusin":y="focus",g=sr;break;case"focusout":y="blur",g=sr;break;case"beforeblur":case"afterblur":g=sr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Em;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=qm;break;case Ph:case Wh:case Fh:g=Om;break;case ef:g=$m;break;case"scroll":case"scrollend":g=Sm;break;case"wheel":g=Vm;break;case"copy":case"cut":case"paste":g=Nm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=pc;break;case"toggle":case"beforetoggle":g=Ym}var _=(t&4)!==0,S=!_&&(e==="scroll"||e==="scrollend"),v=_?f!==null?f+"Capture":null:f;_=[];for(var h=u,m;h!==null;){var b=h;if(m=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||m===null||v===null||(b=Ui(h,v),b!=null&&_.push(Gi(h,b,m))),S)break;h=h.return}0<_.length&&(f=new g(f,y,null,a,d),p.push({event:f,listeners:_}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&a!==no&&(y=a.relatedTarget||a.fromElement)&&(mn(y)||y[Qn]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=a.relatedTarget||a.toElement,g=u,y=y?mn(y):null,y!==null&&(S=Fi(y),_=y.tag,y!==S||_!==5&&_!==27&&_!==6)&&(y=null)):(g=null,y=u),g!==y)){if(_=mc,b="onMouseLeave",v="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(_=pc,b="onPointerLeave",v="onPointerEnter",h="pointer"),S=g==null?f:di(g),m=y==null?f:di(y),f=new _(b,h+"leave",g,a,d),f.target=S,f.relatedTarget=m,b=null,mn(d)===u&&(_=new _(v,h+"enter",y,a,d),_.target=m,_.relatedTarget=S,b=_),S=b,g&&y)t:{for(_=Kv,v=g,h=y,m=0,b=v;b;b=_(b))m++;b=0;for(var O=h;O;O=_(O))b++;for(;0<m-b;)v=_(v),m--;for(;0<b-m;)h=_(h),b--;for(;m--;){if(v===h||h!==null&&v===h.alternate){_=v;break t}v=_(v),h=_(h)}_=null}else _=null;g!==null&&od(p,f,g,_,!1),y!==null&&S!==null&&od(p,S,y,_,!0)}}e:{if(f=u?di(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var j=wc;else if(_c(f))if(Qh)j=tv;else{j=Fm;var A=Wm}else g=f.nodeName,!g||g.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&ou(u.elementType)&&(j=wc):j=ev;if(j&&(j=j(e,u))){Yh(p,j,a,d);break e}A&&A(e,f,u),e==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&ao(f,"number",f.value)}switch(A=u?di(u):window,e){case"focusin":(_c(A)||A.contentEditable==="true")&&(yn=A,lo=u,yi=null);break;case"focusout":yi=lo=yn=null;break;case"mousedown":so=!0;break;case"contextmenu":case"mouseup":case"dragend":so=!1,Ac(p,a,d);break;case"selectionchange":if(nv)break;case"keydown":case"keyup":Ac(p,a,d)}var C;if(hu)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else pn?Vh(e,a)&&(R="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(R="onCompositionStart");R&&(Gh&&a.locale!=="ko"&&(pn||R!=="onCompositionStart"?R==="onCompositionEnd"&&pn&&(C=$h()):(sa=d,cu="value"in sa?sa.value:sa.textContent,pn=!0)),A=ys(u,R),0<A.length&&(R=new vc(R,e,null,a,d),p.push({event:R,listeners:A}),C?R.data=C:(C=Kh(a),C!==null&&(R.data=C)))),(C=Xm?Jm(e,a):Im(e,a))&&(R=ys(u,"onBeforeInput"),0<R.length&&(A=new vc("onBeforeInput","beforeinput",null,a,d),p.push({event:A,listeners:R}),A.data=C)),Hv(p,e,u,a,d)}$0(p,t)})}function Gi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ys(e,t){for(var a=t+"Capture",n=[];e!==null;){var i=e,l=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||l===null||(i=Ui(e,a),i!=null&&n.unshift(Gi(e,i,l)),i=Ui(e,t),i!=null&&n.push(Gi(e,i,l))),e.tag===3)return n;e=e.return}return[]}function Kv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function od(e,t,a,n,i){for(var l=t._reactName,s=[];a!==null&&a!==n;){var r=a,o=r.alternate,u=r.stateNode;if(r=r.tag,o!==null&&o===n)break;r!==5&&r!==26&&r!==27||u===null||(o=u,i?(u=Ui(a,l),u!=null&&s.unshift(Gi(a,u,o))):i||(u=Ui(a,l),u!=null&&s.push(Gi(a,u,o)))),a=a.return}s.length!==0&&e.push({event:t,listeners:s})}var Yv=/\r\n?/g,Qv=/\u0000|\uFFFD/g;function ud(e){return(typeof e=="string"?e:""+e).replace(Yv,`
`).replace(Qv,"")}function V0(e,t){return t=ud(t),ud(e)===t}function W(e,t,a,n,i,l){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Mn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Mn(e,""+n);break;case"className":pl(e,"class",n);break;case"tabIndex":pl(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":pl(e,a,n);break;case"style":qh(e,n,l);break;case"data":if(t!=="object"){pl(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ml(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(a==="formAction"?(t!=="input"&&W(e,t,"name",i.name,i,null),W(e,t,"formEncType",i.formEncType,i,null),W(e,t,"formMethod",i.formMethod,i,null),W(e,t,"formTarget",i.formTarget,i,null)):(W(e,t,"encType",i.encType,i,null),W(e,t,"method",i.method,i,null),W(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ml(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Lt);break;case"onScroll":n!=null&&V("scroll",e);break;case"onScrollEnd":n!=null&&V("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(T(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(T(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Ml(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":V("beforetoggle",e),V("toggle",e),zl(e,"popover",n);break;case"xlinkActuate":Nt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Nt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Nt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Nt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Nt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Nt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Nt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Nt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Nt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":zl(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_m.get(a)||a,zl(e,a,n))}}function Co(e,t,a,n,i,l){switch(a){case"style":qh(e,n,l);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(T(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(T(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Mn(e,n):(typeof n=="number"||typeof n=="bigint")&&Mn(e,""+n);break;case"onScroll":n!=null&&V("scroll",e);break;case"onScrollEnd":n!=null&&V("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Lt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),l=e[Ge]||null,l=l!=null?l[a]:null,typeof l=="function"&&e.removeEventListener(t,l,i),typeof n=="function")){typeof l!="function"&&l!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,i);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):zl(e,a,n)}}}function Ue(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":V("error",e),V("load",e);var n=!1,i=!1,l;for(l in a)if(a.hasOwnProperty(l)){var s=a[l];if(s!=null)switch(l){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(T(137,t));default:W(e,t,l,s,a,null)}}i&&W(e,t,"srcSet",a.srcSet,a,null),n&&W(e,t,"src",a.src,a,null);return;case"input":V("invalid",e);var r=l=s=i=null,o=null,u=null;for(n in a)if(a.hasOwnProperty(n)){var d=a[n];if(d!=null)switch(n){case"name":i=d;break;case"type":s=d;break;case"checked":o=d;break;case"defaultChecked":u=d;break;case"value":l=d;break;case"defaultValue":r=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(T(137,t));break;default:W(e,t,n,d,a,null)}}Mh(e,l,r,o,u,s,i,!1);return;case"select":V("invalid",e),n=s=l=null;for(i in a)if(a.hasOwnProperty(i)&&(r=a[i],r!=null))switch(i){case"value":l=r;break;case"defaultValue":s=r;break;case"multiple":n=r;default:W(e,t,i,r,a,null)}t=l,a=s,e.multiple=!!n,t!=null?On(e,!!n,t,!1):a!=null&&On(e,!!n,a,!0);return;case"textarea":V("invalid",e),l=i=n=null;for(s in a)if(a.hasOwnProperty(s)&&(r=a[s],r!=null))switch(s){case"value":n=r;break;case"defaultValue":i=r;break;case"children":l=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(T(91));break;default:W(e,t,s,r,a,null)}Lh(e,n,i,l);return;case"option":for(o in a)if(a.hasOwnProperty(o)&&(n=a[o],n!=null))switch(o){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:W(e,t,o,n,a,null)}return;case"dialog":V("beforetoggle",e),V("toggle",e),V("cancel",e),V("close",e);break;case"iframe":case"object":V("load",e);break;case"video":case"audio":for(n=0;n<$i.length;n++)V($i[n],e);break;case"image":V("error",e),V("load",e);break;case"details":V("toggle",e);break;case"embed":case"source":case"link":V("error",e),V("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&(n=a[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(T(137,t));default:W(e,t,u,n,a,null)}return;default:if(ou(t)){for(d in a)a.hasOwnProperty(d)&&(n=a[d],n!==void 0&&Co(e,t,d,n,a,void 0));return}}for(r in a)a.hasOwnProperty(r)&&(n=a[r],n!=null&&W(e,t,r,n,a,null))}function Xv(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,l=null,s=null,r=null,o=null,u=null,d=null;for(g in a){var p=a[g];if(a.hasOwnProperty(g)&&p!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":o=p;default:n.hasOwnProperty(g)||W(e,t,g,null,n,p)}}for(var f in n){var g=n[f];if(p=a[f],n.hasOwnProperty(f)&&(g!=null||p!=null))switch(f){case"type":l=g;break;case"name":i=g;break;case"checked":u=g;break;case"defaultChecked":d=g;break;case"value":s=g;break;case"defaultValue":r=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(T(137,t));break;default:g!==p&&W(e,t,f,g,n,p)}}to(e,s,r,o,u,d,l,i);return;case"select":g=s=r=f=null;for(l in a)if(o=a[l],a.hasOwnProperty(l)&&o!=null)switch(l){case"value":break;case"multiple":g=o;default:n.hasOwnProperty(l)||W(e,t,l,null,n,o)}for(i in n)if(l=n[i],o=a[i],n.hasOwnProperty(i)&&(l!=null||o!=null))switch(i){case"value":f=l;break;case"defaultValue":r=l;break;case"multiple":s=l;default:l!==o&&W(e,t,i,l,n,o)}t=r,a=s,n=g,f!=null?On(e,!!a,f,!1):!!n!=!!a&&(t!=null?On(e,!!a,t,!0):On(e,!!a,a?[]:"",!1));return;case"textarea":g=f=null;for(r in a)if(i=a[r],a.hasOwnProperty(r)&&i!=null&&!n.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:W(e,t,r,null,n,i)}for(s in n)if(i=n[s],l=a[s],n.hasOwnProperty(s)&&(i!=null||l!=null))switch(s){case"value":f=i;break;case"defaultValue":g=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(T(91));break;default:i!==l&&W(e,t,s,i,n,l)}Bh(e,f,g);return;case"option":for(var y in a)if(f=a[y],a.hasOwnProperty(y)&&f!=null&&!n.hasOwnProperty(y))switch(y){case"selected":e.selected=!1;break;default:W(e,t,y,null,n,f)}for(o in n)if(f=n[o],g=a[o],n.hasOwnProperty(o)&&f!==g&&(f!=null||g!=null))switch(o){case"selected":e.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:W(e,t,o,f,n,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in a)f=a[_],a.hasOwnProperty(_)&&f!=null&&!n.hasOwnProperty(_)&&W(e,t,_,null,n,f);for(u in n)if(f=n[u],g=a[u],n.hasOwnProperty(u)&&f!==g&&(f!=null||g!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(T(137,t));break;default:W(e,t,u,f,n,g)}return;default:if(ou(t)){for(var S in a)f=a[S],a.hasOwnProperty(S)&&f!==void 0&&!n.hasOwnProperty(S)&&Co(e,t,S,void 0,n,f);for(d in n)f=n[d],g=a[d],!n.hasOwnProperty(d)||f===g||f===void 0&&g===void 0||Co(e,t,d,f,n,g);return}}for(var v in a)f=a[v],a.hasOwnProperty(v)&&f!=null&&!n.hasOwnProperty(v)&&W(e,t,v,null,n,f);for(p in n)f=n[p],g=a[p],!n.hasOwnProperty(p)||f===g||f==null&&g==null||W(e,t,p,f,n,g)}function cd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Jv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var i=a[n],l=i.transferSize,s=i.initiatorType,r=i.duration;if(l&&r&&cd(s)){for(s=0,r=i.responseEnd,n+=1;n<a.length;n++){var o=a[n],u=o.startTime;if(u>r)break;var d=o.transferSize,p=o.initiatorType;d&&cd(p)&&(o=o.responseEnd,s+=d*(o<r?1:(r-u)/(o-u)))}if(--n,t+=8*(l+s)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ko=null,Uo=null;function bs(e){return e.nodeType===9?e:e.ownerDocument}function dd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Do(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kr=null;function Iv(){var e=window.event;return e&&e.type==="popstate"?e===kr?!1:(kr=e,!0):(kr=null,!1)}var Y0=typeof setTimeout=="function"?setTimeout:void 0,Zv=typeof clearTimeout=="function"?clearTimeout:void 0,hd=typeof Promise=="function"?Promise:void 0,Pv=typeof queueMicrotask=="function"?queueMicrotask:typeof hd<"u"?function(e){return hd.resolve(null).then(e).catch(Wv)}:Y0;function Wv(e){setTimeout(function(){throw e})}function Ea(e){return e==="head"}function fd(e,t){var a=t,n=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(i),Kn(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")ji(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ji(a);for(var l=a.firstChild;l;){var s=l.nextSibling,r=l.nodeName;l[nl]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&l.rel.toLowerCase()==="stylesheet"||a.removeChild(l),l=s}}else a==="body"&&ji(e.ownerDocument.body);a=i}while(a);Kn(t)}function gd(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function zo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zo(a),ru(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Fv(e,t,a,n){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[nl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(l=e.getAttribute("rel"),l==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(l!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(l=e.getAttribute("src"),(l!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var l=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===l)return e}else return e;if(e=dt(e.nextSibling),e===null)break}return null}function ep(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=dt(e.nextSibling),e===null))return null;return e}function Q0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=dt(e.nextSibling),e===null))return null;return e}function Mo(e){return e.data==="$?"||e.data==="$~"}function Bo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function tp(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function dt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Lo=null;function md(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return dt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function vd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function X0(e,t,a){switch(t=bs(a),e){case"html":if(e=t.documentElement,!e)throw Error(T(452));return e;case"head":if(e=t.head,!e)throw Error(T(453));return e;case"body":if(e=t.body,!e)throw Error(T(454));return e;default:throw Error(T(451))}}function ji(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ru(e)}var ht=new Map,pd=new Set;function _s(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Jt=I.d;I.d={f:ap,r:np,D:ip,C:lp,L:sp,m:rp,X:up,S:op,M:cp};function ap(){var e=Jt.f(),t=Vs();return e||t}function np(e){var t=Xn(e);t!==null&&t.tag===5&&t.type==="form"?Hf(t):Jt.r(e)}var Pn=typeof document>"u"?null:document;function J0(e,t,a){var n=Pn;if(n&&typeof t=="string"&&t){var i=rt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),pd.has(i)||(pd.add(i),e={rel:e,crossOrigin:a,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),Ue(t,"link",e),Ee(t),n.head.appendChild(t)))}}function ip(e){Jt.D(e),J0("dns-prefetch",e,null)}function lp(e,t){Jt.C(e,t),J0("preconnect",e,t)}function sp(e,t,a){Jt.L(e,t,a);var n=Pn;if(n&&e&&t){var i='link[rel="preload"][as="'+rt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+rt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+rt(a.imageSizes)+'"]')):i+='[href="'+rt(e)+'"]';var l=i;switch(t){case"style":l=Vn(e);break;case"script":l=Wn(e)}ht.has(l)||(e=se({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ht.set(l,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(ul(l))||t==="script"&&n.querySelector(cl(l))||(t=n.createElement("link"),Ue(t,"link",e),Ee(t),n.head.appendChild(t)))}}function rp(e,t){Jt.m(e,t);var a=Pn;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+rt(n)+'"][href="'+rt(e)+'"]',l=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Wn(e)}if(!ht.has(l)&&(e=se({rel:"modulepreload",href:e},t),ht.set(l,e),a.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cl(l)))return}n=a.createElement("link"),Ue(n,"link",e),Ee(n),a.head.appendChild(n)}}}function op(e,t,a){Jt.S(e,t,a);var n=Pn;if(n&&e){var i=An(n).hoistableStyles,l=Vn(e);t=t||"default";var s=i.get(l);if(!s){var r={loading:0,preload:null};if(s=n.querySelector(ul(l)))r.loading=5;else{e=se({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ht.get(l))&&Qu(e,a);var o=s=n.createElement("link");Ee(o),Ue(o,"link",e),o._p=new Promise(function(u,d){o.onload=u,o.onerror=d}),o.addEventListener("load",function(){r.loading|=1}),o.addEventListener("error",function(){r.loading|=2}),r.loading|=4,Ql(s,t,n)}s={type:"stylesheet",instance:s,count:1,state:r},i.set(l,s)}}}function up(e,t){Jt.X(e,t);var a=Pn;if(a&&e){var n=An(a).hoistableScripts,i=Wn(e),l=n.get(i);l||(l=a.querySelector(cl(i)),l||(e=se({src:e,async:!0},t),(t=ht.get(i))&&Xu(e,t),l=a.createElement("script"),Ee(l),Ue(l,"link",e),a.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},n.set(i,l))}}function cp(e,t){Jt.M(e,t);var a=Pn;if(a&&e){var n=An(a).hoistableScripts,i=Wn(e),l=n.get(i);l||(l=a.querySelector(cl(i)),l||(e=se({src:e,async:!0,type:"module"},t),(t=ht.get(i))&&Xu(e,t),l=a.createElement("script"),Ee(l),Ue(l,"link",e),a.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},n.set(i,l))}}function yd(e,t,a,n){var i=(i=ca.current)?_s(i):null;if(!i)throw Error(T(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Vn(a.href),a=An(i).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Vn(a.href);var l=An(i).hoistableStyles,s=l.get(e);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(e,s),(l=i.querySelector(ul(e)))&&!l._p&&(s.instance=l,s.state.loading=5),ht.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ht.set(e,a),l||dp(i,e,a,s.state))),t&&n===null)throw Error(T(528,""));return s}if(t&&n!==null)throw Error(T(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Wn(a),a=An(i).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(T(444,e))}}function Vn(e){return'href="'+rt(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function I0(e){return se({},e,{"data-precedence":e.precedence,precedence:null})}function dp(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ue(t,"link",a),Ee(t),e.head.appendChild(t))}function Wn(e){return'[src="'+rt(e)+'"]'}function cl(e){return"script[async]"+e}function bd(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+rt(a.href)+'"]');if(n)return t.instance=n,Ee(n),n;var i=se({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Ee(n),Ue(n,"style",i),Ql(n,a.precedence,e),t.instance=n;case"stylesheet":i=Vn(a.href);var l=e.querySelector(ul(i));if(l)return t.state.loading|=4,t.instance=l,Ee(l),l;n=I0(a),(i=ht.get(i))&&Qu(n,i),l=(e.ownerDocument||e).createElement("link"),Ee(l);var s=l;return s._p=new Promise(function(r,o){s.onload=r,s.onerror=o}),Ue(l,"link",n),t.state.loading|=4,Ql(l,a.precedence,e),t.instance=l;case"script":return l=Wn(a.src),(i=e.querySelector(cl(l)))?(t.instance=i,Ee(i),i):(n=a,(i=ht.get(l))&&(n=se({},a),Xu(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),Ee(i),Ue(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(T(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,Ql(n,a.precedence,e));return t.instance}function Ql(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,l=i,s=0;s<n.length;s++){var r=n[s];if(r.dataset.precedence===t)l=r;else if(l!==i)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Qu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Xl=null;function _d(e,t,a){if(Xl===null){var n=new Map,i=Xl=new Map;i.set(a,n)}else i=Xl,n=i.get(a),n||(n=new Map,i.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var l=a[i];if(!(l[nl]||l[Re]||e==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var s=l.getAttribute(t)||"";s=e+s;var r=n.get(s);r?r.push(l):n.set(s,[l])}}return n}function wd(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function hp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Z0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function fp(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var i=Vn(n.href),l=t.querySelector(ul(i));if(l){t=l._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ws.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=l,Ee(l);return}l=t.ownerDocument||t,n=I0(n),(i=ht.get(i))&&Qu(n,i),l=l.createElement("link"),Ee(l);var s=l;s._p=new Promise(function(r,o){s.onload=r,s.onerror=o}),Ue(l,"link",n),a.instance=l}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&!(a.state.loading&3)&&(e.count++,a=ws.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Ur=0;function gp(e,t){return e.stylesheets&&e.count===0&&Jl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&Jl(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4+t);0<e.imgBytes&&Ur===0&&(Ur=62500*Jv());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Jl(e,e.stylesheets),e.unsuspend)){var l=e.unsuspend;e.unsuspend=null,l()}},(e.imgBytes>Ur?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function ws(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ss=null;function Jl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ss=new Map,t.forEach(mp,e),Ss=null,ws.call(e))}function mp(e,t){if(!(t.state.loading&4)){var a=Ss.get(e);if(a)var n=a.get(null);else{a=new Map,Ss.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<i.length;l++){var s=i[l];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(a.set(s.dataset.precedence,s),n=s)}n&&a.set(null,n)}i=t.instance,s=i.getAttribute("data-precedence"),l=a.get(s)||n,l===n&&a.set(null,i),a.set(s,i),this.count++,n=ws.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),l?l.parentNode.insertBefore(i,l.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Vi={$$typeof:Bt,Provider:null,Consumer:null,_currentValue:Ba,_currentValue2:Ba,_threadCount:0};function vp(e,t,a,n,i,l,s,r,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ar(0),this.hiddenUpdates=ar(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=l,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function P0(e,t,a,n,i,l,s,r,o,u,d,p){return e=new vp(e,t,a,s,o,u,d,p,r),t=1,l===!0&&(t|=24),l=Xe(3,null,null,t),e.current=l,l.stateNode=e,t=bu(),t.refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:n,isDehydrated:a,cache:t},Su(l),e}function W0(e){return e?(e=wn,e):wn}function F0(e,t,a,n,i,l){i=W0(i),n.context===null?n.context=i:n.pendingContext=i,n=ha(t),n.payload={element:a},l=l===void 0?null:l,l!==null&&(n.callback=l),a=fa(e,n,t),a!==null&&($e(a,e,t),_i(a,e,t))}function Sd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ju(e,t){Sd(e,t),(e=e.alternate)&&Sd(e,t)}function eg(e){if(e.tag===13||e.tag===31){var t=Za(e,67108864);t!==null&&$e(t,e,67108864),Ju(e,67108864)}}function xd(e){if(e.tag===13||e.tag===31){var t=Fe();t=lu(t);var a=Za(e,t);a!==null&&$e(a,e,t),Ju(e,t)}}var xs=!0;function pp(e,t,a,n){var i=q.T;q.T=null;var l=I.p;try{I.p=2,Iu(e,t,a,n)}finally{I.p=l,q.T=i}}function yp(e,t,a,n){var i=q.T;q.T=null;var l=I.p;try{I.p=8,Iu(e,t,a,n)}finally{I.p=l,q.T=i}}function Iu(e,t,a,n){if(xs){var i=qo(n);if(i===null)Cr(e,t,n,Es,a),Ed(e,n);else if(_p(i,e,t,a,n))n.stopPropagation();else if(Ed(e,n),t&4&&-1<bp.indexOf(e)){for(;i!==null;){var l=Xn(i);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var s=Ra(l.pendingLanes);if(s!==0){var r=l;for(r.pendingLanes|=2,r.entangledLanes|=2;s;){var o=1<<31-We(s);r.entanglements[1]|=o,s&=~o}At(l),!(J&6)&&(fs=Ze()+500,ol(0))}}break;case 31:case 13:r=Za(l,2),r!==null&&$e(r,l,2),Vs(),Ju(l,2)}if(l=qo(n),l===null&&Cr(e,t,n,Es,a),l===i)break;i=l}i!==null&&n.stopPropagation()}else Cr(e,t,n,null,a)}}function qo(e){return e=uu(e),Zu(e)}var Es=null;function Zu(e){if(Es=null,e=mn(e),e!==null){var t=Fi(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=bh(t),e!==null)return e;e=null}else if(a===31){if(e=_h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Es=e,null}function tg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(im()){case Eh:return 2;case Th:return 8;case Fl:case lm:return 32;case Ah:return 268435456;default:return 32}default:return 32}}var Ho=!1,va=null,pa=null,ya=null,Ki=new Map,Yi=new Map,na=[],bp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ed(e,t){switch(e){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":Ki.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yi.delete(t.pointerId)}}function ri(e,t,a,n,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:l,targetContainers:[i]},t!==null&&(t=Xn(t),t!==null&&eg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function _p(e,t,a,n,i){switch(t){case"focusin":return va=ri(va,e,t,a,n,i),!0;case"dragenter":return pa=ri(pa,e,t,a,n,i),!0;case"mouseover":return ya=ri(ya,e,t,a,n,i),!0;case"pointerover":var l=i.pointerId;return Ki.set(l,ri(Ki.get(l)||null,e,t,a,n,i)),!0;case"gotpointercapture":return l=i.pointerId,Yi.set(l,ri(Yi.get(l)||null,e,t,a,n,i)),!0}return!1}function ag(e){var t=mn(e.target);if(t!==null){var a=Fi(t);if(a!==null){if(t=a.tag,t===13){if(t=bh(a),t!==null){e.blockedOn=t,oc(e.priority,function(){xd(a)});return}}else if(t===31){if(t=_h(a),t!==null){e.blockedOn=t,oc(e.priority,function(){xd(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Il(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=qo(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);no=n,a.target.dispatchEvent(n),no=null}else return t=Xn(a),t!==null&&eg(t),e.blockedOn=a,!1;t.shift()}return!0}function Td(e,t,a){Il(e)&&a.delete(t)}function wp(){Ho=!1,va!==null&&Il(va)&&(va=null),pa!==null&&Il(pa)&&(pa=null),ya!==null&&Il(ya)&&(ya=null),Ki.forEach(Td),Yi.forEach(Td)}function Tl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ho||(Ho=!0,Se.unstable_scheduleCallback(Se.unstable_NormalPriority,wp)))}var Al=null;function Ad(e){Al!==e&&(Al=e,Se.unstable_scheduleCallback(Se.unstable_NormalPriority,function(){Al===e&&(Al=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(Zu(n||a)===null)continue;break}var l=Xn(a);l!==null&&(e.splice(t,3),t-=3,_o(l,{pending:!0,data:i,method:a.method,action:n},n,i))}}))}function Kn(e){function t(o){return Tl(o,e)}va!==null&&Tl(va,e),pa!==null&&Tl(pa,e),ya!==null&&Tl(ya,e),Ki.forEach(t),Yi.forEach(t);for(var a=0;a<na.length;a++){var n=na[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<na.length&&(a=na[0],a.blockedOn===null);)ag(a),a.blockedOn===null&&na.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var i=a[n],l=a[n+1],s=i[Ge]||null;if(typeof l=="function")s||Ad(a);else if(s){var r=null;if(l&&l.hasAttribute("formAction")){if(i=l,s=l[Ge]||null)r=s.formAction;else if(Zu(i)!==null)continue}else r=s.action;typeof r=="function"?a[n+1]=r:(a.splice(n,3),n-=3),Ad(a)}}}function ng(){function e(l){l.canIntercept&&l.info==="react-transition"&&l.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var l=navigation.currentEntry;l&&l.url!=null&&navigation.navigate(l.url,{state:l.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Pu(e){this._internalRoot=e}Qs.prototype.render=Pu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));var a=t.current,n=Fe();F0(a,n,e,t,null,null)};Qs.prototype.unmount=Pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;F0(e.current,2,null,e,null,null),Vs(),t[Qn]=null}};function Qs(e){this._internalRoot=e}Qs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ch();e={blockedOn:null,target:e,priority:t};for(var a=0;a<na.length&&t!==0&&t<na[a].priority;a++);na.splice(a,0,e),a===0&&ag(e)}};var Od=ph.version;if(Od!=="19.2.4")throw Error(T(527,Od,"19.2.4"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Pg(t),e=e!==null?wh(e):null,e=e===null?null:e.stateNode,e};var Sp={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{el=Ol.inject(Sp),Pe=Ol}catch{}}Ns.createRoot=function(e,t){if(!yh(e))throw Error(T(299));var a=!1,n="",i=Jf,l=If,s=Zf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(l=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=P0(e,1,!1,null,null,a,n,null,i,l,s,ng),e[Qn]=t.current,Yu(e),new Pu(t)};Ns.hydrateRoot=function(e,t,a){if(!yh(e))throw Error(T(299));var n=!1,i="",l=Jf,s=If,r=Zf,o=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(l=a.onUncaughtError),a.onCaughtError!==void 0&&(s=a.onCaughtError),a.onRecoverableError!==void 0&&(r=a.onRecoverableError),a.formState!==void 0&&(o=a.formState)),t=P0(e,1,!0,t,a??null,n,i,o,l,s,r,ng),t.context=W0(null),a=t.current,n=Fe(),n=lu(n),i=ha(n),i.callback=null,fa(a,i,n),a=n,t.current.lanes=a,al(t,a),At(t),e[Qn]=t.current,Yu(e),new Qs(t)};Ns.version="19.2.4";function ig(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ig)}catch(e){console.error(e)}}ig(),dh.exports=Ns;var xp=dh.exports;const Ep=th(xp);function Xs(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]]);return a}function Tp(e,t,a,n){function i(l){return l instanceof a?l:new a(function(s){s(l)})}return new(a||(a=Promise))(function(l,s){function r(d){try{u(n.next(d))}catch(p){s(p)}}function o(d){try{u(n.throw(d))}catch(p){s(p)}}function u(d){d.done?l(d.value):i(d.value).then(r,o)}u((n=n.apply(e,t||[])).next())})}const Ap=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Wu extends Error{constructor(t,a="FunctionsError",n){super(t),this.name=a,this.context=n}}class Op extends Wu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class jd extends Wu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Nd extends Wu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $o;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})($o||($o={}));class jp{constructor(t,{headers:a={},customFetch:n,region:i=$o.Any}={}){this.url=t,this.headers=a,this.region=i,this.fetch=Ap(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Tp(this,arguments,void 0,function*(a,n={}){var i;let l,s;try{const{headers:r,method:o,body:u,signal:d,timeout:p}=n;let f={},{region:g}=n;g||(g=this.region);const y=new URL(`${this.url}/${a}`);g&&g!=="any"&&(f["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let _;u&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",_=u):typeof u=="string"?(f["Content-Type"]="text/plain",_=u):typeof FormData<"u"&&u instanceof FormData?_=u:(f["Content-Type"]="application/json",_=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?_=JSON.stringify(u):_=u;let S=d;p&&(s=new AbortController,l=setTimeout(()=>s.abort(),p),d?(S=s.signal,d.addEventListener("abort",()=>s.abort())):S=s.signal);const v=yield this.fetch(y.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),r),body:_,signal:S}).catch(O=>{throw new Op(O)}),h=v.headers.get("x-relay-error");if(h&&h==="true")throw new jd(v);if(!v.ok)throw new Nd(v);let m=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return m==="application/json"?b=yield v.json():m==="application/octet-stream"||m==="application/pdf"?b=yield v.blob():m==="text/event-stream"?b=v:m==="multipart/form-data"?b=yield v.formData():b=yield v.text(),{data:b,error:null,response:v}}catch(r){return{data:null,error:r,response:r instanceof Nd||r instanceof jd?r.context:void 0}}finally{l&&clearTimeout(l)}})}}var Np=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Rp=class{constructor(e){var t,a,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(a=e.isMaybeSingle)!==null&&a!==void 0?a:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var a=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let s=null,r=null,o=null,u=l.status,d=l.statusText;if(l.ok){var p,f;if(a.method!=="HEAD"){var g;const v=await l.text();v===""||(a.headers.get("Accept")==="text/csv"||a.headers.get("Accept")&&(!((g=a.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?r=v:r=JSON.parse(v))}const _=(p=a.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),S=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&S&&S.length>1&&(o=parseInt(S[1])),a.isMaybeSingle&&a.method==="GET"&&Array.isArray(r)&&(r.length>1?(s={code:"PGRST116",details:`Results contain ${r.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},r=null,o=null,u=406,d="Not Acceptable"):r.length===1?r=r[0]:r=null)}else{var y;const _=await l.text();try{s=JSON.parse(_),Array.isArray(s)&&l.status===404&&(r=[],s=null,u=200,d="OK")}catch{l.status===404&&_===""?(u=204,d="No Content"):s={message:_}}if(s&&a.isMaybeSingle&&(!(s==null||(y=s.details)===null||y===void 0)&&y.includes("0 rows"))&&(s=null,u=200,d="OK"),s&&a.shouldThrowOnError)throw new Np(s)}return{error:s,data:r,count:o,status:u,statusText:d}});return this.shouldThrowOnError||(i=i.catch(l=>{var s;let r="",o="",u="";const d=l==null?void 0:l.cause;if(d){var p,f,g,y;const v=(p=d==null?void 0:d.message)!==null&&p!==void 0?p:"",h=(f=d==null?void 0:d.code)!==null&&f!==void 0?f:"";r=`${(g=l==null?void 0:l.name)!==null&&g!==void 0?g:"FetchError"}: ${l==null?void 0:l.message}`,r+=`

Caused by: ${(y=d==null?void 0:d.name)!==null&&y!==void 0?y:"Error"}: ${v}`,h&&(r+=` (${h})`),d!=null&&d.stack&&(r+=`
${d.stack}`)}else{var _;r=(_=l==null?void 0:l.stack)!==null&&_!==void 0?_:""}const S=this.url.toString().length;return(l==null?void 0:l.name)==="AbortError"||(l==null?void 0:l.code)==="ABORT_ERR"?(u="",o="Request was aborted (timeout or manual cancellation)",S>this.urlLengthLimit&&(o+=`. Note: Your request URL is ${S} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",o="HTTP headers exceeded server limits (typically 16KB)",S>this.urlLengthLimit&&(o+=`. Your request URL is ${S} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(s=l==null?void 0:l.name)!==null&&s!==void 0?s:"FetchError"}: ${l==null?void 0:l.message}`,details:r,hint:o,code:u},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},Cp=class extends Rp{select(e){let t=!1;const a=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:a,foreignTable:n,referencedTable:i=n}={}){const l=i?`${i}.order`:"order",s=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:a=t}={}){const n=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:a,referencedTable:n=a}={}){const i=typeof n>"u"?"offset":`${n}.offset`,l=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(l,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:a=!1,buffers:n=!1,wal:i=!1,format:l="text"}={}){var s;const r=[e?"analyze":null,t?"verbose":null,a?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),o=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${o}"; options=${r};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Rd=new RegExp("[,()]");var cn=class extends Cp{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const a=Array.from(new Set(t)).map(n=>typeof n=="string"&&Rd.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${a})`),this}notIn(e,t){const a=Array.from(new Set(t)).map(n=>typeof n=="string"&&Rd.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${a})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:a,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const l=a===void 0?"":`(${a})`;return this.url.searchParams.append(e,`${i}fts${l}.${t}`),this}match(e){return Object.entries(e).forEach(([t,a])=>{this.url.searchParams.append(t,`eq.${a}`)}),this}not(e,t,a){return this.url.searchParams.append(e,`not.${t}.${a}`),this}or(e,{foreignTable:t,referencedTable:a=t}={}){const n=a?`${a}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,a){return this.url.searchParams.append(e,`${t}.${a}`),this}},kp=class{constructor(e,{headers:t={},schema:a,fetch:n,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=a,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:a=!1,count:n}=t??{},i=a?"HEAD":"GET";let l=!1;const s=(e??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join(""),{url:r,headers:o}=this.cloneRequestState();return r.searchParams.set("select",s),n&&o.append("Prefer",`count=${n}`),new cn({method:i,url:r,headers:o,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:a=!0}={}){var n;const i="POST",{url:l,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),a||s.append("Prefer","missing=default"),Array.isArray(e)){const r=e.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(r.length>0){const o=[...new Set(r)].map(u=>`"${u}"`);l.searchParams.set("columns",o.join(","))}}return new cn({method:i,url:l,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:a=!1,count:n,defaultToNull:i=!0}={}){var l;const s="POST",{url:r,headers:o}=this.cloneRequestState();if(o.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),t!==void 0&&r.searchParams.set("on_conflict",t),n&&o.append("Prefer",`count=${n}`),i||o.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(u.length>0){const d=[...new Set(u)].map(p=>`"${p}"`);r.searchParams.set("columns",d.join(","))}}return new cn({method:s,url:r,headers:o,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var a;const n="PATCH",{url:i,headers:l}=this.cloneRequestState();return t&&l.append("Prefer",`count=${t}`),new cn({method:n,url:i,headers:l,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const a="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new cn({method:a,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Qi(e){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(e)}function Up(e,t){if(Qi(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(Qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dp(e){var t=Up(e,"string");return Qi(t)=="symbol"?t:t+""}function zp(e,t,a){return(t=Dp(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Cd(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,n)}return a}function jl(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Cd(Object(a),!0).forEach(function(n){zp(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Cd(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}var Mp=class lg{constructor(t,{headers:a={},schema:n,fetch:i,timeout:l,urlLengthLimit:s=8e3}={}){this.url=t,this.headers=new Headers(a),this.schemaName=n,this.urlLengthLimit=s;const r=i??globalThis.fetch;l!==void 0&&l>0?this.fetch=(o,u)=>{const d=new AbortController,p=setTimeout(()=>d.abort(),l),f=u==null?void 0:u.signal;if(f){if(f.aborted)return clearTimeout(p),r(o,u);const g=()=>{clearTimeout(p),d.abort()};return f.addEventListener("abort",g,{once:!0}),r(o,jl(jl({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(p),f.removeEventListener("abort",g)})}return r(o,jl(jl({},u),{},{signal:d.signal})).finally(()=>clearTimeout(p))}:this.fetch=r}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new kp(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new lg(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,a={},{head:n=!1,get:i=!1,count:l}={}){var s;let r;const o=new URL(`${this.url}/rpc/${t}`);let u;const d=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(d)),p=n&&Object.values(a).some(d);p?(r="POST",u=a):n||i?(r=n?"HEAD":"GET",Object.entries(a).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{o.searchParams.append(g,y)})):(r="POST",u=a);const f=new Headers(this.headers);return p?f.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&f.set("Prefer",`count=${l}`),new cn({method:r,url:o,headers:f,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}};class Bp{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const a=globalThis.process;if(a){const n=a.versions;if(n&&n.node){const i=n.node,l=parseInt(i.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const n=this.getWebSocketConstructor();return new n(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Lp="2.94.0",qp=`realtime-js/${Lp}`,Hp="1.0.0",sg="2.0.0",kd=sg,Go=1e4,$p=1e3,Gp=100;var Ft;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ft||(Ft={}));var _e;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(_e||(_e={}));var pt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pt||(pt={}));var Vo;(function(e){e.websocket="websocket"})(Vo||(Vo={}));var Da;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Da||(Da={}));class Vp{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,a){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return a(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var a;return this._isArrayBuffer((a=t.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var a,n;const i=(n=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var a,n;const i=(n=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,a,n){var i,l;const s=t.topic,r=(i=t.ref)!==null&&i!==void 0?i:"",o=(l=t.join_ref)!==null&&l!==void 0?l:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(d).length===0?"":JSON.stringify(d);if(o.length>255)throw new Error(`joinRef length ${o.length} exceeds maximum of 255`);if(r.length>255)throw new Error(`ref length ${r.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+r.length+s.length+u.length+p.length,g=new ArrayBuffer(this.HEADER_LENGTH+f);let y=new DataView(g),_=0;y.setUint8(_++,this.KINDS.userBroadcastPush),y.setUint8(_++,o.length),y.setUint8(_++,r.length),y.setUint8(_++,s.length),y.setUint8(_++,u.length),y.setUint8(_++,p.length),y.setUint8(_++,a),Array.from(o,v=>y.setUint8(_++,v.charCodeAt(0))),Array.from(r,v=>y.setUint8(_++,v.charCodeAt(0))),Array.from(s,v=>y.setUint8(_++,v.charCodeAt(0))),Array.from(u,v=>y.setUint8(_++,v.charCodeAt(0))),Array.from(p,v=>y.setUint8(_++,v.charCodeAt(0)));var S=new Uint8Array(g.byteLength+n.byteLength);return S.set(new Uint8Array(g),0),S.set(new Uint8Array(n),g.byteLength),S.buffer}decode(t,a){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return a(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,l,s,r,o]=n;return a({join_ref:i,ref:l,topic:s,event:r,payload:o})}return a({})}_binaryDecode(t){const a=new DataView(t),n=a.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,a,i)}}_decodeUserBroadcast(t,a,n){const i=a.getUint8(1),l=a.getUint8(2),s=a.getUint8(3),r=a.getUint8(4);let o=this.HEADER_LENGTH+4;const u=n.decode(t.slice(o,o+i));o=o+i;const d=n.decode(t.slice(o,o+l));o=o+l;const p=n.decode(t.slice(o,o+s));o=o+s;const f=t.slice(o,t.byteLength),g=r===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,y={type:this.BROADCAST_EVENT,event:d,payload:g};return s>0&&(y.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var a;return t instanceof ArrayBuffer||((a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(t,a){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>a.includes(n)))}}class rg{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var te;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(te||(te={}));const Ud=(e,t,a={})=>{var n;const i=(n=a.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((l,s)=>(l[s]=Kp(s,e,t,i),l),{}):{}},Kp=(e,t,a,n)=>{const i=t.find(r=>r.name===e),l=i==null?void 0:i.type,s=a[e];return l&&!n.includes(l)?og(l,s):Ko(s)},og=(e,t)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return Jp(t,a)}switch(e){case te.bool:return Yp(t);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return Qp(t);case te.json:case te.jsonb:return Xp(t);case te.timestamp:return Ip(t);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return Ko(t);default:return Ko(t)}},Ko=e=>e,Yp=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Qp=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Xp=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Jp=(e,t)=>{if(typeof e!="string")return e;const a=e.length-1,n=e[a];if(e[0]==="{"&&n==="}"){let l;const s=e.slice(1,a);try{l=JSON.parse("["+s+"]")}catch{l=s?s.split(","):[]}return l.map(r=>og(t,r))}return e},Ip=e=>typeof e=="string"?e.replace(" ","T"):e,ug=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Dr{constructor(t,a,n={},i=Go){this.channel=t,this.event=a,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var n;return this._hasReceived(t)&&a((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Dd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Dd||(Dd={}));class Ni{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:l,onLeave:s,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ni.syncState(this.state,i,l,s),this.pendingDiffs.forEach(o=>{this.state=Ni.syncDiff(this.state,o,l,s)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},i=>{const{onJoin:l,onLeave:s,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ni.syncDiff(this.state,i,l,s),r())}),this.onJoin((i,l,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:s})}),this.onLeave((i,l,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,n,i){const l=this.cloneDeep(t),s=this.transformState(a),r={},o={};return this.map(l,(u,d)=>{s[u]||(o[u]=d)}),this.map(s,(u,d)=>{const p=l[u];if(p){const f=d.map(S=>S.presence_ref),g=p.map(S=>S.presence_ref),y=d.filter(S=>g.indexOf(S.presence_ref)<0),_=p.filter(S=>f.indexOf(S.presence_ref)<0);y.length>0&&(r[u]=y),_.length>0&&(o[u]=_)}else r[u]=d}),this.syncDiff(l,{joins:r,leaves:o},n,i)}static syncDiff(t,a,n,i){const{joins:l,leaves:s}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(l,(r,o)=>{var u;const d=(u=t[r])!==null&&u!==void 0?u:[];if(t[r]=this.cloneDeep(o),d.length>0){const p=t[r].map(g=>g.presence_ref),f=d.filter(g=>p.indexOf(g.presence_ref)<0);t[r].unshift(...f)}n(r,d,o)}),this.map(s,(r,o)=>{let u=t[r];if(!u)return;const d=o.map(p=>p.presence_ref);u=u.filter(p=>d.indexOf(p.presence_ref)<0),t[r]=u,i(r,u,o),u.length===0&&delete t[r]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(n=>a(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,n)=>{const i=t[n];return"metas"in i?a[n]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):a[n]=i,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zd||(zd={}));var Ri;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ri||(Ri={}));var Dt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Dt||(Dt={}));class Tn{constructor(t,a={config:{}},n){var i,l;if(this.topic=t,this.params=a,this.socket=n,this.bindings={},this.state=_e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Dr(this,pt.join,this.params,this.timeout),this.rejoinTimer=new rg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_e.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pt.reply,{},(s,r)=>{this._trigger(this._replyEventName(r),s)}),this.presence=new Ni(this),this.broadcastEndpointURL=ug(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,a=this.timeout){var n,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==_e.closed){const{config:{broadcast:s,presence:r,private:o}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Ri.PRESENCE]&&this.bindings[Ri.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,p={},f={broadcast:s,presence:Object.assign(Object.assign({},r),{enabled:d}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Dt.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Dt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},p)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){t==null||t(Dt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(y=_==null?void 0:_.length)!==null&&y!==void 0?y:0,v=[];for(let h=0;h<S;h++){const m=_[h],{filter:{event:b,schema:O,table:j,filter:A}}=m,C=g&&g[h];if(C&&C.event===b&&Tn.isFilterValueEqual(C.schema,O)&&Tn.isFilterValueEqual(C.table,j)&&Tn.isFilterValueEqual(C.filter,A))v.push(Object.assign(Object.assign({},m),{id:C.id}));else{this.unsubscribe(),this.state=_e.errored,t==null||t(Dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Dt.SUBSCRIBED);return}}).receive("error",g=>{this.state=_e.errored,t==null||t(Dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,n){return this.state===_e.joined&&t===Ri.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,a,n)}async httpSend(t,a,n={}){var i;if(a==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:a,private:this.private}]})},r=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(r.status===202)return{success:!0};let o=r.statusText;try{const u=await r.json();o=u.error||u.message||o}catch{}return Promise.reject(new Error(o))}async send(t,a={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:s}=t,r={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(r.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:r,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=a.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var s,r,o;const u=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(r=(s=this.params)===null||s===void 0?void 0:s.config)===null||r===void 0?void 0:r.broadcast)===null||o===void 0)&&o.ack)&&l("ok"),u.receive("ok",()=>l("ok")),u.receive("error",()=>l("error")),u.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=_e.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Dr(this,pt.leave,{},t),n.receive("ok",()=>{a(),i("ok")}).receive("timeout",()=>{a(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_e.closed,this.bindings={}}async _fetchWithTimeout(t,a,n){const i=new AbortController,l=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:i.signal}));return clearTimeout(l),s}_push(t,a,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Dr(this,t,a,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Gp){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,n){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,n){var i,l;const s=t.toLocaleLowerCase(),{close:r,error:o,leave:u,join:d}=pt;if(n&&[r,o,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let f=this._onMessage(s,a,n);if(a&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var y,_,S;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((S=(_=g.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===s}).map(g=>g.callback(f,n)):(l=this.bindings[s])===null||l===void 0||l.filter(g=>{var y,_,S,v,h,m;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in g){const b=g.id,O=(y=g.filter)===null||y===void 0?void 0:y.event;return b&&((_=a.ids)===null||_===void 0?void 0:_.includes(b))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((S=a.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const b=(h=(v=g==null?void 0:g.filter)===null||v===void 0?void 0:v.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return b==="*"||b===((m=a==null?void 0:a.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===s}).map(g=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:_,table:S,commit_timestamp:v,type:h,errors:m}=y;f=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:v,eventType:h,new:{},old:{},errors:m}),this._getPayloadRecords(y))}g.callback(f,n)})}_isClosed(){return this.state===_e.closed}_isJoined(){return this.state===_e.joined}_isJoining(){return this.state===_e.joining}_isLeaving(){return this.state===_e.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,n){const i=t.toLocaleLowerCase(),l={type:i,filter:a,callback:n};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(t,a){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&Tn.isEqual(i.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const n in t)if(t[n]!==a[n])return!1;return!0}static isFilterValueEqual(t,a){return(t??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pt.close,{},t)}_onError(t){this._on(pt.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_e.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=Ud(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=Ud(t.columns,t.old_record)),a}}const zr=()=>{},Nl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zp=[1e3,2e3,5e3,1e4],Pp=1e4,Wp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Fp{constructor(t,a){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Go,this.transport=null,this.heartbeatIntervalMs=Nl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zr,this.ref=0,this.reconnectTimer=null,this.vsn=kd,this.logger=zr,this.conn=null,this.sendBuffer=[],this.serializer=new Vp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...l)=>i(...l):(...l)=>fetch(...l),!(!((n=a==null?void 0:a.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${Vo.websocket}`,this.httpEndpoint=ug(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bp.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,n){this.logger(t,a,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ft.connecting:return Da.Connecting;case Ft.open:return Da.Open;case Ft.closing:return Da.Closing;default:return Da.Closed}}isConnected(){return this.connectionState()===Da.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(l=>l.topic===n);if(i)return i;{const l=new Tn(`realtime:${t}`,a,this);return this.channels.push(l),l}}push(t){const{topic:a,event:n,payload:i,ref:l}=t,s=()=>{this.encode(t,r=>{var o;(o=this.conn)===null||o===void 0||o.send(r)})};this.log("push",`${a} ${n} (${l})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close($p,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Nl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply"&&a.ref&&a.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:l,ref:s}=a,r=s?`(${s})`:"",o=l.status||"";this.log("receive",`${o} ${n} ${i} ${r}`.trim(),l),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,l,s)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ft.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ft.open||this.conn.readyState===Ft.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(a){this.log("error","error in heartbeat callback",a)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(pt.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(a);return`${t}${n}${i}`}_workerObjectUrl(t){let a;if(t)a=t;else{const n=new Blob([Wp],{type:"application/javascript"});a=URL.createObjectURL(n)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a,n=!1;if(t)a=t,n=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),a=this.accessTokenValue}else a=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(i=>{const l={access_token:a,version:qp};a&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(pt.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(a)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new rg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Nl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,n,i,l,s,r,o,u,d,p,f,g;switch(this.transport=(a=t==null?void 0:t.transport)!==null&&a!==void 0?a:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Go,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Nl.HEARTBEAT_INTERVAL,this.worker=(l=t==null?void 0:t.worker)!==null&&l!==void 0?l:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(r=t==null?void 0:t.heartbeatCallback)!==null&&r!==void 0?r:zr,this.vsn=(o=t==null?void 0:t.vsn)!==null&&o!==void 0?o:kd,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>Zp[y-1]||Pp,this.vsn){case Hp:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,_)=>_(JSON.stringify(y)),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:(y,_)=>_(JSON.parse(y));break;case sg:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Xi=class extends Error{constructor(e,t){var a;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((a=t.icebergType)==null?void 0:a.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ey(e,t,a){const n=new URL(t,e);if(a)for(const[i,l]of Object.entries(a))l!==void 0&&n.searchParams.set(i,l);return n.toString()}async function ty(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function ay(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:a,path:n,query:i,body:l,headers:s}){const r=ey(e.baseUrl,n,i),o=await ty(e.auth),u=await t(r,{method:a,headers:{...l?{"Content-Type":"application/json"}:{},...o,...s},body:l?JSON.stringify(l):void 0}),d=await u.text(),p=(u.headers.get("content-type")||"").includes("application/json"),f=p&&d?JSON.parse(d):d;if(!u.ok){const g=p?f:void 0,y=g==null?void 0:g.error;throw new Xi((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:g})}return{status:u.status,headers:u.headers,data:f}}}}function Rl(e){return e.join("")}var ny=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Rl(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const a={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Rl(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rl(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Rl(e.namespace)}`}),!0}catch(t){if(t instanceof Xi&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(a){if(a instanceof Xi&&a.status===409)return;throw a}}};function en(e){return e.join("")}var iy=class{constructor(e,t="",a){this.client=e,this.prefix=t,this.accessDelegation=a}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${en(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${en(e.namespace)}/tables`,body:t,headers:a})).data.metadata}async updateTable(e,t){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${en(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${en(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${en(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${en(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(a){if(a instanceof Xi&&a.status===404)return!1;throw a}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(a){if(a instanceof Xi&&a.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw a}}},ly=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const a=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=ay({baseUrl:a,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new ny(this.client,t),this.tableOps=new iy(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Js=class extends Error{constructor(e,t="storage",a,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=a,this.statusCode=n}};function Is(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Cl=class extends Js{constructor(e,t,a,n="storage"){super(e,n,t,a),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cg=class extends Js{constructor(e,t,a="storage"){super(e,a),this.name=a==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const sy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ry=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Yo=e=>{if(Array.isArray(e))return e.map(a=>Yo(a));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([a,n])=>{const i=a.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[i]=Yo(n)}),t},oy=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function uy(e,t){if(Ji(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(Ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cy(e){var t=uy(e,"string");return Ji(t)=="symbol"?t:t+""}function dy(e,t,a){return(t=cy(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Md(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Md(Object(a),!0).forEach(function(n){dy(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Md(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}const Bd=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},hy=async(e,t,a,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(a!=null&&a.noResolveJson)){const i=e,l=i.status||500;if(typeof i.json=="function")i.json().then(s=>{const r=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||l+"";t(new Cl(Bd(s),l,r,n))}).catch(()=>{if(n==="vectors"){const s=l+"";t(new Cl(i.statusText||`HTTP ${l} error`,l,s,n))}else{const s=l+"";t(new Cl(i.statusText||`HTTP ${l} error`,l,s,n))}});else{const s=l+"";t(new Cl(i.statusText||`HTTP ${l} error`,l,s,n))}}else t(new cg(Bd(e),e,n))},fy=(e,t,a,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?L(L({},i),a):(ry(n)?(i.headers=L({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),L(L({},i),a))};async function oi(e,t,a,n,i,l,s){return new Promise((r,o)=>{e(a,fy(t,n,i,l)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(s==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>r(u)).catch(u=>hy(u,o,n,s))})}function dg(e="storage"){return{get:async(t,a,n,i)=>oi(t,"GET",a,n,i,void 0,e),post:async(t,a,n,i,l)=>oi(t,"POST",a,i,l,n,e),put:async(t,a,n,i,l)=>oi(t,"PUT",a,i,l,n,e),head:async(t,a,n,i)=>oi(t,"HEAD",a,L(L({},n),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,a,n,i,l)=>oi(t,"DELETE",a,i,l,n,e)}}const gy=dg("storage"),{get:Ii,post:mt,put:Qo,head:my,remove:Fu}=gy,Je=dg("vectors");var Fn=class{constructor(e,t={},a,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=sy(a),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Is(a))return{data:null,error:a};throw a}}},vy=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Is(t))return{data:null,error:t};throw t}}};let hg;hg=Symbol.toStringTag;var py=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[hg]="BlobDownloadBuilder",this.promise=null}asStream(){return new vy(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Is(t))return{data:null,error:t};throw t}}};const yy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ld={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var by=class extends Fn{constructor(e,t={},a,n){super(e,t,n,"storage"),this.bucketId=a}async uploadOrUpdate(e,t,a,n){var i=this;return i.handleOperation(async()=>{let l;const s=L(L({},Ld),n);let r=L(L({},i.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const o=s.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",s.cacheControl),o&&l.append("metadata",i.encodeMetadata(o)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.has("cacheControl")||l.append("cacheControl",s.cacheControl),o&&!l.has("metadata")&&l.append("metadata",i.encodeMetadata(o))):(l=a,r["cache-control"]=`max-age=${s.cacheControl}`,r["content-type"]=s.contentType,o&&(r["x-metadata"]=i.toBase64(i.encodeMetadata(o))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!s.duplex&&(s.duplex="half")),n!=null&&n.headers&&(r=L(L({},r),n.headers));const u=i._removeEmptyFolders(t),d=i._getFinalPath(u),p=await(e=="PUT"?Qo:mt)(i.fetch,`${i.url}/object/${d}`,l,L({headers:r},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{path:u,id:p.Id,fullPath:p.Key}})}async upload(e,t,a){return this.uploadOrUpdate("POST",e,t,a)}async uploadToSignedUrl(e,t,a,n){var i=this;const l=i._removeEmptyFolders(e),s=i._getFinalPath(l),r=new URL(i.url+`/object/upload/sign/${s}`);return r.searchParams.set("token",t),i.handleOperation(async()=>{let o;const u=L({upsert:Ld.upsert},n),d=L(L({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.append("cacheControl",u.cacheControl)):(o=a,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:l,fullPath:(await Qo(i.fetch,r.toString(),o,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var a=this;return a.handleOperation(async()=>{let n=a._getFinalPath(e);const i=L({},a.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const l=await mt(a.fetch,`${a.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(a.url+l.url),r=s.searchParams.get("token");if(!r)throw new Js("No token returned by API");return{signedUrl:s.toString(),path:e,token:r}})}async update(e,t,a){return this.uploadOrUpdate("PUT",e,t,a)}async move(e,t,a){var n=this;return n.handleOperation(async()=>await mt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:n.headers}))}async copy(e,t,a){var n=this;return n.handleOperation(async()=>({path:(await mt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,a){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e),l=await mt(n.fetch,`${n.url}/object/sign/${i}`,L({expiresIn:t},a!=null&&a.transform?{transform:a.transform}:{}),{headers:n.headers});const s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{signedUrl:encodeURI(`${n.url}${l.signedURL}${s}`)}})}async createSignedUrls(e,t,a){var n=this;return n.handleOperation(async()=>{const i=await mt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),l=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i.map(s=>L(L({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${l}`):null}))})}download(e,t){const a=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=n?`?${n}`:"",l=this._getFinalPath(e),s=()=>Ii(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new py(s,this.shouldThrowOnError)}async info(e){var t=this;const a=t._getFinalPath(e);return t.handleOperation(async()=>Yo(await Ii(t.fetch,`${t.url}/object/info/${a}`,{headers:t.headers})))}async exists(e){var t=this;const a=t._getFinalPath(e);try{return await my(t.fetch,`${t.url}/object/${a}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Is(n)&&n instanceof cg){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const a=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const l=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});s!==""&&n.push(s);let r=n.join("&");return r!==""&&(r=`?${r}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${r}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Fu(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,a){var n=this;return n.handleOperation(async()=>{const i=L(L(L({},yy),t),{},{prefix:e||""});return await mt(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},a)})}async listV2(e,t){var a=this;return a.handleOperation(async()=>{const n=L({},e);return await mt(a.fetch,`${a.url}/object/list-v2/${a.bucketId}`,n,{headers:a.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const _y="2.94.0",dl={"X-Client-Info":`storage-js/${_y}`};var wy=class extends Fn{constructor(e,t={},a,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const l=i.href.replace(/\/$/,""),s=L(L({},dl),t);super(l,s,a,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const a=t.listBucketOptionsToQueryString(e);return await Ii(t.fetch,`${t.url}/bucket${a}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ii(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var a=this;return a.handleOperation(async()=>await mt(a.fetch,`${a.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}))}async updateBucket(e,t){var a=this;return a.handleOperation(async()=>await Qo(a.fetch,`${a.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await mt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Fu(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Sy=class extends Fn{constructor(e,t={},a){const n=e.replace(/\/$/,""),i=L(L({},dl),t);super(n,i,a,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await mt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const a=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&a.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&a.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&a.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&a.set("sortOrder",e.sortOrder),e!=null&&e.search&&a.set("search",e.search);const n=a.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Ii(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Fu(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!oy(e))throw new Js("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new ly({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(a,{get(i,l){const s=i[l];return typeof s!="function"?s:async(...r)=>{try{return{data:await s.apply(i,r),error:null}}catch(o){if(n)throw o;return{data:null,error:o}}}}})}},xy=class extends Fn{constructor(e,t={},a){const n=e.replace(/\/$/,""),i=L(L({},dl),{},{"Content-Type":"application/json"},t);super(n,i,a,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Je.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var a=this;return a.handleOperation(async()=>await Je.post(a.fetch,`${a.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:a.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Je.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var a=this;return a.handleOperation(async()=>await Je.post(a.fetch,`${a.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:a.headers})||{})}},Ey=class extends Fn{constructor(e,t={},a){const n=e.replace(/\/$/,""),i=L(L({},dl),{},{"Content-Type":"application/json"},t);super(n,i,a,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Je.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Je.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Je.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Je.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Je.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Ty=class extends Fn{constructor(e,t={},a){const n=e.replace(/\/$/,""),i=L(L({},dl),{},{"Content-Type":"application/json"},t);super(n,i,a,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Je.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Je.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Je.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Je.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Ay=class extends Ty{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Oy(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,a=this;return t().call(a,e)}async getBucket(e){var t=()=>super.getBucket,a=this;return t().call(a,e)}async listBuckets(e={}){var t=()=>super.listBuckets,a=this;return t().call(a,e)}async deleteBucket(e){var t=()=>super.deleteBucket,a=this;return t().call(a,e)}},Oy=class extends xy{constructor(e,t,a,n){super(e,t,n),this.vectorBucketName=a}async createIndex(e){var t=()=>super.createIndex,a=this;return t().call(a,L(L({},e),{},{vectorBucketName:a.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,a=this;return t().call(a,L(L({},e),{},{vectorBucketName:a.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,a=this;return t().call(a,a.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,a=this;return t().call(a,a.vectorBucketName,e)}index(e){return new jy(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},jy=class extends Ey{constructor(e,t,a,n,i){super(e,t,i),this.vectorBucketName=a,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,a=this;return t().call(a,L(L({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async getVectors(e){var t=()=>super.getVectors,a=this;return t().call(a,L(L({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,a=this;return t().call(a,L(L({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,a=this;return t().call(a,L(L({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,a=this;return t().call(a,L(L({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}},Ny=class extends wy{constructor(e,t={},a,n){super(e,t,a,n)}from(e){return new by(this.url,this.headers,e,this.fetch)}get vectors(){return new Ay(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Sy(this.url+"/iceberg",this.headers,this.fetch)}};const fg="2.94.0",dn=30*1e3,Xo=3,Mr=Xo*dn,Ry="http://localhost:9999",Cy="supabase.auth.token",ky={"X-Client-Info":`gotrue-js/${fg}`},Jo="X-Supabase-Api-Version",gg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Uy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dy=10*60*1e3;class Zi extends Error{constructor(t,a,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=n}}function U(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zy extends Zi{constructor(t,a,n){super(t,a,n),this.name="AuthApiError",this.status=a,this.code=n}}function My(e){return U(e)&&e.name==="AuthApiError"}class za extends Zi{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class It extends Zi{constructor(t,a,n,i){super(t,n,i),this.name=a,this.status=n}}class Ke extends It{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Br(e){return U(e)&&e.name==="AuthSessionMissingError"}class tn extends It{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kl extends It{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ul extends It{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function By(e){return U(e)&&e.name==="AuthImplicitGrantRedirectError"}class qd extends It{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ly extends It{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Io extends It{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function Lr(e){return U(e)&&e.name==="AuthRetryableFetchError"}class Hd extends It{constructor(t,a,n){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=n}}class Zo extends It{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ts="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$d=` 	
\r=`.split(""),qy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<$d.length;t+=1)e[$d[t].charCodeAt(0)]=-2;for(let t=0;t<Ts.length;t+=1)e[Ts[t].charCodeAt(0)]=t;return e})();function Gd(e,t,a){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;a(Ts[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;a(Ts[n]),t.queuedBits-=6}}function mg(e,t,a){const n=qy[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Vd(e){const t=[],a=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=s=>{Gy(s,n,a)};for(let s=0;s<e.length;s+=1)mg(e.charCodeAt(s),i,l);return t.join("")}function Hy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $y(e,t){for(let a=0;a<e.length;a+=1){let n=e.charCodeAt(a);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(a+1)-56320&65535|i)+65536,a+=1}Hy(n,t)}}function Gy(e,t,a){if(t.utf8seq===0){if(e<=127){a(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function Un(e){const t=[],a={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)mg(e.charCodeAt(i),a,n);return new Uint8Array(t)}function Vy(e){const t=[];return $y(e,a=>t.push(a)),new Uint8Array(t)}function Ma(e){const t=[],a={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Gd(i,a,n)),Gd(null,a,n),t.join("")}function Ky(e){return Math.round(Date.now()/1e3)+e}function Yy(){return Symbol("auth-callback")}const je=()=>typeof window<"u"&&typeof document<"u",Oa={tested:!1,writable:!1},vg=()=>{if(!je())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Oa.tested)return Oa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Oa.tested=!0,Oa.writable=!0}catch{Oa.tested=!0,Oa.writable=!1}return Oa.writable};function Qy(e){const t={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((i,l)=>{t[l]=i})}catch{}return a.searchParams.forEach((n,i)=>{t[i]=n}),t}const pg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Xy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",hn=async(e,t,a)=>{await e.setItem(t,JSON.stringify(a))},ja=async(e,t)=>{const a=await e.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Oe=async(e,t)=>{await e.removeItem(t)};class Zs{constructor(){this.promise=new Zs.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}Zs.promiseConstructor=Promise;function Dl(e){const t=e.split(".");if(t.length!==3)throw new Zo("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Uy.test(t[n]))throw new Zo("JWT not in base64url format");return{header:JSON.parse(Vd(t[0])),payload:JSON.parse(Vd(t[1])),signature:Un(t[2]),raw:{header:t[0],payload:t[1]}}}async function Jy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Iy(e,t){return new Promise((n,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const s=await e(l);if(!t(l,null,s)){n(s);return}}catch(s){if(!t(l,s)){i(s);return}}})()})}function Zy(e){return("0"+e.toString(16)).substr(-2)}function Py(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=a.length;let i="";for(let l=0;l<56;l++)i+=a.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Zy).join("")}async function Wy(e){const a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a),i=new Uint8Array(n);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function Fy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await Wy(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function an(e,t,a=!1){const n=Py();let i=n;a&&(i+="/PASSWORD_RECOVERY"),await hn(e,`${t}-code-verifier`,i);const l=await Fy(n);return[l,n===l?"plain":"s256"]}const eb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tb(e){const t=e.headers.get(Jo);if(!t||!t.match(eb))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ab(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function nb(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ib=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function nn(e){if(!ib.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qr(){const e={};return new Proxy(e,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const n=a.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lb(e,t){return new Proxy(e,{get:(a,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const l=n.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(a,n,i)}})}function Kd(e){return JSON.parse(JSON.stringify(e))}const Ua=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sb=[502,503,504];async function Yd(e){var t;if(!Xy(e))throw new Io(Ua(e),0);if(sb.includes(e.status))throw new Io(Ua(e),e.status);let a;try{a=await e.json()}catch(l){throw new za(Ua(l),l)}let n;const i=tb(e);if(i&&i.getTime()>=gg["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?n=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(n=a.error_code),n){if(n==="weak_password")throw new Hd(Ua(a),e.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ke}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((l,s)=>l&&typeof s=="string",!0))throw new Hd(Ua(a),e.status,a.weak_password.reasons);throw new zy(Ua(a),e.status||500,n)}const rb=(e,t,a,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),a))};async function B(e,t,a,n){var i;const l=Object.assign({},n==null?void 0:n.headers);l[Jo]||(l[Jo]=gg["2024-01-01"].name),n!=null&&n.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const r=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",o=await ob(e,t,a+r,{headers:l,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(o):{data:Object.assign({},o),error:null}}async function ob(e,t,a,n,i,l){const s=rb(t,n,i,l);let r;try{r=await e(a,Object.assign({},s))}catch(o){throw console.error(o),new Io(Ua(o),0)}if(r.ok||await Yd(r),n!=null&&n.noResolveJson)return r;try{return await r.json()}catch(o){await Yd(o)}}function gt(e){var t;let a=null;db(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=Ky(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:a,user:n},error:null}}function Qd(e){const t=gt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,n)=>a&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ia(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ub(e){return{data:e,error:null}}function cb(e){const{action_link:t,email_otp:a,hashed_token:n,redirect_to:i,verification_type:l}=e,s=Xs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),r={action_link:t,email_otp:a,hashed_token:n,redirect_to:i,verification_type:l},o=Object.assign({},s);return{data:{properties:r,user:o},error:null}}function Xd(e){return e}function db(e){return e.access_token&&e.refresh_token&&e.expires_in}const Hr=["global","local","others"];class hb{constructor({url:t="",headers:a={},fetch:n}){this.url=t,this.headers=a,this.fetch=pg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,a=Hr[0]){if(Hr.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hr.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,a={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:ia})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:a}=t,n=Xs(t,["options"]),i=Object.assign(Object.assign({},n),a);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:cb,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(U(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ia})}catch(a){if(U(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,n,i,l,s,r,o;try{const u={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:"",per_page:(l=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:Xd});if(d.error)throw d.error;const p=await d.json(),f=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(o=(r=d.headers.get("link"))===null||r===void 0?void 0:r.split(","))!==null&&o!==void 0?o:[];return g.length>0&&(g.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);u[`${S}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(U(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){nn(t);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ia})}catch(a){if(U(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){nn(t);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:ia})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,a=!1){nn(t);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:ia})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){nn(t.userId);try{const{data:a,error:n}=await B(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:a,error:n}}catch(a){if(U(a))return{data:null,error:a};throw a}}async _deleteFactor(t){nn(t.userId),nn(t.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(U(a))return{data:null,error:a};throw a}}async _listOAuthClients(t){var a,n,i,l,s,r,o;try{const u={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:"",per_page:(l=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:Xd});if(d.error)throw d.error;const p=await d.json(),f=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(o=(r=d.headers.get("link"))===null||r===void 0?void 0:r.split(","))!==null&&o!==void 0?o:[];return g.length>0&&(g.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);u[`${S}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(U(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(U(a))return{data:null,error:a};throw a}}async _getOAuthClient(t){try{return await B(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(U(a))return{data:null,error:a};throw a}}async _updateOAuthClient(t,a){try{return await B(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:a,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(U(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await B(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(U(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(t){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(U(a))return{data:null,error:a};throw a}}}function Jd(e={}){return{getItem:t=>e[t]||null,setItem:(t,a)=>{e[t]=a},removeItem:t=>{delete e[t]}}}const ln={debug:!!(globalThis&&vg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class fb extends yg{}async function gb(e,t,a){ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ln.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await a()}finally{ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new fb(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ln.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function mb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function bg(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function vb(e){return parseInt(e,16)}function pb(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function yb(e){var t;const{chainId:a,domain:n,expirationTime:i,issuedAt:l=new Date,nonce:s,notBefore:r,requestId:o,resources:u,scheme:d,uri:p,version:f}=e;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=bg(e.address),y=d?`${d}://${n}`:n,_=e.statement?`${e.statement}
`:"",S=`${y} wants you to sign in with your Ethereum account:
${g}

${_}`;let v=`URI: ${p}
Version: ${f}
Chain ID: ${a}${s?`
Nonce: ${s}`:""}
Issued At: ${l.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),r&&(v+=`
Not Before: ${r.toISOString()}`),o&&(v+=`
Request ID: ${o}`),u){let h=`
Resources:`;for(const m of u){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);h+=`
- ${m}`}v+=h}return`${S}
${v}`}class me extends Error{constructor({message:t,code:a,cause:n,name:i}){var l;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(l=i??(n instanceof Error?n.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=a}}class As extends me{constructor(t,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:t}),this.name="WebAuthnUnknownError",this.originalError=a}}function bb({error:e,options:t}){var a,n,i;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new me({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new me({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=l.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new me({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new me({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new me({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new me({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return l.pubKeyCredParams.filter(r=>r.type==="public-key").length===0?new me({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new me({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(_g(s)){if(l.rp.id!==s)return new me({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new me({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new me({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function _b({error:e,options:t}){const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new me({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new me({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(_g(n)){if(a.rpId!==n)return new me({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new me({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class wb{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Sb=new wb;function xb(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:a,excludeCredentials:n}=e,i=Xs(e,["challenge","user","excludeCredentials"]),l=Un(t).buffer,s=Object.assign(Object.assign({},a),{id:Un(a.id).buffer}),r=Object.assign(Object.assign({},i),{challenge:l,user:s});if(n&&n.length>0){r.excludeCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const u=n[o];r.excludeCredentials[o]=Object.assign(Object.assign({},u),{id:Un(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return r}function Eb(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:a}=e,n=Xs(e,["challenge","allowCredentials"]),i=Un(t).buffer,l=Object.assign(Object.assign({},n),{challenge:i});if(a&&a.length>0){l.allowCredentials=new Array(a.length);for(let s=0;s<a.length;s++){const r=a[s];l.allowCredentials[s]=Object.assign(Object.assign({},r),{id:Un(r.id).buffer,type:r.type||"public-key",transports:r.transports})}}return l}function Tb(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ma(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ma(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ab(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ma(new Uint8Array(i.authenticatorData)),clientDataJSON:Ma(new Uint8Array(i.clientDataJSON)),signature:Ma(new Uint8Array(i.signature)),userHandle:i.userHandle?Ma(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function _g(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Id(){var e,t;return!!(je()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Ob(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new As("Browser returned unexpected credential type",t)}:{data:null,error:new As("Empty credential response",t)}}catch(t){return{data:null,error:bb({error:t,options:e})}}}async function jb(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new As("Browser returned unexpected credential type",t)}:{data:null,error:new As("Empty credential response",t)}}catch(t){return{data:null,error:_b({error:t,options:e})}}}const Nb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Rb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Os(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),a=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const l in i){const s=i[l];if(s!==void 0)if(Array.isArray(s))n[l]=s;else if(a(s))n[l]=s;else if(t(s)){const r=n[l];t(r)?n[l]=Os(r,s):n[l]=Os(s)}else n[l]=s}return n}function Cb(e,t){return Os(Nb,e,t||{})}function kb(e,t){return Os(Rb,e,t||{})}class Ub{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:a,friendlyName:n,signal:i},l){var s;try{const{data:r,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:a});if(!r)return{data:null,error:o};const u=i??Sb.createNewAbortSignal();if(r.webauthn.type==="create"){const{user:d}=r.webauthn.credential_options.publicKey;if(!d.name){const p=n;if(p)d.name=`${d.id}:${p}`;else{const g=(await this.client.getUser()).data.user,y=((s=g==null?void 0:g.user_metadata)===null||s===void 0?void 0:s.name)||(g==null?void 0:g.email)||(g==null?void 0:g.id)||"User";d.name=`${d.id}:${y}`}}d.displayName||(d.displayName=d.name)}switch(r.webauthn.type){case"create":{const d=Cb(r.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:p,error:f}=await Ob({publicKey:d,signal:u});return p?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:p}},error:null}:{data:null,error:f}}case"request":{const d=kb(r.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:p,error:f}=await jb(Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:d,signal:u}));return p?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:p}},error:null}:{data:null,error:f}}}}catch(r){return U(r)?{data:null,error:r}:{data:null,error:new za("Unexpected error in challenge",r)}}}async _verify({challengeId:t,factorId:a,webauthn:n}){return this.client.mfa.verify({factorId:a,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!a)return{data:null,error:new Zi("rpId is required for WebAuthn authentication")};try{if(!Id())return{data:null,error:new za("Browser does not support WebAuthn",null)};const{data:s,error:r}=await this.challenge({factorId:t,webauthn:{rpId:a,rpOrigins:n},signal:i},{request:l});if(!s)return{data:null,error:r};const{webauthn:o}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:o.type,rpId:a,rpOrigins:n,credential_response:o.credential_response}})}catch(s){return U(s)?{data:null,error:s}:{data:null,error:new za("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!a)return{data:null,error:new Zi("rpId is required for WebAuthn registration")};try{if(!Id())return{data:null,error:new za("Browser does not support WebAuthn",null)};const{data:s,error:r}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var p;return(p=d.data)===null||p===void 0?void 0:p.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:r};const{data:o,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:a,rpOrigins:n},signal:i},{create:l});return o?this._verify({factorId:s.id,challengeId:o.challengeId,webauthn:{rpId:a,rpOrigins:n,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:u}}catch(s){return U(s)?{data:null,error:s}:{data:null,error:new za("Unexpected error in register",s)}}}}mb();const Db={url:Ry,storageKey:Cy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ky,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Zd(e,t,a){return await a()}const sn={};class Pi{get jwks(){var t,a;return(a=(t=sn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){sn[this.storageKey]=Object.assign(Object.assign({},sn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=sn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){sn[this.storageKey]=Object.assign(Object.assign({},sn[this.storageKey]),{cachedAt:t})}constructor(t){var a,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},Db),t);if(this.storageKey=l.storageKey,this.instanceID=(a=Pi.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,Pi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&je()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new hb({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=pg(l.fetch),this.lock=l.lock||Zd,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&je()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=gb:this.lock=Zd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ub(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:vg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jd(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Jd(this.memoryStorage)),je()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s);try{await this._notifyAllSubscribers(s.data.event,s.data.session,!1)}catch(r){this._debug("#broadcastChannel","error",r)}})}this.initialize().catch(s=>{this._debug("#initialize()","error",s)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${fg}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let a={},n="none";if(je()&&(a=Qy(window.location.href),this._isImplicitGrantCallback(a)?n="implicit":await this._isPKCECallback(a)&&(n="pkce")),je()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:l}=await this._getSessionFromURL(a,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),By(l)){const o=(t=l.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:s,redirectType:r}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",r),await this._saveSession(s),setTimeout(async()=>{r==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return U(a)?this._returnResult({error:a}):this._returnResult({error:new za("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,n,i;try{const l=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:gt}),{data:s,error:r}=l;if(r||!s)return this._returnResult({data:{user:null,session:null},error:r});const o=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(l){if(U(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(t){var a,n,i;try{let l;if("email"in t){const{email:d,password:p,options:f}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await an(this.storage,this.storageKey)),l=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:p,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:y},xform:gt})}else if("phone"in t){const{phone:d,password:p,options:f}=t;l=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:gt})}else throw new kl("You must provide either an email or phone number and a password");const{data:s,error:r}=l;if(r||!s)return await Oe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:r});const o=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(l){if(await Oe(this.storage,`${this.storageKey}-code-verifier`),U(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(t){try{let a;if("email"in t){const{email:l,password:s,options:r}=t;a=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qd})}else if("phone"in t){const{phone:l,password:s,options:r}=t;a=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qd})}else throw new kl("You must provide either an email or phone number and a password");const{data:n,error:i}=a;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const l=new tn;return this._returnResult({data:{user:null,session:null},error:l})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(a){if(U(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(t){var a,n,i,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;switch(a){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(t){var a,n,i,l,s,r,o,u,d,p,f;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:_,wallet:S,statement:v,options:h}=t;let m;if(je())if(typeof S=="object")m=S;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")m=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=S}const b=new URL((a=h==null?void 0:h.url)!==null&&a!==void 0?a:window.location.href),O=await m.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=bg(O[0]);let A=(n=h==null?void 0:h.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!A){const R=await m.request({method:"eth_chainId"});A=vb(R)}const C={domain:b.host,address:j,statement:v,uri:b.href,version:"1",chainId:A,nonce:(i=h==null?void 0:h.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(l=h==null?void 0:h.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(r=h==null?void 0:h.signInWithEthereum)===null||r===void 0?void 0:r.expirationTime,notBefore:(o=h==null?void 0:h.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(u=h==null?void 0:h.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=h==null?void 0:h.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=yb(C),y=await m.request({method:"personal_sign",params:[pb(g),j]})}try{const{data:_,error:S}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:y},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:gt});if(S)throw S;if(!_||!_.session||!_.user){const v=new tn;return this._returnResult({data:{user:null,session:null},error:v})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:S})}catch(_){if(U(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var a,n,i,l,s,r,o,u,d,p,f,g;let y,_;if("message"in t)y=t.message,_=t.signature;else{const{chain:S,wallet:v,statement:h,options:m}=t;let b;if(je())if(typeof v=="object")b=v;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))b=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const O=new URL((a=m==null?void 0:m.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in b&&b.signIn){const j=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),h?{statement:h}:null));let A;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")A=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)A=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)y=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),_=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${O.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(i=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((s=m==null?void 0:m.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((r=m==null?void 0:m.signInWithSolana)===null||r===void 0)&&r.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((p=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...m.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const j=await b.signMessage(new TextEncoder().encode(y),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=j}}try{const{data:S,error:v}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Ma(_)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:gt});if(v)throw v;if(!S||!S.session||!S.user){const h=new tn;return this._returnResult({data:{user:null,session:null},error:h})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:v})}catch(S){if(U(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const a=await ja(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(a??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Ly;const{data:l,error:s}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:gt});if(await Oe(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!l||!l.session||!l.user){const r=new tn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:r})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:s})}catch(l){if(await Oe(this.storage,`${this.storageKey}-code-verifier`),U(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(t){try{const{options:a,provider:n,token:i,access_token:l,nonce:s}=t,r=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:l,nonce:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gt}),{data:o,error:u}=r;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o||!o.session||!o.user){const d=new tn;return this._returnResult({data:{user:null,session:null},error:d})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:u})}catch(a){if(U(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(t){var a,n,i,l,s;try{if("email"in t){const{email:r,options:o}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await an(this.storage,this.storageKey));const{error:p}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:(a=o==null?void 0:o.data)!==null&&a!==void 0?a:{},create_user:(n=o==null?void 0:o.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:r,options:o}=t,{data:u,error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:r,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(l=o==null?void 0:o.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(s=o==null?void 0:o.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new kl("You must provide either an email or phone number.")}catch(r){if(await Oe(this.storage,`${this.storageKey}-code-verifier`),U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async verifyOtp(t){var a,n;try{let i,l;"options"in t&&(i=(a=t.options)===null||a===void 0?void 0:a.redirectTo,l=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:r}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:gt});if(r)throw r;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,u=s.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(i){if(U(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var a,n,i,l,s;try{let r=null,o=null;this.flowType==="pkce"&&([r,o]=await an(this.storage,this.storageKey));const u=await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:ub});return!((l=u.data)===null||l===void 0)&&l.url&&je()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(r){if(await Oe(this.storage,`${this.storageKey}-code-verifier`),U(r))return this._returnResult({data:null,error:r});throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:n}=t;if(n)throw n;if(!a)throw new Ke;const{error:i}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(U(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:l}=t,{error:s}=await B(this.fetch,"POST",a,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:i,options:l}=t,{data:s,error:r}=await B(this.fetch,"POST",a,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:r})}throw new kl("You must provide either an email or phone number and a type")}catch(a){if(U(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await a()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=a();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await ja(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Mr:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await ja(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=qr()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=lb(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const a=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(t){try{return t?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ia}):await this._useSession(async a=>{var n,i,l;const{data:s,error:r}=a;if(r)throw r;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ke}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:ia})})}catch(a){if(U(a))return Br(a)&&(await this._removeSession(),await Oe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async n=>{const{data:i,error:l}=n;if(l)throw l;if(!i.session)throw new Ke;const s=i.session;let r=null,o=null;this.flowType==="pkce"&&t.email!=null&&([r,o]=await an(this.storage,this.storageKey));const{data:u,error:d}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:r,code_challenge_method:o}),jwt:s.access_token,xform:ia});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await Oe(this.storage,`${this.storageKey}-code-verifier`),U(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ke;const a=Date.now()/1e3;let n=a,i=!0,l=null;const{payload:s}=Dl(t.access_token);if(s.exp&&(n=s.exp,i=n<=a),i){const{data:r,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r)return{data:{user:null,session:null},error:null};l=r}else{const{data:r,error:o}=await this._getUser(t.access_token);if(o)return this._returnResult({data:{user:null,session:null},error:o});l={access_token:t.access_token,refresh_token:t.refresh_token,user:r.user,token_type:"bearer",expires_in:n-a,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(a){if(U(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var n;if(!t){const{data:s,error:r}=a;if(r)throw r;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ke;const{data:i,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(U(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(t,a){try{if(!je())throw new Ul("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ul(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new qd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ul("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new qd("No code detected.");const{data:h,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:l,refresh_token:s,expires_in:r,expires_at:o,token_type:u}=t;if(!l||!r||!s||!u)throw new Ul("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(r);let f=d+p;o&&(f=parseInt(o));const g=f-d;g*1e3<=dn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);const y=f-p;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:_,error:S}=await this._getUser(l);if(S)throw S;const v={provider_token:n,provider_refresh_token:i,access_token:l,expires_in:p,expires_at:f,refresh_token:s,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(U(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await ja(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var n;const{data:i,error:l}=a;if(l&&!Br(l))return this._returnResult({error:l});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:r}=await this.admin.signOut(s,t);if(r&&!(My(r)&&(r.status===404||r.status===401||r.status===403)||Br(r)))return this._returnResult({error:r})}return t!=="others"&&(await this._removeSession(),await Oe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const a=Yy(),n={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async a=>{var n,i;try{const{data:{session:l},error:s}=a;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,a={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await an(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(l){if(await Oe(this.storage,`${this.storageKey}-code-verifier`),U(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var t;try{const{data:a,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(a){if(U(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var a;try{const{data:n,error:i}=await this._useSession(async l=>{var s,r,o,u,d;const{data:p,error:f}=l;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return je()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(U(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async a=>{var n;try{const{error:i,data:{session:l}}=a;if(i)throw i;const{options:s,provider:r,token:o,access_token:u,nonce:d}=t,p=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=l==null?void 0:l.access_token)!==null&&n!==void 0?n:void 0,body:{provider:r,id_token:o,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:gt}),{data:f,error:g}=p;return g?this._returnResult({data:{user:null,session:null},error:g}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new tn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:g}))}catch(i){if(await Oe(this.storage,`${this.storageKey}-code-verifier`),U(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async a=>{var n,i;const{data:l,error:s}=a;if(s)throw s;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(a){if(U(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const n=Date.now();return await Iy(async i=>(i>0&&await Jy(200*Math.pow(2,i-1)),this._debug(a,"refreshing attempt",i),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gt})),(i,l)=>{const s=200*Math.pow(2,i);return l&&Lr(l)&&Date.now()+s-n<dn})}catch(n){if(this._debug(a,"error",n),U(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",n),je()&&!a.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,a;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ja(this.storage,this.storageKey);if(i&&this.userStorage){let s=await ja(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await hn(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:qr()}else if(i&&!i.user&&!i.user){const s=await ja(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Oe(this.storage,this.storageKey+"-user"),await hn(this.storage,this.storageKey,i)):i.user=qr()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const l=((a=i.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<Mr;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${Mr}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Lr(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:r}=await this._getUser(i.access_token);!r&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var a,n;if(!t)throw new Ke;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Zs;const{data:l,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!l.session)throw new Ke;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const r={data:l.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(l){if(this._debug(i,"error",l),U(l)){const s={data:null,error:l};return Lr(l)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,a,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",a,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:a});const l=[],s=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(t,a)}catch(o){l.push(o)}});if(await Promise.all(s),l.length>0){for(let r=0;r<l.length;r+=1)console.error(l[r]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Oe(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},t),n=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&a.user&&await hn(this.userStorage,this.storageKey+"-user",{user:a.user});const i=Object.assign({},a);delete i.user;const l=Kd(i);await hn(this.storage,this.storageKey,l)}else{const i=Kd(a);await hn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Oe(this.storage,this.storageKey),await Oe(this.storage,this.storageKey+"-code-verifier"),await Oe(this.storage,this.storageKey+"-user"),this.userStorage&&await Oe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&je()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),dn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const a=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const a=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,a&&clearTimeout(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:n}}=a;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/dn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${dn}ms, refresh threshold is ${Xo} ticks`),i<=Xo&&await this._callRefreshToken(n.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof yg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!je()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,n){const i=[`provider=${encodeURIComponent(a)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,s]=await an(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(r.toString())}if(n!=null&&n.queryParams){const l=new URLSearchParams(n.queryParams);i.push(l.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var n;const{data:i,error:l}=a;return l?this._returnResult({data:null,error:l}):await B(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(a){if(U(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(t){try{return await this._useSession(async a=>{var n,i;const{data:l,error:s}=a;if(s)return this._returnResult({data:null,error:s});const r=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:u}=await B(this.fetch,"POST",`${this.url}/factors`,{body:r,headers:this.headers,jwt:(n=l==null?void 0:l.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&o.type==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(a){if(U(a))return this._returnResult({data:null,error:a});throw a}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var n;const{data:i,error:l}=a;if(l)return this._returnResult({data:null,error:l});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Tb(t.webauthn.credential_response):Ab(t.webauthn.credential_response)})}:{code:t.code}),{data:r,error:o}=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),this._returnResult({data:r,error:o}))})}catch(a){if(U(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var n;const{data:i,error:l}=a;if(l)return this._returnResult({data:null,error:l});const s=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:r}=s;if(r.type!=="webauthn")return{data:r,error:null};switch(r.webauthn.type){case"create":return{data:Object.assign(Object.assign({},r),{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_options:Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:xb(r.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},r),{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_options:Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:Eb(r.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(U(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(t){const{data:a,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){var t;const{data:{user:a},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=a==null?void 0:a.factors)!==null&&t!==void 0?t:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var a,n,i,l;if(t)try{const{payload:g}=Dl(t);let y=null;g.aal&&(y=g.aal);let _=y;const{data:{user:S},error:v}=await this.getUser(t);if(v)return this._returnResult({data:null,error:v});((n=(a=S==null?void 0:S.factors)===null||a===void 0?void 0:a.filter(b=>b.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(_="aal2");const m=g.amr||[];return{data:{currentLevel:y,nextLevel:_,currentAuthenticationMethods:m},error:null}}catch(g){if(U(g))return this._returnResult({data:null,error:g});throw g}const{data:{session:s},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Dl(s.access_token);let u=null;o.aal&&(u=o.aal);let d=u;((l=(i=s.user.factors)===null||i===void 0?void 0:i.filter(g=>g.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(d="aal2");const f=o.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async a=>{const{data:{session:n},error:i}=a;return i?this._returnResult({data:null,error:i}):n?await B(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Ke})})}catch(a){if(U(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(t,a){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new Ke});const s=await B(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:r=>({data:r,error:null})});return s.data&&s.data.redirect_url&&je()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,a){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new Ke});const s=await B(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:r=>({data:r,error:null})});return s.data&&s.data.redirect_url&&je()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:a},error:n}=t;return n?this._returnResult({data:null,error:n}):a?await B(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ke})})}catch(t){if(U(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async a=>{const{data:{session:n},error:i}=a;return i?this._returnResult({data:null,error:i}):n?(await B(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ke})})}catch(a){if(U(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,a={keys:[]}){let n=a.keys.find(r=>r.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(r=>r.kid===t),n&&this.jwks_cached_at+Dy>i)return n;const{data:l,error:s}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,n=l.keys.find(r=>r.kid===t),!n)?null:n}async getClaims(t,a={}){try{let n=t;if(!n){const{data:g,error:y}=await this.getSession();if(y||!g.session)return this._returnResult({data:null,error:y});n=g.session.access_token}const{header:i,payload:l,signature:s,raw:{header:r,payload:o}}=Dl(n);a!=null&&a.allowExpired||ab(l.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:l,header:i,signature:s},error:null}}const d=nb(i.alg),p=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,s,Vy(`${r}.${o}`)))throw new Zo("Invalid JWT signature");return{data:{claims:l,header:i,signature:s},error:null}}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}}Pi.nextInstanceID={};const zb=Pi,Mb="2.94.0";let gi="";typeof Deno<"u"?gi="deno":typeof document<"u"?gi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gi="react-native":gi="node";const Bb={"X-Client-Info":`supabase-js-${gi}/${Mb}`},Lb={headers:Bb},qb={schema:"public"},Hb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$b={};function Wi(e){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(e)}function Gb(e,t){if(Wi(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(Wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vb(e){var t=Gb(e,"string");return Wi(t)=="symbol"?t:t+""}function Kb(e,t,a){return(t=Vb(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Pd(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,n)}return a}function de(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Pd(Object(a),!0).forEach(function(n){Kb(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pd(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}const Yb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Qb=()=>Headers,Xb=(e,t,a)=>{const n=Yb(a),i=Qb();return async(l,s)=>{var r;const o=(r=await t())!==null&&r!==void 0?r:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),n(l,de(de({},s),{},{headers:u}))}};function Jb(e){return e.endsWith("/")?e:e+"/"}function Ib(e,t){var a,n;const{db:i,auth:l,realtime:s,global:r}=e,{db:o,auth:u,realtime:d,global:p}=t,f={db:de(de({},o),i),auth:de(de({},u),l),realtime:de(de({},d),s),storage:{},global:de(de(de({},p),r),{},{headers:de(de({},(a=p==null?void 0:p.headers)!==null&&a!==void 0?a:{}),(n=r==null?void 0:r.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function Zb(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Jb(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Pb=class extends zb{constructor(e){super(e)}},Wb=class{constructor(e,t,a){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const l=Zb(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const s=`sb-${l.hostname.split(".")[0]}-auth-token`,r={db:qb,realtime:$b,auth:de(de({},Hb),{},{storageKey:s}),global:Lb},o=Ib(a??{},r);if(this.storageKey=(n=o.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=o.global.headers)!==null&&i!==void 0?i:{},o.accessToken)this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=o.auth)!==null&&u!==void 0?u:{},this.headers,o.global.fetch)}this.fetch=Xb(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(de({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Mp(new URL("rest/v1",l).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch,timeout:o.db.timeout,urlLengthLimit:o.db.urlLengthLimit}),this.storage=new Ny(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new jp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,a)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,a;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(a=n.session)===null||a===void 0?void 0:a.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:n,userStorage:i,storageKey:l,flowType:s,lock:r,debug:o,throwOnError:u},d,p){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Pb({url:this.authUrl.href,headers:de(de({},f),d),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:n,userStorage:i,flowType:s,lock:r,debug:o,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Fp(this.realtimeUrl.href,de(de({},e),{},{params:de(de({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Fb=(e,t,a)=>new Wb(e,t,a);function e_(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const a=t.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}e_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const t_={common:{appTitle:"TripShare",tagline:"Split costs, keep the peace.",cancel:"Cancel",save:"Save Changes",delete:"Delete",confirm:"Confirm",all:"All",copied:"Copied!",kr:"kr",loading:"Connecting to TripShare cloud...",language:"Language",english:"English",swedish:"Swedish"},onboarding:{newJourney:"Start a new journey",placeholder:"e.g. Ski Trip 2025 ",createBtn:"Create Trip",recentTrips:"Your Recent Trips",allTrips:"Explore All Trips",trackCosts:"Track Costs",autoSettle:"Auto-Settle",baseCurrency:"Trip Base Currency",currencyHint:"All balances will be shown in this currency."},people:{title:"Who's going?",subtitle:"Add the members of your trip.",placeholder:"Enter name...",addBtn:"Add",minPeopleAlert:"Please add at least 2 people to start splitting costs.",emptyState:"No people added yet.",continueBtn:"Continue to Trip"},dashboard:{totalCost:"Total cost:",tabExpenses:"Expenses",tabBalances:"Balances",tabSettle:"Settle Up",tabStats:"Stats",recentActivity:"Recent Activity",sortBy:"Sort by:",sortDate:"Newest",sortPayer:"Paid by",sortAffects:"Split with",addExpense:"Add Expense",paidBy:"Paid by",splittingWith:"Splitting with:",noExpenses:"No expenses yet. Start tracking your spend!",addFirst:"Add Your First Expense",financialOverview:"Financial Overview",balanceSubtitle:"How much each person paid vs. their calculated actual cost.",totalPaid:"Total Paid",portion:"Actual cost",optimizedPayments:"Optimized Payments",settleSubtitle:"Every person pays max one person to settle all debts.",pays:"pays",to:"to",everyoneSquare:"Everyone is square! No debts to settle.",removeTitle:"Remove this expense?",removeSubtitle:"This will permanently delete the cost and recalculate all balances.",statsTitle:"Spending Analysis",statsSubtitle:"Breakdown of costs by category across the whole trip.",conflictTitle:"Conflict Detected",conflictSubtitle:"This expense was modified by someone else while you were editing it. What would you like to do?",overwrite:"Overwrite Their Changes"},expenseForm:{addTitle:"Add Expense",editTitle:"Edit Expense",description:"Description",descPlaceholder:"e.g. Dinner, Taxi, Tickets",amount:"Amount",whoPaid:"Who paid?",splitWith:"Split with",splitAllInfo:"Split equally between all current and future trip members.",confirmBtn:"Confirm Expense",currency:"Currency",rate:"Rate",searchCurrency:"Search currency...",categories:{food:"Food",transport:"Transport",lodging:"Lodging",grocery:"Grocery",activity:"Activity",other:"Other"}}},a_={common:{appTitle:"TripShare",tagline:"Dela kostnader, behll lugnet.",cancel:"Avbryt",save:"Spara ndringar",delete:"Ta bort",confirm:"Bekrfta",all:"Alla",copied:"Kopierat!",kr:"kr",loading:"Ansluter till TripShare cloud...",language:"Sprk",english:"Engelska",swedish:"Svenska"},onboarding:{newJourney:"Starta en ny resa",placeholder:"t.ex. Skidresa 2025 ",createBtn:"Skapa resa",recentTrips:"Dina senaste resor",allTrips:"Utforska alla resor",trackCosts:"Flj kostnader",autoSettle:"Auto-reglering",baseCurrency:"Resans basvaluta",currencyHint:"Alla saldon visas i denna valuta."},people:{title:"Vilka ska med?",subtitle:"Lgg till deltagarna p din resa.",placeholder:"Ange namn...",addBtn:"Lgg till",minPeopleAlert:"Lgg till minst 2 personer fr att brja dela kostnader.",emptyState:"Inga personer tillagda n.",continueBtn:"Fortstt till resan"},dashboard:{totalCost:"Total kostnad:",tabExpenses:"Utlgg",tabBalances:"Saldon",tabSettle:"Betalningar",tabStats:"Statistik",recentActivity:"Senaste aktivitet",sortBy:"Sortera:",sortDate:"Senaste",sortPayer:"Betalat av",sortAffects:"Delas med",addExpense:"Lgg till utlgg",paidBy:"Betalat av",splittingWith:"Delas med:",noExpenses:"Inga utlgg n. Brja spra dina utgifter!",addFirst:"Lgg till ditt frsta utlgg",financialOverview:"Ekonomisk versikt",balanceSubtitle:"Hur mycket varje person betalat jmfrt med sin faktiska kostnad.",totalPaid:"Totalt betalat",portion:"Faktisk kostnad",optimizedPayments:"Optimerade betalningar",settleSubtitle:"Varje person betalar max en person fr att reglera alla skulder.",pays:"betalar",to:"till",everyoneSquare:"Alla r jmna! Inga skulder att reglera.",removeTitle:"Ta bort utlgg?",removeSubtitle:"Detta kommer permanent ta bort kostnaden och rkna om alla saldon.",statsTitle:"Kostnadsanalys",statsSubtitle:"Uppdelning av kostnader per kategori fr hela resan.",conflictTitle:"Konflikt upptckt",conflictSubtitle:"Detta utlgg ndrades av ngon annan medan du redigerade det. Vad vill du gra?",overwrite:"Skriv ver deras ndringar"},expenseForm:{addTitle:"Lgg till utlgg",editTitle:"Redigera utlgg",description:"Beskrivning",descPlaceholder:"t.ex. Middag, Taxi, Biljetter",amount:"Belopp",whoPaid:"Vem betalade?",splitWith:"Dela med",splitAllInfo:"Dela lika mellan alla nuvarande och framtida deltagare.",confirmBtn:"Bekrfta utlgg",currency:"Valuta",rate:"Vxelkurs",searchCurrency:"Sk valuta...",categories:{food:"Mat",transport:"Transport",lodging:"Boende",grocery:"Matvaror",activity:"Aktivitet",other:"vrigt"}}},n_={en:t_,sv:a_},wg=D.createContext(void 0),i_=({children:e})=>{const[t,a]=D.useState(()=>localStorage.getItem("tripshare_lang")||"en"),n=l=>{a(l),localStorage.setItem("tripshare_lang",l)},i=n_[t];return c.jsx(wg.Provider,{value:{language:t,setLanguage:n,t:i},children:e})},ei=()=>{const e=D.useContext(wg);if(!e)throw new Error("useTranslation must be used within LanguageProvider");return e},_t=(e,t="SEK")=>{try{const a=t==="SEK"?"sv-SE":"en-US";return new Intl.NumberFormat(a,{style:"currency",currency:t,minimumFractionDigits:2}).format(e)}catch{return`${e.toFixed(2)} ${t}`}},Wd=e=>{const a=e.replace(/\s/g,"").split(/[.,]/);a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g," ");const n=e.includes(",")?",":".";return a.length>1?`${a[0]}${n}${a[1]}`:a[0]},l_=e=>{const t=e.replace(/\s/g,"").replace(",","."),a=parseFloat(t);return isNaN(a)?0:a},s_=e=>{const t=[],a=new Set;return e.forEach(n=>{if(!a.has(n.id)){if(n.mergedWithId){const i=e.find(l=>l.id===n.mergedWithId);if(i){t.push([n.id,i.id]),a.add(n.id),a.add(i.id);return}}t.push([n.id]),a.add(n.id)}}),t},Sg=e=>{const t=s_(e.people),a={},n={};return t.forEach(i=>{const l=i.sort().join("|"),s=i.length>1,r=i.map(o=>{var u;return((u=e.people.find(d=>d.id===o))==null?void 0:u.name)||""});a[l]={totalPaid:0,share:0,netBalance:0,isMerged:s,mergedWithNames:s?r:void 0},i.forEach(o=>n[o]=l)}),e.expenses.forEach(i=>{const l=n[i.paidById],s=i.amount*(i.exchangeRate||1);a[l]&&(a[l].totalPaid+=s);const r=i.splitAmongIds==="ALL"?e.people.map(o=>o.id):i.splitAmongIds;if(r.length>0){const o=s/r.length;r.forEach(u=>{const d=n[u];a[d]&&(a[d].share+=o)})}}),Object.keys(a).forEach(i=>{a[i].netBalance=a[i].totalPaid-a[i].share}),a},r_=e=>{const t=Sg(e);let a=Object.entries(t).map(([i,l])=>({id:i,balance:l.netBalance})).filter(i=>Math.abs(i.balance)>.01);const n=[];for(;a.length>1;){a.sort((r,o)=>r.balance-o.balance);const i=a[0],l=Math.abs(i.balance);let s=-1;for(let r=a.length-1;r>0&&a[r].balance>=l-.01;r--)s=r;if(s!==-1){const r=a[s];n.push({from:i.id,to:r.id,amount:l}),r.balance+=i.balance,i.balance=0}else{const r=a[a.length-1],o=l;n.push({from:i.id,to:r.id,amount:o}),r.balance+=i.balance,i.balance=0}a=a.filter(r=>Math.abs(r.balance)>.01)}return n},o_=async(e,t)=>{if(e===t)return 1;try{return(await(await fetch(`https://api.frankfurter.app/latest?from=${e}&to=${t}`)).json()).rates[t]||1}catch{return 1}},Ci=[{code:"SEK",name:"Swedish Krona",flag:""},{code:"NOK",name:"Norwegian Krone",flag:""},{code:"EUR",name:"Euro",flag:""},{code:"USD",name:"US Dollar",flag:""},{code:"GBP",name:"British Pound",flag:""},{code:"DKK",name:"Danish Krone",flag:""},{code:"CHF",name:"Swiss Franc",flag:""},{code:"JPY",name:"Japanese Yen",flag:""},{code:"CAD",name:"Canadian Dollar",flag:""},{code:"AUD",name:"Australian Dollar",flag:""},{code:"PLN",name:"Polish Zloty",flag:""},{code:"CZK",name:"Czech Koruna",flag:""},{code:"HUF",name:"Hungarian Forint",flag:""},{code:"THB",name:"Thai Baht",flag:""},{code:"SGD",name:"Singapore Dollar",flag:""},{code:"HKD",name:"Hong Kong Dollar",flag:""},{code:"NZD",name:"New Zealand Dollar",flag:""}],u_=({onCreate:e,onOpenLanguage:t,history:a,allTrips:n,isLoadingTrips:i})=>{var z,oe;const{t:l,language:s}=ei(),[r,o]=D.useState(""),[u,d]=D.useState("SEK"),[p,f]=D.useState(""),[g,y]=D.useState(!1),[_,S]=D.useState(!1),[v,h]=D.useState(""),m=M=>{M.preventDefault(),r.trim()&&e(r.trim(),u)},b=M=>{window.location.hash=`#/trip/${M}`},O=s==="en"?"":"",j=D.useMemo(()=>new Set(a.map(M=>M.id)),[a]),A=D.useMemo(()=>a.filter(M=>M.name.toLowerCase().includes(p.toLowerCase())),[a,p]),C=D.useMemo(()=>n.filter(M=>!j.has(M.id)).filter(M=>M.name.toLowerCase().includes(p.toLowerCase())),[n,j,p]),R=Ci.filter(M=>M.code.toLowerCase().includes(v.toLowerCase())||M.name.toLowerCase().includes(v.toLowerCase()));return c.jsxs("div",{className:"flex flex-col space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsxs("h1",{className:"text-4xl font-black tracking-tighter text-white",children:[l.common.appTitle,c.jsx("span",{className:"text-indigo-500",children:"."})]}),c.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-widest",children:l.common.tagline})]}),c.jsx("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center bg-slate-900 border border-slate-800 rounded-xl hover:border-slate-700 transition-all text-xl",children:O})]}),g?c.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-[2.5rem] border border-slate-800 animate-in zoom-in-95 duration-200 space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center px-1",children:[c.jsx("h2",{className:"text-sm font-black uppercase tracking-widest text-indigo-400",children:l.onboarding.newJourney}),c.jsx("button",{onClick:()=>y(!1),className:"text-slate-600 hover:text-slate-400",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsxs("form",{onSubmit:m,className:"space-y-4",children:[c.jsx("input",{type:"text",placeholder:l.onboarding.placeholder,className:"w-full px-5 py-4 rounded-2xl border border-slate-800 bg-slate-950 text-white placeholder-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none transition-all",value:r,onChange:M=>o(M.target.value),autoFocus:!0}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest px-1",children:l.onboarding.baseCurrency}),c.jsxs("button",{type:"button",onClick:()=>S(!0),className:"w-full px-5 py-4 rounded-2xl border border-slate-800 bg-slate-950 text-white flex items-center justify-between font-bold shadow-inner",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-xl",children:(z=Ci.find(M=>M.code===u))==null?void 0:z.flag}),c.jsxs("span",{children:[u," - ",(oe=Ci.find(M=>M.code===u))==null?void 0:oe.name]})]}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-600",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),c.jsx("button",{type:"submit",disabled:!r.trim(),className:"w-full bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-800 disabled:text-slate-600 text-white font-black py-4 rounded-2xl transition-all",children:l.onboarding.createBtn})]})]}):c.jsxs("button",{onClick:()=>y(!0),className:"w-full py-5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-[2rem] font-black text-lg shadow-xl shadow-indigo-900/20 transition-all flex items-center justify-center gap-3 active:scale-[0.98]",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 4v16m8-8H4"})}),l.onboarding.newJourney]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between px-1",children:[c.jsx("h2",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-500",children:l.onboarding.allTrips}),i&&c.jsx("div",{className:"w-3 h-3 border-2 border-slate-700 border-t-indigo-500 rounded-full animate-spin"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:l.expenseForm.searchCurrency.replace("currency","trip"),className:"w-full px-5 py-3 rounded-2xl border border-slate-800 bg-slate-900/30 text-white placeholder-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none transition-all pl-12 text-sm",value:p,onChange:M=>f(M.target.value)}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 absolute left-5 top-1/2 -translate-y-1/2 text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),c.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto no-scrollbar pb-12",children:[A.length>0&&c.jsx("div",{className:"space-y-2",children:A.map(M=>c.jsxs("button",{onClick:()=>b(M.id),className:"w-full flex items-center justify-between p-5 bg-indigo-600/5 border border-indigo-500/20 rounded-[2rem] hover:bg-indigo-600/10 hover:border-indigo-500/40 transition-all group",children:[c.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[c.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-600/10 flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:""}),c.jsxs("div",{className:"text-left min-w-0",children:[c.jsx("span",{className:"block font-black text-slate-100 truncate",children:M.name}),c.jsx("span",{className:"block text-[9px] font-black uppercase tracking-widest text-indigo-500/60 mt-0.5",children:"Visited Recently"})]})]}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-indigo-500/40 group-hover:text-indigo-400 transition-colors shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]},M.id))}),C.length>0?c.jsx("div",{className:"space-y-2",children:C.map(M=>c.jsxs("button",{onClick:()=>b(M.id),className:"w-full flex items-center justify-between p-5 bg-slate-900/40 border border-slate-800 rounded-[2rem] hover:bg-slate-800 hover:border-slate-700 transition-all group",children:[c.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[c.jsx("div",{className:"w-12 h-12 rounded-2xl bg-slate-800 flex items-center justify-center text-xl grayscale group-hover:grayscale-0 transition-all",children:""}),c.jsx("span",{className:"font-bold text-slate-300 group-hover:text-white truncate",children:M.name})]}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-700 group-hover:text-slate-500 transition-colors shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]},M.id))}):!i&&A.length===0&&c.jsxs("div",{className:"py-20 text-center space-y-4 bg-slate-950/50 border-2 border-dashed border-slate-900 rounded-[3rem]",children:[c.jsx("span",{className:"text-4xl opacity-20 block",children:""}),c.jsxs("div",{className:"space-y-1 px-8",children:[c.jsx("p",{className:"text-slate-600 font-black text-sm uppercase tracking-widest",children:"No trips found"}),c.jsx("p",{className:"text-slate-700 text-xs leading-relaxed",children:"Try searching for another name or create a brand new journey above."})]})]})]})]}),_&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/90 backdrop-blur-md animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-[2rem] w-full max-w-sm flex flex-col max-h-[80vh] animate-in zoom-in-95 shadow-2xl",children:[c.jsxs("div",{className:"p-6 border-b border-slate-800 space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-xl font-black text-white",children:l.onboarding.baseCurrency}),c.jsx("button",{onClick:()=>S(!1),className:"p-2 text-slate-500 hover:text-white transition-colors rounded-xl bg-slate-800/50",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsx("input",{type:"text",placeholder:l.expenseForm.searchCurrency,className:"w-full px-4 py-3 rounded-xl border border-slate-800 bg-slate-800 text-white outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:v,onChange:M=>h(M.target.value),autoFocus:!0})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-2 no-scrollbar",children:R.map(M=>c.jsxs("button",{onClick:()=>{d(M.code),S(!1),h("")},className:`w-full flex items-center gap-4 p-4 rounded-2xl transition-all ${u===M.code?"bg-indigo-600 text-white":"hover:bg-slate-800 text-slate-400"}`,children:[c.jsx("span",{className:"text-2xl",children:M.flag}),c.jsxs("div",{className:"flex flex-col items-start",children:[c.jsx("span",{className:"font-bold",children:M.code}),c.jsx("span",{className:"text-xs opacity-60",children:M.name})]})]},M.code))})]})})]})},c_=({people:e,onSave:t,onCancel:a,isInitial:n})=>{var v;const{t:i}=ei(),[l,s]=D.useState(e),[r,o]=D.useState(""),[u,d]=D.useState(null),p=D.useMemo(()=>[...l].sort((h,m)=>h.name.localeCompare(m.name)),[l]),f=h=>{h.preventDefault(),r.trim()&&(s([...l,{id:crypto.randomUUID(),name:r.trim()}]),o(""))},g=h=>{s(l.map(m=>m.mergedWithId===h?{...m,mergedWithId:void 0}:m).filter(m=>m.id!==h))},y=(h,m)=>{var b;if(!m){const O=(b=l.find(j=>j.id===h))==null?void 0:b.mergedWithId;s(l.map(j=>j.id===h||j.id===O?{...j,mergedWithId:void 0}:j));return}s(l.map(O=>O.id===h?{...O,mergedWithId:m}:O.id===m?{...O,mergedWithId:h}:O.mergedWithId===h||O.mergedWithId===m?{...O,mergedWithId:void 0}:O)),d(null)},_=()=>{l.length>=2?t(l):alert(i.people.minPeopleAlert)},S=h=>{var m;return h.mergedWithId?(m=l.find(b=>b.id===h.mergedWithId))==null?void 0:m.name:null};return c.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:i.people.title}),c.jsx("p",{className:"text-slate-400",children:i.people.subtitle})]}),!n&&c.jsx("button",{onClick:a,className:"text-slate-500 hover:text-slate-300 transition-colors",children:i.common.cancel})]}),c.jsxs("form",{onSubmit:f,className:"flex gap-2",children:[c.jsx("input",{type:"text",placeholder:i.people.placeholder,className:"flex-1 px-4 py-3 rounded-xl border border-slate-800 bg-slate-900 text-white placeholder-slate-500 focus:ring-2 focus:ring-indigo-500 outline-none transition-all",value:r,onChange:h=>o(h.target.value),autoFocus:!0}),c.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-6 py-3 rounded-xl font-medium hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-900/20",children:i.people.addBtn})]}),c.jsxs("div",{className:"space-y-3",children:[p.map(h=>{const m=S(h);return c.jsx("div",{className:`flex flex-col p-4 bg-slate-900 rounded-2xl border transition-all ${h.mergedWithId?"border-indigo-500/30 bg-indigo-500/[0.02]":"border-slate-800"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs border ${h.mergedWithId?"bg-indigo-500/20 text-indigo-400 border-indigo-500/30":"bg-slate-800 text-slate-500 border-slate-700"}`,children:h.name.charAt(0).toUpperCase()}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-slate-200",children:h.name}),m&&c.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-indigo-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})}),c.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest text-indigo-500/60",children:["Linked with ",m]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:()=>h.mergedWithId?y(h.id,void 0):d(h.id),className:`p-2 rounded-lg transition-colors ${h.mergedWithId?"text-indigo-400 hover:bg-indigo-500/10":"text-slate-600 hover:text-indigo-400 hover:bg-slate-800"}`,title:h.mergedWithId?"Unlink economy":"Link economy",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})})}),c.jsx("button",{onClick:()=>g(h.id),className:"p-2 text-slate-600 hover:text-red-500 transition-colors",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]})},h.id)}),l.length===0&&c.jsx("div",{className:"text-center py-10 text-slate-500 border-2 border-dashed border-slate-800 rounded-xl bg-slate-900/50",children:i.people.emptyState})]}),c.jsx("button",{onClick:_,className:"w-full bg-slate-100 hover:bg-white text-slate-950 font-bold py-4 rounded-xl shadow-lg transition-all",children:n?i.people.continueBtn:i.common.save}),u&&c.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-slate-950/90 backdrop-blur-sm animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-[2.5rem] w-full max-w-sm p-6 space-y-6 shadow-2xl",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("h3",{className:"text-xl font-black text-white leading-tight",children:"Link Economy"}),c.jsxs("p",{className:"text-slate-500 text-sm",children:["Select someone to pool finances with ",(v=l.find(h=>h.id===u))==null?void 0:v.name,"."]})]}),c.jsx("div",{className:"space-y-2 max-h-[40vh] overflow-y-auto no-scrollbar",children:l.filter(h=>h.id!==u).map(h=>c.jsxs("button",{onClick:()=>y(u,h.id),className:"w-full flex items-center justify-between p-4 bg-slate-800/50 hover:bg-indigo-600 hover:text-white rounded-2xl transition-all group",children:[c.jsx("span",{className:"font-bold",children:h.name}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 opacity-0 group-hover:opacity-100 transition-opacity",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},h.id))}),c.jsx("button",{onClick:()=>d(null),className:"w-full py-3 text-slate-500 font-bold hover:text-white transition-colors",children:"Cancel"})]})})]})},$r={Food:"#6366f1",Transport:"#8b5cf6",Lodging:"#ec4899",Grocery:"#10b981",Activity:"#f59e0b",Other:"#64748b"},d_=({trip:e,onAddExpense:t,onEditExpense:a,onEditPeople:n,onOpenLanguage:i,onDeleteExpense:l,onReset:s})=>{var bt,N;const{t:r,language:o}=ei(),[u,d]=D.useState("expenses"),[p,f]=D.useState(null),[g,y]=D.useState(!1),[_,S]=D.useState(null),[v,h]=D.useState("date"),[m,b]=D.useState(null),O=r_(e),j=Sg(e),A=e.expenses.reduce((w,E)=>w+E.amount*(E.exchangeRate||1),0),C=w=>{var E;return((E=e.people.find(x=>x.id===w))==null?void 0:E.name)||"Unknown"},R=w=>w.includes("|")?w.split("|").map(E=>C(E)).join(" & "):C(w),z=D.useMemo(()=>{const w={};return e.expenses.forEach(E=>{const x=E.category||"Other",k=E.amount*(E.exchangeRate||1);w[x]=(w[x]||0)+k}),Object.entries(w).sort((E,x)=>x[1]-E[1])},[e.expenses]),oe=D.useMemo(()=>{const w=[...e.expenses];return w.sort((E,x)=>{if(v==="paidBy"&&m){const k=E.paidById===m,G=x.paidById===m;return k&&!G?-1:!k&&G?1:x.date-E.date}if(v==="splitWith"&&m){const k=E.splitAmongIds==="ALL"||Array.isArray(E.splitAmongIds)&&E.splitAmongIds.includes(m),G=x.splitAmongIds==="ALL"||Array.isArray(x.splitAmongIds)&&x.splitAmongIds.includes(m);return k&&!G?-1:!k&&G?1:x.date-E.date}return x.date-E.date}),w},[e.expenses,v,m,e.people]),M=()=>{navigator.clipboard.writeText(window.location.href),y(!0),setTimeout(()=>y(!1),2e3)},Ae=w=>{w&&w!==_&&typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(5),S(w)},Ta=o==="en"?"":"";return c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 relative pb-20",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h1",{className:"text-3xl font-black text-white tracking-tight truncate leading-tight",children:e.name}),c.jsxs("p",{className:"text-slate-500 text-sm",children:[r.dashboard.totalCost," ",c.jsx("span",{className:"font-bold text-slate-300",children:_t(A,e.baseCurrency)})]})]}),c.jsx("button",{onClick:i,className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-slate-900 border border-slate-800 rounded-lg hover:bg-slate-800 transition-all active:scale-95 text-xs font-bold text-slate-400",children:c.jsx("span",{children:Ta})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:t,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg shadow-indigo-900/20 transition-all active:scale-95",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),r.dashboard.addExpense]}),c.jsx("button",{onClick:M,className:`px-4 rounded-xl border transition-all active:scale-95 flex items-center justify-center ${g?"bg-green-500/10 border-green-500/50 text-green-400":"bg-slate-900 border-slate-800 text-slate-500 hover:text-indigo-400"}`,children:g?c.jsx("span",{className:"text-[10px] font-black",children:r.common.copied}):c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})})}),c.jsx("button",{onClick:n,className:"px-4 rounded-xl bg-slate-900 border border-slate-800 text-slate-500 hover:text-indigo-400 active:scale-95 transition-all",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),c.jsx("button",{onClick:s,className:"px-4 rounded-xl bg-slate-900 border border-slate-800 text-slate-500 hover:text-red-400 active:scale-95 transition-all",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})})})]}),c.jsx("div",{className:"flex p-1 bg-slate-900 border border-slate-800 rounded-2xl overflow-x-auto no-scrollbar",children:["expenses","balances","settle","stats"].map(w=>c.jsx("button",{onClick:()=>d(w),className:`flex-1 min-w-[80px] py-2.5 text-[10px] font-black uppercase tracking-wider rounded-xl transition-all ${u===w?"bg-slate-800 text-indigo-400 shadow-sm":"text-slate-600 hover:text-slate-400"}`,children:w==="expenses"?r.dashboard.tabExpenses:w==="balances"?r.dashboard.tabBalances:w==="settle"?r.dashboard.tabSettle:r.dashboard.tabStats},w))}),u==="expenses"&&c.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-2 duration-300",children:[c.jsxs("div",{className:"flex flex-col space-y-4",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("h3",{className:"font-black text-slate-600 uppercase text-[10px] tracking-[0.2em]",children:r.dashboard.recentActivity})}),c.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 no-scrollbar -mx-4 px-4",children:[c.jsx("span",{className:"text-[10px] font-black text-slate-700 uppercase tracking-widest shrink-0",children:r.dashboard.sortBy}),c.jsx("button",{onClick:()=>h("date"),className:`px-3 py-1.5 text-[11px] font-bold rounded-full border transition-all shrink-0 active:scale-95 ${v==="date"?"bg-indigo-600 border-indigo-500 text-white":"bg-slate-950 border-slate-900 text-slate-600"}`,children:r.dashboard.sortDate}),c.jsxs("div",{className:`flex items-center gap-1 px-3 py-1.5 rounded-full border transition-all shrink-0 ${v==="paidBy"?"bg-indigo-600 border-indigo-500 text-white":"bg-slate-950 border-slate-900 text-slate-600"}`,children:[c.jsxs("span",{className:"text-[11px] font-bold cursor-pointer",onClick:()=>{var w;h("paidBy"),m||b((w=e.people[0])==null?void 0:w.id)},children:[r.dashboard.sortPayer,":"]}),c.jsxs("select",{className:"bg-transparent border-none outline-none focus:ring-0 p-0 text-[11px] font-bold cursor-pointer",value:v==="paidBy"&&m||"",onChange:w=>{h("paidBy"),b(w.target.value)},children:[!m&&c.jsx("option",{value:"",disabled:!0,children:"-"}),e.people.map(w=>c.jsx("option",{value:w.id,className:"bg-slate-950 text-white",children:w.name},w.id))]})]})]})]}),c.jsx("div",{className:"space-y-3",children:oe.map(w=>{const E=w.amount*(w.exchangeRate||1),x=w.currency!==e.baseCurrency;return c.jsx("div",{className:"group p-4 bg-slate-900/60 border border-slate-800 rounded-2xl shadow-sm hover:border-slate-700 transition-all",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"min-w-0 pr-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded bg-slate-800 text-slate-500 border border-slate-700",children:w.category||"Other"}),c.jsx("h4",{className:"font-bold text-slate-100 truncate",children:w.description})]}),c.jsxs("p",{className:"text-[11px] text-slate-500 mt-1",children:[r.dashboard.paidBy," ",c.jsx("span",{className:"text-indigo-400 font-bold",children:C(w.paidById)})]}),c.jsxs("div",{className:"mt-3 flex gap-2 items-center",children:[c.jsx("span",{className:"text-[9px] uppercase font-black tracking-widest text-slate-600 shrink-0",children:r.dashboard.splittingWith}),c.jsx("div",{className:"flex -space-x-1.5",children:w.splitAmongIds==="ALL"?c.jsx("div",{className:"px-1.5 py-0.5 bg-slate-800 rounded text-[9px] text-slate-400 font-black uppercase border border-slate-700",children:r.common.all}):w.splitAmongIds.slice(0,3).map(k=>c.jsx("div",{className:"w-5 h-5 rounded-full border border-slate-900 bg-indigo-500/20 flex items-center justify-center text-[9px] text-indigo-400 font-black",children:C(k).charAt(0).toUpperCase()},k))})]})]}),c.jsxs("div",{className:"flex flex-col items-end shrink-0",children:[c.jsx("span",{className:"text-lg font-black text-white",children:_t(w.amount,w.currency)}),x&&c.jsxs("span",{className:"text-[10px] text-slate-600 font-bold",children:[" ",_t(E,e.baseCurrency)]}),c.jsxs("div",{className:"flex gap-2.5 mt-2.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>a(w),className:"text-slate-600 hover:text-indigo-400 active:scale-95 transition-all",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),c.jsx("button",{onClick:()=>f(w.id),className:"text-slate-600 hover:text-red-500 active:scale-95 transition-all",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]})]})},w.id)})})]}),u==="balances"&&c.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-2 duration-300",children:[c.jsxs("div",{className:"bg-slate-900 border border-slate-800 p-6 rounded-[2rem] text-white shadow-xl flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mb-1",children:[r.dashboard.financialOverview," (",e.baseCurrency,")"]}),c.jsx("p",{className:"text-sm font-light leading-snug text-slate-400",children:r.dashboard.balanceSubtitle})]}),c.jsx("div",{className:"text-3xl grayscale opacity-30",children:""})]}),c.jsx("div",{className:"grid gap-3",children:Object.entries(j).sort((w,E)=>E[1].netBalance-w[1].netBalance).map(([w,E])=>c.jsxs("div",{className:`p-5 bg-slate-900/60 border rounded-2xl shadow-sm ${E.isMerged?"border-indigo-500/30 bg-indigo-500/[0.02]":"border-slate-800"}`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-black text-xs ${E.isMerged?"bg-indigo-600 text-white":"bg-slate-950 border border-slate-800 text-slate-300"}`,children:R(w).charAt(0).toUpperCase()}),c.jsx("span",{className:"font-bold text-slate-100",children:R(w)})]}),c.jsxs("div",{className:`text-sm font-black px-3 py-1 rounded-lg border ${E.netBalance>=0?"bg-green-500/10 text-green-400 border-green-500/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:[E.netBalance>=0?"+":"",_t(E.netBalance,e.baseCurrency)]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-800/50",children:[c.jsxs("div",{children:[c.jsx("span",{className:"block text-[9px] text-slate-600 uppercase font-black tracking-widest mb-1",children:r.dashboard.totalPaid}),c.jsx("span",{className:"text-sm font-bold text-slate-300",children:_t(E.totalPaid,e.baseCurrency)})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"block text-[9px] text-slate-600 uppercase font-black tracking-widest mb-1",children:r.dashboard.portion}),c.jsx("span",{className:"text-sm font-bold text-slate-300",children:_t(E.share,e.baseCurrency)})]})]})]},w))})]}),u==="settle"&&c.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-2 duration-300",children:[c.jsxs("div",{className:"bg-indigo-600/10 border border-indigo-500/20 p-6 rounded-[2rem] text-white shadow-lg flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-indigo-400 text-[10px] font-black uppercase tracking-widest mb-1",children:[r.dashboard.optimizedPayments," (",e.baseCurrency,")"]}),c.jsx("p",{className:"text-sm font-light text-slate-400 leading-snug",children:r.dashboard.settleSubtitle})]}),c.jsx("div",{className:"text-3xl",children:""})]}),c.jsx("div",{className:"space-y-3",children:O.map((w,E)=>c.jsxs("div",{className:"p-5 bg-slate-900 border border-slate-800 rounded-[2rem] shadow-sm flex items-center gap-4",children:[c.jsxs("div",{className:"flex-1 text-center",children:[c.jsx("p",{className:"font-bold text-slate-100 text-xs truncate",children:R(w.from)}),c.jsx("p",{className:"text-[9px] font-black uppercase text-slate-600",children:r.dashboard.pays})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"text-lg font-black text-indigo-400",children:_t(w.amount,e.baseCurrency)}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-indigo-500/50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}),c.jsxs("div",{className:"flex-1 text-center",children:[c.jsx("p",{className:"font-bold text-slate-100 text-xs truncate",children:R(w.to)}),c.jsx("p",{className:"text-[9px] font-black uppercase text-slate-600",children:r.dashboard.to})]})]},E))})]}),u==="stats"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-2 duration-300",children:[c.jsx("div",{className:"bg-slate-900 border border-slate-800 p-6 rounded-[2rem] flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h3",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mb-1",children:r.dashboard.statsTitle}),c.jsx("p",{className:"text-sm font-light text-slate-400",children:r.dashboard.statsSubtitle})]})}),c.jsxs("div",{className:"flex flex-col items-center py-6 bg-slate-900/30 border border-slate-800 rounded-[3rem]",children:[c.jsxs("div",{className:"relative w-56 h-56 mb-8 flex items-center justify-center",children:[c.jsx("svg",{viewBox:"0 0 100 100",className:"w-full h-full -rotate-90",children:(()=>{let w=0;return z.map(([E,x],k)=>{const X=x/A*100,at=`${X} ${100-X}`,Ot=-w;w+=X;const jt=_===E,Tg=_!==null;return c.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"transparent",stroke:$r[E]||"#64748b",strokeWidth:jt?"14":"10",strokeDasharray:at,strokeDashoffset:Ot,pathLength:"100",strokeLinecap:"butt",pointerEvents:"visibleStroke",className:"transition-all duration-300 cursor-pointer origin-center",style:{opacity:Tg&&!jt?.3:1,filter:jt?`drop-shadow(0 0 6px ${$r[E]})`:"none",zIndex:jt?10:1},onMouseEnter:()=>Ae(E),onMouseLeave:()=>Ae(null),onTouchStart:()=>Ae(E)},E)})})()}),c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none text-center px-6",children:[c.jsx("span",{className:"text-[10px] font-black text-slate-600 uppercase tracking-widest transition-all duration-300",children:_||"Total"}),c.jsx("span",{className:"text-xl font-black text-white transition-all duration-300",children:_t(_?((bt=z.find(w=>w[0]===_))==null?void 0:bt[1])||0:A,e.baseCurrency)}),_&&c.jsxs("span",{className:"text-[10px] font-black text-indigo-400/80 animate-in fade-in zoom-in-75 duration-200",children:[Math.round((((N=z.find(w=>w[0]===_))==null?void 0:N[1])||0)/A*100),"%"]})]})]}),c.jsx("div",{className:"w-full px-6 grid grid-cols-2 gap-3",children:z.map(([w,E])=>{const x=_===w;return c.jsxs("div",{onMouseEnter:()=>Ae(w),onMouseLeave:()=>Ae(null),className:`flex items-center gap-2 p-3 rounded-2xl border transition-all duration-300 cursor-pointer ${x?"bg-slate-800 border-indigo-500/50 scale-[1.02] shadow-lg shadow-indigo-900/10":"bg-slate-900 border-slate-800 opacity-80"}`,children:[c.jsx("div",{className:"w-3 h-3 rounded-full shrink-0 transition-transform duration-300",style:{backgroundColor:$r[w]||"#64748b",transform:x?"scale(1.2)":"scale(1)"}}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:`text-[10px] font-black uppercase truncate transition-colors ${x?"text-indigo-400":"text-slate-500"}`,children:w}),c.jsx("p",{className:"text-xs font-bold text-slate-100",children:_t(E,e.baseCurrency)})]})]},w)})})]})]}),p&&c.jsx("div",{className:"fixed inset-0 z-[11000] flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-sm animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-slate-900 border border-slate-800 p-8 rounded-[2.5rem] shadow-2xl max-w-sm w-full animate-in zoom-in-95 duration-200",children:[c.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:r.dashboard.removeTitle}),c.jsx("p",{className:"text-slate-400 mb-8 leading-relaxed",children:r.dashboard.removeSubtitle}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>f(null),className:"flex-1 py-4 px-4 rounded-2xl border border-slate-800 text-slate-500 font-bold hover:bg-slate-800 active:scale-95 transition-all",children:r.common.cancel}),c.jsx("button",{onClick:()=>{l(p),f(null)},className:"flex-1 py-4 px-4 rounded-2xl bg-red-600 text-white font-black hover:bg-red-700 active:scale-95 transition-all shadow-lg shadow-red-900/20",children:r.common.delete})]})]})})]})},h_=[{id:"Food",icon:"",label:"food"},{id:"Transport",icon:"",label:"transport"},{id:"Lodging",icon:"",label:"lodging"},{id:"Grocery",icon:"",label:"grocery"},{id:"Activity",icon:"",label:"activity"},{id:"Other",icon:"",label:"other"}],f_=({people:e,baseCurrency:t,initialExpense:a,onSubmit:n,onCancel:i})=>{var E;const{t:l}=ei(),s=D.useMemo(()=>[...e].sort((x,k)=>x.name.localeCompare(k.name)),[e]),[r,o]=D.useState((a==null?void 0:a.description)||""),[u,d]=D.useState((a==null?void 0:a.category)||"Other"),[p,f]=D.useState(a?Wd(a.amount.toString()):""),[g,y]=D.useState(()=>{if(a)return a.paidById;const x=localStorage.getItem("tripshare_last_payer");return x&&e.some(k=>k.id===x)?x:""}),[_,S]=D.useState(a?a.splitAmongIds==="ALL"?"ALL":"CUSTOM":"ALL"),[v,h]=D.useState(Array.isArray(a==null?void 0:a.splitAmongIds)?a.splitAmongIds:[]),[m,b]=D.useState((a==null?void 0:a.currency)||t),[O,j]=D.useState((a==null?void 0:a.exchangeRate)||1),[A,C]=D.useState(!1),[R,z]=D.useState(""),[oe,M]=D.useState(!1);D.useEffect(()=>{const x=async()=>{if(m===t){j(1);return}M(!0);const k=await o_(m,t);j(k),M(!1)};(!a||m!==a.currency)&&x()},[m,t]);const Ae=x=>{const k=x.target.value;/^[0-9\s.,]*$/.test(k)&&f(Wd(k))},Ta=x=>{typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(10),d(x.id),r.trim()||o(l.expenseForm.categories[x.label])},bt=x=>{typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(10),h(k=>k.includes(x)?k.filter(G=>G!==x):[...k,x])},N=x=>{x.preventDefault();const k=l_(p);!r.trim()||k<=0||!g||_==="CUSTOM"&&v.length===0||(localStorage.setItem("tripshare_last_payer",g),n({description:r.trim(),category:u,amount:k,currency:m,exchangeRate:O,paidById:g,splitAmongIds:_==="ALL"?"ALL":v}))},w=Ci.filter(x=>x.code.toLowerCase().includes(R.toLowerCase())||x.name.toLowerCase().includes(R.toLowerCase()));return c.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:a?l.expenseForm.editTitle:l.expenseForm.addTitle}),c.jsx("button",{onClick:i,className:"p-2 text-slate-500 hover:text-slate-300 transition-colors active:scale-90",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("form",{onSubmit:N,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest px-1",children:l.expenseForm.description}),c.jsx("input",{type:"text",placeholder:l.expenseForm.descPlaceholder,className:"w-full px-5 py-4 rounded-2xl border border-slate-800 bg-slate-900 text-white placeholder-slate-600 focus:ring-2 focus:ring-indigo-500 outline-none text-lg transition-all",value:r,onChange:x=>o(x.target.value),autoFocus:!0,required:!0}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar -mx-1 px-1",children:h_.map(x=>c.jsxs("button",{type:"button",onClick:()=>Ta(x),className:`px-4 py-2 rounded-xl text-xs font-bold border transition-all flex items-center gap-2 shrink-0 active:scale-95 ${u===x.id?"bg-indigo-600 border-indigo-500 text-white":"bg-slate-900 border-slate-800 text-slate-500 hover:border-slate-700"}`,children:[c.jsx("span",{children:x.icon}),c.jsx("span",{children:l.expenseForm.categories[x.label]})]},x.id))})]}),c.jsxs("div",{className:"grid grid-cols-12 gap-3",children:[c.jsxs("div",{className:"col-span-8 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest px-1",children:l.expenseForm.amount}),c.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0",className:"w-full px-5 py-4 rounded-2xl border border-slate-800 bg-slate-900 text-white placeholder-slate-600 focus:ring-2 focus:ring-indigo-500 outline-none text-2xl",value:p,onChange:Ae,required:!0})]}),c.jsxs("div",{className:"col-span-4 space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest px-1",children:l.expenseForm.currency}),c.jsxs("button",{type:"button",onClick:()=>C(!0),className:"w-full h-[66px] px-2 rounded-2xl border border-slate-800 bg-slate-900 text-white flex flex-col items-center justify-center active:scale-95 transition-all",children:[c.jsx("span",{className:"text-xs opacity-60 uppercase font-black tracking-tighter",children:m}),c.jsx("span",{className:"text-xl",children:(E=Ci.find(x=>x.code===m))==null?void 0:E.flag})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest px-1",children:l.expenseForm.whoPaid}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.map(x=>c.jsx("button",{type:"button",onClick:()=>{navigator.vibrate&&navigator.vibrate(10),y(x.id)},className:`px-4 py-3 rounded-xl text-sm font-bold border transition-all active:scale-95 ${g===x.id?"bg-indigo-600 text-white border-indigo-400":"bg-slate-900 text-slate-400 border-slate-800"}`,children:x.name},x.id))})]}),c.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-800",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest px-1",children:l.expenseForm.splitWith}),c.jsxs("div",{className:"flex p-1 bg-slate-800 rounded-xl border border-slate-700",children:[c.jsx("button",{type:"button",onClick:()=>S("ALL"),className:`px-4 py-1.5 text-[10px] font-black rounded-lg transition-all ${_==="ALL"?"bg-indigo-600 text-white":"text-slate-500"}`,children:l.common.all.toUpperCase()}),c.jsx("button",{type:"button",onClick:()=>S("CUSTOM"),className:`px-4 py-1.5 text-[10px] font-black rounded-lg transition-all ${_==="CUSTOM"?"bg-indigo-600 text-white":"text-slate-500"}`,children:"CUSTOM"})]})]}),_==="CUSTOM"&&c.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.map(x=>c.jsxs("button",{type:"button",onClick:()=>bt(x.id),className:`px-4 py-3 rounded-xl text-sm font-bold border transition-all flex items-center justify-between active:scale-95 ${v.includes(x.id)?"bg-indigo-500/10 text-indigo-400 border-indigo-500/30":"bg-slate-900 text-slate-400 border-slate-800"}`,children:[c.jsx("span",{children:x.name}),v.includes(x.id)&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},x.id))})]})]}),c.jsx("button",{type:"submit",className:"w-full bg-white hover:bg-slate-100 disabled:bg-slate-800 disabled:text-slate-600 text-slate-950 font-black py-5 rounded-2xl shadow-xl transition-all active:scale-95 mt-4",children:a?l.common.save:l.expenseForm.confirmBtn})]}),A&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/90 backdrop-blur-md animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl w-full max-w-sm flex flex-col max-h-[80vh] animate-in zoom-in-95 shadow-2xl",children:[c.jsxs("div",{className:"p-6 border-b border-slate-800 space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-xl font-black text-white",children:l.expenseForm.currency}),c.jsx("button",{onClick:()=>C(!1),className:"text-slate-500 hover:text-white transition-colors",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("input",{type:"text",placeholder:l.expenseForm.searchCurrency,className:"w-full px-4 py-3 rounded-xl border border-slate-800 bg-slate-800/50 text-white outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:R,onChange:x=>z(x.target.value),autoFocus:!0})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-2 no-scrollbar",children:w.map(x=>c.jsxs("button",{onClick:()=>{b(x.code),C(!1)},className:`w-full flex items-center gap-4 p-4 rounded-xl transition-all active:scale-95 ${m===x.code?"bg-indigo-600 text-white":"hover:bg-slate-800 text-slate-400"}`,children:[c.jsx("span",{className:"text-2xl",children:x.flag}),c.jsxs("div",{className:"flex flex-col items-start",children:[c.jsx("span",{className:"font-bold",children:x.code}),c.jsx("span",{className:"text-xs opacity-60",children:x.name})]})]},x.code))})]})})]})},g_=({isOpen:e,onClose:t})=>{const{language:a,setLanguage:n,t:i}=ei();if(!e)return null;const l=[{code:"en",name:i.common.english,flag:""},{code:"sv",name:i.common.swedish,flag:""}];return c.jsx("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center p-4 bg-slate-950/95 backdrop-blur-2xl animate-in fade-in duration-300",children:c.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-[2.5rem] shadow-[0_0_80px_-10px_rgba(0,0,0,0.8)] w-full max-w-[340px] overflow-hidden animate-in zoom-in-95 duration-200",onClick:s=>s.stopPropagation(),children:[c.jsxs("div",{className:"p-7 border-b border-slate-800/50 flex items-center justify-between",children:[c.jsx("h3",{className:"text-2xl font-black text-white tracking-tight",children:i.common.language}),c.jsx("button",{onClick:t,className:"p-2 text-slate-600 hover:text-white transition-colors rounded-xl bg-slate-800/50",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsx("div",{className:"p-5 space-y-3",children:l.map(s=>c.jsxs("button",{onClick:()=>{n(s.code),t()},className:`w-full flex items-center gap-5 p-6 rounded-3xl transition-all ${a===s.code?"bg-indigo-600 text-white shadow-xl shadow-indigo-900/60 ring-2 ring-indigo-400/30":"text-slate-500 hover:bg-slate-800 hover:text-slate-200 border border-transparent"}`,children:[c.jsx("span",{className:"text-3xl filter drop-shadow-md",children:s.flag}),c.jsx("span",{className:"font-black flex-1 text-left text-lg tracking-tight",children:s.name}),a===s.code&&c.jsx("div",{className:"bg-white/20 p-1.5 rounded-full",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},s.code))})]})})},Gr={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"sb_publishable_glWmSYGMFQGXnmSa2hjqpg_KCA_ixsT",VITE_SUPABASE_URL:"https://ceghrkjcbtuganvufxva.supabase.co"};var Vr={};const xg=e=>{try{if(typeof process<"u"&&Vr&&Vr[e])return Vr[e];if(typeof import.meta<"u"&&Gr&&Gr[e])return Gr[e]}catch{}return""},Fd=xg("VITE_SUPABASE_URL"),eh=xg("VITE_SUPABASE_ANON_KEY"),ue=Fd&&eh?Fb(Fd,eh):null,m_=()=>{const{t:e}=ei(),[t,a]=D.useState("ONBOARDING"),[n,i]=D.useState(null),[l,s]=D.useState(null),[r,o]=D.useState(!1),[u,d]=D.useState(!1),[p,f]=D.useState(!1),[g,y]=D.useState([]),[_,S]=D.useState([]),[v,h]=D.useState(!1),[m,b]=D.useState(!1),[O,j]=D.useState(null),[A,C]=D.useState(!ue),R=D.useRef(!1),z=(w="light")=>{if(typeof navigator<"u"&&navigator.vibrate){const E={light:10,medium:30,heavy:60};navigator.vibrate(E[w])}};D.useEffect(()=>{const w=localStorage.getItem("tripshare_history");w&&y(JSON.parse(w)),localStorage.getItem("tripshare_mode")==="local"&&C(!0)},[]),D.useEffect(()=>{t==="ONBOARDING"&&M()},[t,A]),D.useEffect(()=>{const w=async()=>{const E=window.location.hash;if(E.startsWith("#/trip/")){const x=E.replace("#/trip/","");(!n||n.id!==x)&&await Ae(x)}else E||(i(null),a("ONBOARDING"))};return w(),window.addEventListener("hashchange",w),()=>window.removeEventListener("hashchange",w)},[n==null?void 0:n.id,A]),D.useEffect(()=>{if(!(n!=null&&n.id)||!ue||A)return;const w=ue.channel(`trip-updates-${n.id}`).on("postgres_changes",{event:"*",schema:"public",table:"people",filter:`trip_id=eq.${n.id}`},()=>{R.current||Ae(n.id)}).on("postgres_changes",{event:"*",schema:"public",table:"expenses",filter:`trip_id=eq.${n.id}`},()=>{R.current||Ae(n.id)}).subscribe();return()=>{ue.removeChannel(w)}},[n==null?void 0:n.id,A]);const oe=(w,E)=>{y(x=>{const k=x.filter(X=>X.id!==w),G=[{id:w,name:E,lastVisited:Date.now()},...k].slice(0,10);return localStorage.setItem("tripshare_history",JSON.stringify(G)),G})},M=async()=>{if(A){const w=JSON.parse(localStorage.getItem("tripshare_local_index")||"[]");S(w);return}if(ue){f(!0);try{const{data:w}=await ue.from("trips").select("id, name").limit(100);S((w||[]).map(E=>({id:E.id,name:E.name,lastVisited:0})))}finally{f(!1)}}},Ae=async w=>{o(!0);try{if(A){const X=localStorage.getItem(`tripshare_trip_${w}`);if(!X)throw new Error("Trip not found");const at=JSON.parse(X);i(at),oe(at.id,at.name),at.people.length<2?a("PEOPLE_SETUP"):(t==="ONBOARDING"||t==="PEOPLE_SETUP")&&a("DASHBOARD");return}if(!ue)return;const{data:E,error:x}=await ue.from("trips").select("*").eq("id",w).single();if(x||!E)throw x;const{data:k}=await ue.from("people").select("*").eq("trip_id",w),{data:G}=await ue.from("expenses").select("*").eq("trip_id",w).order("date",{ascending:!1});i({id:E.id,name:E.name,baseCurrency:E.base_currency||"SEK",people:(k||[]).map(X=>({id:X.id,name:X.name,mergedWithId:X.merged_with_id||void 0})),expenses:(G||[]).map(X=>({id:X.id,description:X.description,category:X.category||"Other",amount:parseFloat(X.amount),currency:X.currency||"SEK",exchangeRate:parseFloat(X.exchange_rate)||1,paidById:X.paid_by_id,splitAmongIds:X.split_among_ids,date:X.date}))}),oe(E.id,E.name),!k||k.length<2?a("PEOPLE_SETUP"):(t==="ONBOARDING"||t==="PEOPLE_SETUP")&&a("DASHBOARD")}catch{window.location.hash="",a("ONBOARDING")}finally{o(!1)}},Ta=async(w,E)=>{z("medium"),o(!0);try{if(A){const G={id:crypto.randomUUID(),name:w,baseCurrency:E,people:[],expenses:[]};localStorage.setItem(`tripshare_trip_${G.id}`,JSON.stringify(G));const X=JSON.parse(localStorage.getItem("tripshare_local_index")||"[]");localStorage.setItem("tripshare_local_index",JSON.stringify([{id:G.id,name:G.name},...X])),oe(G.id,w),window.location.hash=`#/trip/${G.id}`;return}if(!ue)return;const{data:x,error:k}=await ue.from("trips").insert({name:w,base_currency:E}).select().single();if(k)throw k;oe(x.id,w),window.location.hash=`#/trip/${x.id}`}catch{o(!1)}},bt=async w=>{if(n){z("medium"),d(!0);try{if(A){const G={...n,people:w};localStorage.setItem(`tripshare_trip_${n.id}`,JSON.stringify(G)),i(G),a("DASHBOARD");return}if(!ue)return;R.current=!0;const E=w.map(G=>G.id),x=n.people.filter(G=>!E.includes(G.id)).map(G=>G.id);x.length>0&&(await ue.from("people").update({merged_with_id:null}).in("merged_with_id",x),await ue.from("people").delete().in("id",x));const k=w.map(G=>({id:G.id,name:G.name,trip_id:n.id,merged_with_id:G.mergedWithId||null}));await ue.from("people").upsert(k,{onConflict:"id"}),await Ae(n.id),a("DASHBOARD")}catch{alert("Failed to update people.")}finally{d(!1),setTimeout(()=>{R.current=!1},200)}}},N=async(w,E=!1)=>{if(!n)return;if(A){const k=[...n.expenses];if(l){const X=k.findIndex(at=>at.id===l.id);X!==-1&&(k[X]={...w,id:l.id,date:l.date})}else k.unshift({...w,id:crypto.randomUUID(),date:Date.now()});const G={...n,expenses:k};localStorage.setItem(`tripshare_trip_${n.id}`,JSON.stringify(G)),i(G),s(null),a("DASHBOARD");return}if(!ue)return;R.current=!0;const x={...w,amount:w.amount,exchange_rate:w.exchangeRate,paid_by_id:w.paidById,split_among_ids:w.splitAmongIds,trip_id:n.id};try{l?await ue.from("expenses").update(x).eq("id",l.id):await ue.from("expenses").insert({...x,date:Date.now()}),s(null),await Ae(n.id),a("DASHBOARD")}catch{alert("Failed to save expense.")}finally{setTimeout(()=>{R.current=!1},200)}};return r&&!u?c.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center space-y-4",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-indigo-500/30 border-t-indigo-500 rounded-full animate-spin"}),c.jsx("p",{className:"text-slate-500 font-medium animate-pulse",children:e.common.loading})]}):!ue&&!A?c.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-6 text-center",children:c.jsxs("div",{className:"max-w-md w-full space-y-8 animate-in fade-in zoom-in-95 duration-700",children:[c.jsx("div",{className:"w-20 h-20 bg-indigo-500/10 rounded-3xl flex items-center justify-center mx-auto mb-6 border border-indigo-500/20",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),c.jsx("h1",{className:"text-3xl font-black text-white tracking-tight",children:"Setup TripShare"}),c.jsx("p",{className:"text-slate-400 leading-relaxed",children:"Choose how you want to save your journeys."}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("button",{onClick:()=>{C(!0),localStorage.setItem("tripshare_mode","local")},className:"w-full py-5 bg-slate-100 text-slate-950 font-black rounded-2xl shadow-xl hover:bg-white transition-all active:scale-95",children:"Use Local Mode (No Account)"}),c.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-2xl p-5 text-left text-xs text-slate-500",children:[c.jsx("p",{className:"font-bold text-slate-400 mb-2 uppercase tracking-widest",children:"Connect to Cloud (Supabase)"}),"To enable real-time syncing, set your ",c.jsx("code",{className:"text-indigo-400",children:"VITE_SUPABASE_URL"})," in your environment variables and refresh."]})]})]})}):c.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 relative overflow-x-hidden",children:[c.jsx(g_,{isOpen:v,onClose:()=>h(!1)}),m&&c.jsx("div",{className:"fixed inset-0 z-[20000] flex items-center justify-center p-6 bg-slate-950/90 backdrop-blur-md",children:c.jsxs("div",{className:"bg-slate-900 border border-red-500/20 p-8 rounded-[2.5rem] shadow-2xl max-w-sm w-full space-y-6",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h3",{className:"text-xl font-black text-white",children:e.dashboard.conflictTitle}),c.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:e.dashboard.conflictSubtitle})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:()=>{O&&N(O,!0),b(!1)},className:"w-full py-4 bg-red-600 text-white font-black rounded-2xl shadow-lg shadow-red-900/40 active:scale-95 transition-all",children:e.dashboard.overwrite}),c.jsx("button",{onClick:()=>b(!1),className:"w-full py-4 text-slate-500 font-bold hover:text-white transition-colors",children:e.common.cancel})]})]})}),u&&c.jsx("div",{className:"fixed inset-0 z-[10000] bg-slate-950/60 backdrop-blur-sm flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 border-4 border-indigo-500/20 border-t-indigo-500 rounded-full animate-spin"}),c.jsx("span",{className:"text-xs font-black uppercase tracking-[0.2em] text-indigo-400",children:"Updating..."})]})}),c.jsxs("main",{className:"max-w-xl mx-auto px-4 py-8 md:py-12",children:[t==="ONBOARDING"&&c.jsx(u_,{onCreate:Ta,onOpenLanguage:()=>h(!0),history:g,allTrips:_,isLoadingTrips:p}),n&&t==="PEOPLE_SETUP"&&c.jsx(c_,{people:n.people,onSave:bt,onCancel:()=>a("DASHBOARD"),isInitial:n.people.length===0}),n&&t==="DASHBOARD"&&c.jsx(d_,{trip:n,onAddExpense:()=>{z("light"),s(null),a("ADD_EXPENSE")},onEditExpense:w=>{z("light"),s(w),a("EDIT_EXPENSE")},onEditPeople:()=>{z("light"),a("PEOPLE_SETUP")},onOpenLanguage:()=>{z("light"),h(!0)},onDeleteExpense:async w=>{if(z("medium"),A){const E=n.expenses.filter(k=>k.id!==w),x={...n,expenses:E};localStorage.setItem(`tripshare_trip_${n.id}`,JSON.stringify(x)),i(x);return}ue&&(R.current=!0,await ue.from("expenses").delete().eq("id",w),await Ae(n.id),setTimeout(()=>{R.current=!1},200))},onReset:()=>{z("heavy"),i(null),window.location.hash="",a("ONBOARDING")}}),n&&(t==="ADD_EXPENSE"||t==="EDIT_EXPENSE")&&c.jsx(f_,{people:n.people,baseCurrency:n.baseCurrency,initialExpense:l||void 0,onSubmit:N,onCancel:()=>{z("light"),s(null),a("DASHBOARD")}})]}),A&&c.jsx("div",{className:"fixed bottom-4 left-4 right-4 max-w-xl mx-auto pointer-events-none",children:c.jsx("div",{className:"bg-amber-500/10 border border-amber-500/20 p-2 rounded-xl text-[9px] font-black uppercase tracking-widest text-amber-500/60 text-center backdrop-blur-sm pointer-events-auto shadow-xl",children:"Local Mode Active  Data stays on this device"})})]})},v_=()=>c.jsx(i_,{children:c.jsx(m_,{})}),Eg=document.getElementById("root");if(!Eg)throw new Error("Could not find root element to mount to");const p_=Ep.createRoot(Eg);p_.render(c.jsx(Kg.StrictMode,{children:c.jsx(v_,{})}));
