(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function a(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=a(i);fetch(i.href,s)}})();function sh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lh={exports:{}},Cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg=Symbol.for("react.transitional.element"),kg=Symbol.for("react.fragment");function rh(e,t,a){var n=null;if(a!==void 0&&(n=""+a),t.key!==void 0&&(n=""+t.key),"key"in t){a={};for(var i in t)i!=="key"&&(a[i]=t[i])}else a=t;return t=a.ref,{$$typeof:Rg,type:e,key:n,ref:t!==void 0?t:null,props:a}}Cl.Fragment=kg;Cl.jsx=rh;Cl.jsxs=rh;lh.exports=Cl;var c=lh.exports,oh={exports:{}},M={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fo=Symbol.for("react.transitional.element"),Dg=Symbol.for("react.portal"),Ug=Symbol.for("react.fragment"),zg=Symbol.for("react.strict_mode"),Bg=Symbol.for("react.profiler"),Mg=Symbol.for("react.consumer"),Lg=Symbol.for("react.context"),qg=Symbol.for("react.forward_ref"),Hg=Symbol.for("react.suspense"),$g=Symbol.for("react.memo"),uh=Symbol.for("react.lazy"),Gg=Symbol.for("react.activity"),ac=Symbol.iterator;function Vg(e){return e===null||typeof e!="object"?null:(e=ac&&e[ac]||e["@@iterator"],typeof e=="function"?e:null)}var ch={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dh=Object.assign,hh={};function Yn(e,t,a){this.props=e,this.context=t,this.refs=hh,this.updater=a||ch}Yn.prototype.isReactComponent={};Yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fh(){}fh.prototype=Yn.prototype;function eu(e,t,a){this.props=e,this.context=t,this.refs=hh,this.updater=a||ch}var tu=eu.prototype=new fh;tu.constructor=eu;dh(tu,Yn.prototype);tu.isPureReactComponent=!0;var nc=Array.isArray;function Qr(){}var ie={H:null,A:null,T:null,S:null},ph=Object.prototype.hasOwnProperty;function au(e,t,a){var n=a.ref;return{$$typeof:Fo,type:e,key:t,ref:n!==void 0?n:null,props:a}}function Kg(e,t){return au(e.type,t,e.props)}function nu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fo}function Yg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var ic=/\/+/g;function Fl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Yg(""+e.key):t.toString(36)}function Qg(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Qr,Qr):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function rn(e,t,a,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Fo:case Dg:l=!0;break;case uh:return l=e._init,rn(l(e._payload),t,a,n,i)}}if(l)return i=i(e),l=n===""?"."+Fl(e,0):n,nc(i)?(a="",l!=null&&(a=l.replace(ic,"$&/")+"/"),rn(i,t,a,"",function(u){return u})):i!=null&&(nu(i)&&(i=Kg(i,a+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(ic,"$&/")+"/")+l)),t.push(i)),1;l=0;var r=n===""?".":n+":";if(nc(e))for(var o=0;o<e.length;o++)n=e[o],s=r+Fl(n,o),l+=rn(n,t,a,s,i);else if(o=Vg(e),typeof o=="function")for(e=o.call(e),o=0;!(n=e.next()).done;)n=n.value,s=r+Fl(n,o++),l+=rn(n,t,a,s,i);else if(s==="object"){if(typeof e.then=="function")return rn(Qg(e),t,a,n,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function ps(e,t,a){if(e==null)return e;var n=[],i=0;return rn(e,n,"","",function(s){return t.call(a,s,i++)}),n}function Ig(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Jg={map:ps,forEach:function(e,t,a){ps(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return ps(e,function(){t++}),t},toArray:function(e){return ps(e,function(t){return t})||[]},only:function(e){if(!nu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Activity=Gg;M.Children=Jg;M.Component=Yn;M.Fragment=Ug;M.Profiler=Bg;M.PureComponent=eu;M.StrictMode=zg;M.Suspense=Hg;M.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie;M.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ie.H.useMemoCache(e)}};M.cache=function(e){return function(){return e.apply(null,arguments)}};M.cacheSignal=function(){return null};M.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=dh({},e.props),i=e.key;if(t!=null)for(s in t.key!==void 0&&(i=""+t.key),t)!ph.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(n[s]=t[s]);var s=arguments.length-2;if(s===1)n.children=a;else if(1<s){for(var l=Array(s),r=0;r<s;r++)l[r]=arguments[r+2];n.children=l}return au(e.type,i,n)};M.createContext=function(e){return e={$$typeof:Lg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Mg,_context:e},e};M.createElement=function(e,t,a){var n,i={},s=null;if(t!=null)for(n in t.key!==void 0&&(s=""+t.key),t)ph.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=a;else if(1<l){for(var r=Array(l),o=0;o<l;o++)r[o]=arguments[o+2];i.children=r}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return au(e,s,i)};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:qg,render:e}};M.isValidElement=nu;M.lazy=function(e){return{$$typeof:uh,_payload:{_status:-1,_result:e},_init:Ig}};M.memo=function(e,t){return{$$typeof:$g,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=ie.T,a={};ie.T=a;try{var n=e(),i=ie.S;i!==null&&i(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(Qr,sc)}catch(s){sc(s)}finally{t!==null&&a.types!==null&&(t.types=a.types),ie.T=t}};M.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()};M.use=function(e){return ie.H.use(e)};M.useActionState=function(e,t,a){return ie.H.useActionState(e,t,a)};M.useCallback=function(e,t){return ie.H.useCallback(e,t)};M.useContext=function(e){return ie.H.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e,t){return ie.H.useDeferredValue(e,t)};M.useEffect=function(e,t){return ie.H.useEffect(e,t)};M.useEffectEvent=function(e){return ie.H.useEffectEvent(e)};M.useId=function(){return ie.H.useId()};M.useImperativeHandle=function(e,t,a){return ie.H.useImperativeHandle(e,t,a)};M.useInsertionEffect=function(e,t){return ie.H.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return ie.H.useLayoutEffect(e,t)};M.useMemo=function(e,t){return ie.H.useMemo(e,t)};M.useOptimistic=function(e,t){return ie.H.useOptimistic(e,t)};M.useReducer=function(e,t,a){return ie.H.useReducer(e,t,a)};M.useRef=function(e){return ie.H.useRef(e)};M.useState=function(e){return ie.H.useState(e)};M.useSyncExternalStore=function(e,t,a){return ie.H.useSyncExternalStore(e,t,a)};M.useTransition=function(){return ie.H.useTransition()};M.version="19.2.4";oh.exports=M;var C=oh.exports;const Xg=sh(C);var gh={exports:{}},Rl={},mh={exports:{}},vh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(w,O){var R=w.length;w.push(O);e:for(;0<R;){var Y=R-1>>>1,J=w[Y];if(0<i(J,O))w[Y]=O,w[R]=J,R=Y;else break e}}function a(w){return w.length===0?null:w[0]}function n(w){if(w.length===0)return null;var O=w[0],R=w.pop();if(R!==O){w[0]=R;e:for(var Y=0,J=w.length,vt=J>>>1;Y<vt;){var Jt=2*(Y+1)-1,Xt=w[Jt],N=Jt+1,V=w[N];if(0>i(Xt,R))N<J&&0>i(V,Xt)?(w[Y]=V,w[N]=R,Y=N):(w[Y]=Xt,w[Jt]=R,Y=Jt);else if(N<J&&0>i(V,R))w[Y]=V,w[N]=R,Y=N;else break e}}return O}function i(w,O){var R=w.sortIndex-O.sortIndex;return R!==0?R:w.id-O.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,r=l.now();e.unstable_now=function(){return l.now()-r}}var o=[],u=[],d=1,v=null,p=3,f=!1,b=!1,_=!1,S=!1,g=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;function y(w){for(var O=a(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=w)n(u),O.sortIndex=O.expirationTime,t(o,O);else break;O=a(u)}}function T(w){if(_=!1,y(w),!b)if(a(o)!==null)b=!0,j||(j=!0,$e());else{var O=a(u);O!==null&&It(T,O.startTime-w)}}var j=!1,E=-1,A=5,k=-1;function L(){return S?!0:!(e.unstable_now()-k<A)}function xe(){if(S=!1,j){var w=e.unstable_now();k=w;var O=!0;try{e:{b=!1,_&&(_=!1,h(E),E=-1),f=!0;var R=p;try{t:{for(y(w),v=a(o);v!==null&&!(v.expirationTime>w&&L());){var Y=v.callback;if(typeof Y=="function"){v.callback=null,p=v.priorityLevel;var J=Y(v.expirationTime<=w);if(w=e.unstable_now(),typeof J=="function"){v.callback=J,y(w),O=!0;break t}v===a(o)&&n(o),y(w)}else n(o);v=a(o)}if(v!==null)O=!0;else{var vt=a(u);vt!==null&&It(T,vt.startTime-w),O=!1}}break e}finally{v=null,p=R,f=!1}O=void 0}}finally{O?$e():j=!1}}}var $e;if(typeof m=="function")$e=function(){m(xe)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,Qt=mt.port2;mt.port1.onmessage=xe,$e=function(){Qt.postMessage(null)}}else $e=function(){g(xe,0)};function It(w,O){E=g(function(){w(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(w){w.callback=null},e.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<w?Math.floor(1e3/w):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(w){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var R=p;p=O;try{return w()}finally{p=R}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(w,O){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var R=p;p=w;try{return O()}finally{p=R}},e.unstable_scheduleCallback=function(w,O,R){var Y=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?Y+R:Y):R=Y,w){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=R+J,w={id:d++,callback:O,priorityLevel:w,startTime:R,expirationTime:J,sortIndex:-1},R>Y?(w.sortIndex=R,t(u,w),a(o)===null&&w===a(u)&&(_?(h(E),E=-1):_=!0,It(T,R-Y))):(w.sortIndex=J,t(o,w),b||f||(b=!0,j||(j=!0,$e()))),w},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(w){var O=p;return function(){var R=p;p=O;try{return w.apply(this,arguments)}finally{p=R}}}})(vh);mh.exports=vh;var Zg=mh.exports,yh={exports:{}},De={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg=C;function bh(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zt(){}var ke={d:{f:Zt,r:function(){throw Error(bh(522))},D:Zt,C:Zt,L:Zt,m:Zt,X:Zt,S:Zt,M:Zt},p:0,findDOMNode:null},Wg=Symbol.for("react.portal");function Fg(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wg,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var mi=Pg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function kl(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}De.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ke;De.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(bh(299));return Fg(e,t,null,a)};De.flushSync=function(e){var t=mi.T,a=ke.p;try{if(mi.T=null,ke.p=2,e)return e()}finally{mi.T=t,ke.p=a,ke.d.f()}};De.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ke.d.C(e,t))};De.prefetchDNS=function(e){typeof e=="string"&&ke.d.D(e)};De.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=kl(a,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?ke.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:s}):a==="script"&&ke.d.X(e,{crossOrigin:n,integrity:i,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};De.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=kl(t.as,t.crossOrigin);ke.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ke.d.M(e)};De.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=kl(a,t.crossOrigin);ke.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};De.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=kl(t.as,t.crossOrigin);ke.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ke.d.m(e)};De.requestFormReset=function(e){ke.d.r(e)};De.unstable_batchedUpdates=function(e,t){return e(t)};De.useFormState=function(e,t,a){return mi.H.useFormState(e,t,a)};De.useFormStatus=function(){return mi.H.useHostTransitionStatus()};De.version="19.2.4";function _h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_h)}catch(e){console.error(e)}}_h(),yh.exports=De;var em=yh.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var be=Zg,wh=C,tm=em;function x(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Sh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function es(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function xh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Th(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lc(e){if(es(e)!==e)throw Error(x(188))}function am(e){var t=e.alternate;if(!t){if(t=es(e),t===null)throw Error(x(188));return t!==e?null:e}for(var a=e,n=t;;){var i=a.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===a)return lc(i),e;if(s===n)return lc(i),t;s=s.sibling}throw Error(x(188))}if(a.return!==n.return)a=i,n=s;else{for(var l=!1,r=i.child;r;){if(r===a){l=!0,a=i,n=s;break}if(r===n){l=!0,n=i,a=s;break}r=r.sibling}if(!l){for(r=s.child;r;){if(r===a){l=!0,a=s,n=i;break}if(r===n){l=!0,n=s,a=i;break}r=r.sibling}if(!l)throw Error(x(189))}}if(a.alternate!==n)throw Error(x(190))}if(a.tag!==3)throw Error(x(188));return a.stateNode.current===a?e:t}function Eh(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Eh(e),t!==null)return t;e=e.sibling}return null}var se=Object.assign,nm=Symbol.for("react.element"),gs=Symbol.for("react.transitional.element"),ci=Symbol.for("react.portal"),fn=Symbol.for("react.fragment"),Ah=Symbol.for("react.strict_mode"),Ir=Symbol.for("react.profiler"),jh=Symbol.for("react.consumer"),Dt=Symbol.for("react.context"),iu=Symbol.for("react.forward_ref"),Jr=Symbol.for("react.suspense"),Xr=Symbol.for("react.suspense_list"),su=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),Zr=Symbol.for("react.activity"),im=Symbol.for("react.memo_cache_sentinel"),rc=Symbol.iterator;function ai(e){return e===null||typeof e!="object"?null:(e=rc&&e[rc]||e["@@iterator"],typeof e=="function"?e:null)}var sm=Symbol.for("react.client.reference");function Pr(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===sm?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fn:return"Fragment";case Ir:return"Profiler";case Ah:return"StrictMode";case Jr:return"Suspense";case Xr:return"SuspenseList";case Zr:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ci:return"Portal";case Dt:return e.displayName||"Context";case jh:return(e._context.displayName||"Context")+".Consumer";case iu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case su:return t=e.displayName||null,t!==null?t:Pr(e.type)||"Memo";case Pt:t=e._payload,e=e._init;try{return Pr(e(t))}catch{}}return null}var di=Array.isArray,B=wh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=tm.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ba={pending:!1,data:null,method:null,action:null},Wr=[],pn=-1;function xt(e){return{current:e}}function Se(e){0>pn||(e.current=Wr[pn],Wr[pn]=null,pn--)}function te(e,t){pn++,Wr[pn]=e.current,e.current=t}var St=xt(null),Di=xt(null),ca=xt(null),Ws=xt(null);function Fs(e,t){switch(te(ca,t),te(Di,e),te(St,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?fd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=fd(t),e=Jp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Se(St),te(St,e)}function Un(){Se(St),Se(Di),Se(ca)}function Fr(e){e.memoizedState!==null&&te(Ws,e);var t=St.current,a=Jp(t,e.type);t!==a&&(te(Di,e),te(St,a))}function el(e){Di.current===e&&(Se(St),Se(Di)),Ws.current===e&&(Se(Ws),Ki._currentValue=Ba)}var er,oc;function Oa(e){if(er===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);er=t&&t[1]||"",oc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+er+e+oc}var tr=!1;function ar(e,t){if(!e||tr)return"";tr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var v=function(){throw Error()};if(Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(f){var p=f}Reflect.construct(e,[],v)}else{try{v.call()}catch(f){p=f}e.call(v.prototype)}}else{try{throw Error()}catch(f){p=f}(v=e())&&typeof v.catch=="function"&&v.catch(function(){})}}catch(f){if(f&&p&&typeof f.stack=="string")return[f.stack,p.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=n.DetermineComponentFrameRoot(),l=s[0],r=s[1];if(l&&r){var o=l.split(`
`),u=r.split(`
`);for(i=n=0;n<o.length&&!o[n].includes("DetermineComponentFrameRoot");)n++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(n===o.length||i===u.length)for(n=o.length-1,i=u.length-1;1<=n&&0<=i&&o[n]!==u[i];)i--;for(;1<=n&&0<=i;n--,i--)if(o[n]!==u[i]){if(n!==1||i!==1)do if(n--,i--,0>i||o[n]!==u[i]){var d=`
`+o[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=i);break}}}finally{tr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Oa(a):""}function lm(e,t){switch(e.tag){case 26:case 27:case 5:return Oa(e.type);case 16:return Oa("Lazy");case 13:return e.child!==t&&t!==null?Oa("Suspense Fallback"):Oa("Suspense");case 19:return Oa("SuspenseList");case 0:case 15:return ar(e.type,!1);case 11:return ar(e.type.render,!1);case 1:return ar(e.type,!0);case 31:return Oa("Activity");default:return""}}function uc(e){try{var t="",a=null;do t+=lm(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var eo=Object.prototype.hasOwnProperty,lu=be.unstable_scheduleCallback,nr=be.unstable_cancelCallback,rm=be.unstable_shouldYield,om=be.unstable_requestPaint,Je=be.unstable_now,um=be.unstable_getCurrentPriorityLevel,Oh=be.unstable_ImmediatePriority,Nh=be.unstable_UserBlockingPriority,tl=be.unstable_NormalPriority,cm=be.unstable_LowPriority,Ch=be.unstable_IdlePriority,dm=be.log,hm=be.unstable_setDisableYieldValue,ts=null,Xe=null;function sa(e){if(typeof dm=="function"&&hm(e),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(ts,e)}catch{}}var Ze=Math.clz32?Math.clz32:gm,fm=Math.log,pm=Math.LN2;function gm(e){return e>>>=0,e===0?32:31-(fm(e)/pm|0)|0}var ms=256,vs=262144,ys=4194304;function Na(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Dl(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var r=n&134217727;return r!==0?(n=r&~s,n!==0?i=Na(n):(l&=r,l!==0?i=Na(l):a||(a=r&~e,a!==0&&(i=Na(a))))):(r=n&~s,r!==0?i=Na(r):l!==0?i=Na(l):a||(a=n&~e,a!==0&&(i=Na(a)))),i===0?0:t!==0&&t!==i&&!(t&s)&&(s=i&-i,a=t&-t,s>=a||s===32&&(a&4194048)!==0)?t:i}function as(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function mm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rh(){var e=ys;return ys<<=1,!(ys&62914560)&&(ys=4194304),e}function ir(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ns(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vm(e,t,a,n,i,s){var l=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var r=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(a=l&~a;0<a;){var d=31-Ze(a),v=1<<d;r[d]=0,o[d]=-1;var p=u[d];if(p!==null)for(u[d]=null,d=0;d<p.length;d++){var f=p[d];f!==null&&(f.lane&=-536870913)}a&=~v}n!==0&&kh(e,n,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(l&~t))}function kh(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Ze(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function Dh(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-Ze(a),i=1<<n;i&t|e[n]&t&&(e[n]|=t),a&=~i}}function Uh(e,t){var a=t&-t;return a=a&42?1:ru(a),a&(e.suspendedLanes|t)?0:a}function ru(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ou(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function zh(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:sg(e.type))}function cc(e,t){var a=I.p;try{return I.p=e,t()}finally{I.p=a}}var xa=Math.random().toString(36).slice(2),je="__reactFiber$"+xa,qe="__reactProps$"+xa,Qn="__reactContainer$"+xa,to="__reactEvents$"+xa,ym="__reactListeners$"+xa,bm="__reactHandles$"+xa,dc="__reactResources$"+xa,is="__reactMarker$"+xa;function uu(e){delete e[je],delete e[qe],delete e[to],delete e[ym],delete e[bm]}function gn(e){var t=e[je];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Qn]||a[je]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=yd(e);e!==null;){if(a=e[je])return a;e=yd(e)}return t}e=a,a=e.parentNode}return null}function In(e){if(e=e[je]||e[Qn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function hi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(x(33))}function An(e){var t=e[dc];return t||(t=e[dc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function we(e){e[is]=!0}var Bh=new Set,Mh={};function Qa(e,t){zn(e,t),zn(e+"Capture",t)}function zn(e,t){for(Mh[e]=t,e=0;e<t.length;e++)Bh.add(t[e])}var _m=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hc={},fc={};function wm(e){return eo.call(fc,e)?!0:eo.call(hc,e)?!1:_m.test(e)?fc[e]=!0:(hc[e]=!0,!1)}function Ms(e,t,a){if(wm(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function bs(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Et(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function tt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sm(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){a=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ao(e){if(!e._valueTracker){var t=Lh(e)?"checked":"value";e._valueTracker=Sm(e,t,""+e[t])}}function qh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Lh(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xm=/[\n"\\]/g;function it(e){return e.replace(xm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function no(e,t,a,n,i,s,l,r){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+tt(t)):e.value!==""+tt(t)&&(e.value=""+tt(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?io(e,l,tt(t)):a!=null?io(e,l,tt(a)):n!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+tt(r):e.removeAttribute("name")}function Hh(e,t,a,n,i,s,l,r){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||a!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){ao(e);return}a=a!=null?""+tt(a):"",t=t!=null?""+tt(t):a,r||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=r?e.checked:!!n,e.defaultChecked=!!n,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l),ao(e)}function io(e,t,a){t==="number"&&al(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function jn(e,t,a,n){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&n&&(e[a].defaultSelected=!0)}else{for(a=""+tt(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $h(e,t,a){if(t!=null&&(t=""+tt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+tt(a):""}function Gh(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(x(92));if(di(n)){if(1<n.length)throw Error(x(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=tt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),ao(e)}function Bn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Tm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pc(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||Tm.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Vh(e,t,a){if(t!=null&&typeof t!="object")throw Error(x(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&a[i]!==n&&pc(e,i,n)}else for(var s in t)t.hasOwnProperty(s)&&pc(e,s,t[s])}function cu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Em=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Am=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ls(e){return Am.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ut(){}var so=null;function du(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mn=null,On=null;function gc(e){var t=In(e);if(t&&(e=t.stateNode)){var a=e[qe]||null;e:switch(e=t.stateNode,t.type){case"input":if(no(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+it(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var i=n[qe]||null;if(!i)throw Error(x(90));no(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&qh(n)}break e;case"textarea":$h(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&jn(e,!!a.multiple,t,!1)}}}var sr=!1;function Kh(e,t,a){if(sr)return e(t,a);sr=!0;try{var n=e(t);return n}finally{if(sr=!1,(mn!==null||On!==null)&&(Yl(),mn&&(t=mn,e=On,On=mn=null,gc(t),e)))for(t=0;t<e.length;t++)gc(e[t])}}function Ui(e,t){var a=e.stateNode;if(a===null)return null;var n=a[qe]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(x(231,t,typeof a));return a}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lo=!1;if(qt)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){lo=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{lo=!1}var la=null,hu=null,qs=null;function Yh(){if(qs)return qs;var e,t=hu,a=t.length,n,i="value"in la?la.value:la.textContent,s=i.length;for(e=0;e<a&&t[e]===i[e];e++);var l=a-e;for(n=1;n<=l&&t[a-n]===i[s-n];n++);return qs=i.slice(e,1<n?1-n:void 0)}function Hs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _s(){return!0}function mc(){return!1}function He(e){function t(a,n,i,s,l){this._reactName=a,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(a=e[r],this[r]=a?a(s):s[r]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_s:mc,this.isPropagationStopped=mc,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),t}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ul=He(Ia),ss=se({},Ia,{view:0,detail:0}),jm=He(ss),lr,rr,ii,zl=se({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ii&&(ii&&e.type==="mousemove"?(lr=e.screenX-ii.screenX,rr=e.screenY-ii.screenY):rr=lr=0,ii=e),lr)},movementY:function(e){return"movementY"in e?e.movementY:rr}}),vc=He(zl),Om=se({},zl,{dataTransfer:0}),Nm=He(Om),Cm=se({},ss,{relatedTarget:0}),or=He(Cm),Rm=se({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),km=He(Rm),Dm=se({},Ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Um=He(Dm),zm=se({},Ia,{data:0}),yc=He(zm),Bm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lm[e])?!!t[e]:!1}function fu(){return qm}var Hm=se({},ss,{key:function(e){if(e.key){var t=Bm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fu,charCode:function(e){return e.type==="keypress"?Hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$m=He(Hm),Gm=se({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bc=He(Gm),Vm=se({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fu}),Km=He(Vm),Ym=se({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qm=He(Ym),Im=se({},zl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jm=He(Im),Xm=se({},Ia,{newState:0,oldState:0}),Zm=He(Xm),Pm=[9,13,27,32],pu=qt&&"CompositionEvent"in window,vi=null;qt&&"documentMode"in document&&(vi=document.documentMode);var Wm=qt&&"TextEvent"in window&&!vi,Qh=qt&&(!pu||vi&&8<vi&&11>=vi),_c=" ",wc=!1;function Ih(e,t){switch(e){case"keyup":return Pm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vn=!1;function Fm(e,t){switch(e){case"compositionend":return Jh(t);case"keypress":return t.which!==32?null:(wc=!0,_c);case"textInput":return e=t.data,e===_c&&wc?null:e;default:return null}}function e0(e,t){if(vn)return e==="compositionend"||!pu&&Ih(e,t)?(e=Yh(),qs=hu=la=null,vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qh&&t.locale!=="ko"?null:t.data;default:return null}}var t0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!t0[e.type]:t==="textarea"}function Xh(e,t,a,n){mn?On?On.push(n):On=[n]:mn=n,t=_l(t,"onChange"),0<t.length&&(a=new Ul("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var yi=null,zi=null;function a0(e){Yp(e,0)}function Bl(e){var t=hi(e);if(qh(t))return e}function xc(e,t){if(e==="change")return t}var Zh=!1;if(qt){var ur;if(qt){var cr="oninput"in document;if(!cr){var Tc=document.createElement("div");Tc.setAttribute("oninput","return;"),cr=typeof Tc.oninput=="function"}ur=cr}else ur=!1;Zh=ur&&(!document.documentMode||9<document.documentMode)}function Ec(){yi&&(yi.detachEvent("onpropertychange",Ph),zi=yi=null)}function Ph(e){if(e.propertyName==="value"&&Bl(zi)){var t=[];Xh(t,zi,e,du(e)),Kh(a0,t)}}function n0(e,t,a){e==="focusin"?(Ec(),yi=t,zi=a,yi.attachEvent("onpropertychange",Ph)):e==="focusout"&&Ec()}function i0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bl(zi)}function s0(e,t){if(e==="click")return Bl(t)}function l0(e,t){if(e==="input"||e==="change")return Bl(t)}function r0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var We=typeof Object.is=="function"?Object.is:r0;function Bi(e,t){if(We(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!eo.call(t,i)||!We(e[i],t[i]))return!1}return!0}function Ac(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jc(e,t){var a=Ac(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ac(a)}}function Wh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=al(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=al(e.document)}return t}function gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var o0=qt&&"documentMode"in document&&11>=document.documentMode,yn=null,ro=null,bi=null,oo=!1;function Oc(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;oo||yn==null||yn!==al(n)||(n=yn,"selectionStart"in n&&gu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bi&&Bi(bi,n)||(bi=n,n=_l(ro,"onSelect"),0<n.length&&(t=new Ul("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=yn)))}function Ea(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var bn={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},dr={},ef={};qt&&(ef=document.createElement("div").style,"AnimationEvent"in window||(delete bn.animationend.animation,delete bn.animationiteration.animation,delete bn.animationstart.animation),"TransitionEvent"in window||delete bn.transitionend.transition);function Ja(e){if(dr[e])return dr[e];if(!bn[e])return e;var t=bn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in ef)return dr[e]=t[a];return e}var tf=Ja("animationend"),af=Ja("animationiteration"),nf=Ja("animationstart"),u0=Ja("transitionrun"),c0=Ja("transitionstart"),d0=Ja("transitioncancel"),sf=Ja("transitionend"),lf=new Map,uo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uo.push("scrollEnd");function gt(e,t){lf.set(e,t),Qa(t,[e])}var nl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},et=[],_n=0,mu=0;function Ml(){for(var e=_n,t=mu=_n=0;t<e;){var a=et[t];et[t++]=null;var n=et[t];et[t++]=null;var i=et[t];et[t++]=null;var s=et[t];if(et[t++]=null,n!==null&&i!==null){var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}s!==0&&rf(a,i,s)}}function Ll(e,t,a,n){et[_n++]=e,et[_n++]=t,et[_n++]=a,et[_n++]=n,mu|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function vu(e,t,a,n){return Ll(e,t,a,n),il(e)}function Xa(e,t){return Ll(e,null,null,t),il(e)}function rf(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var i=!1,s=e.return;s!==null;)s.childLanes|=a,n=s.alternate,n!==null&&(n.childLanes|=a),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-Ze(a),e=s.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=a|536870912),s):null}function il(e){if(50<Oi)throw Oi=0,Ro=null,Error(x(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var wn={};function h0(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(e,t,a,n){return new h0(e,t,a,n)}function yu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bt(e,t){var a=e.alternate;return a===null?(a=Ye(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function of(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $s(e,t,a,n,i,s){var l=0;if(n=e,typeof e=="function")yu(e)&&(l=1);else if(typeof e=="string")l=vv(e,a,St.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Zr:return e=Ye(31,a,t,i),e.elementType=Zr,e.lanes=s,e;case fn:return Ma(a.children,i,s,t);case Ah:l=8,i|=24;break;case Ir:return e=Ye(12,a,t,i|2),e.elementType=Ir,e.lanes=s,e;case Jr:return e=Ye(13,a,t,i),e.elementType=Jr,e.lanes=s,e;case Xr:return e=Ye(19,a,t,i),e.elementType=Xr,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Dt:l=10;break e;case jh:l=9;break e;case iu:l=11;break e;case su:l=14;break e;case Pt:l=16,n=null;break e}l=29,a=Error(x(130,e===null?"null":typeof e,"")),n=null}return t=Ye(l,a,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Ma(e,t,a,n){return e=Ye(7,e,n,t),e.lanes=a,e}function hr(e,t,a){return e=Ye(6,e,null,t),e.lanes=a,e}function uf(e){var t=Ye(18,null,null,0);return t.stateNode=e,t}function fr(e,t,a){return t=Ye(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Nc=new WeakMap;function st(e,t){if(typeof e=="object"&&e!==null){var a=Nc.get(e);return a!==void 0?a:(t={value:e,source:t,stack:uc(t)},Nc.set(e,t),t)}return{value:e,source:t,stack:uc(t)}}var Sn=[],xn=0,sl=null,Mi=0,at=[],nt=0,ba=null,bt=1,_t="";function Rt(e,t){Sn[xn++]=Mi,Sn[xn++]=sl,sl=e,Mi=t}function cf(e,t,a){at[nt++]=bt,at[nt++]=_t,at[nt++]=ba,ba=e;var n=bt;e=_t;var i=32-Ze(n)-1;n&=~(1<<i),a+=1;var s=32-Ze(t)+i;if(30<s){var l=i-i%5;s=(n&(1<<l)-1).toString(32),n>>=l,i-=l,bt=1<<32-Ze(t)+i|a<<i|n,_t=s+e}else bt=1<<s|a<<i|n,_t=e}function bu(e){e.return!==null&&(Rt(e,1),cf(e,1,0))}function _u(e){for(;e===sl;)sl=Sn[--xn],Sn[xn]=null,Mi=Sn[--xn],Sn[xn]=null;for(;e===ba;)ba=at[--nt],at[nt]=null,_t=at[--nt],at[nt]=null,bt=at[--nt],at[nt]=null}function df(e,t){at[nt++]=bt,at[nt++]=_t,at[nt++]=ba,bt=t.id,_t=t.overflow,ba=e}var Oe=null,ne=null,K=!1,da=null,lt=!1,co=Error(x(519));function _a(e){var t=Error(x(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Li(st(t,e)),co}function Cc(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[je]=e,t[qe]=n,a){case"dialog":H("cancel",t),H("close",t);break;case"iframe":case"object":case"embed":H("load",t);break;case"video":case"audio":for(a=0;a<Gi.length;a++)H(Gi[a],t);break;case"source":H("error",t);break;case"img":case"image":case"link":H("error",t),H("load",t);break;case"details":H("toggle",t);break;case"input":H("invalid",t),Hh(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":H("invalid",t);break;case"textarea":H("invalid",t),Gh(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Ip(t.textContent,a)?(n.popover!=null&&(H("beforetoggle",t),H("toggle",t)),n.onScroll!=null&&H("scroll",t),n.onScrollEnd!=null&&H("scrollend",t),n.onClick!=null&&(t.onclick=Ut),t=!0):t=!1,t||_a(e,!0)}function Rc(e){for(Oe=e.return;Oe;)switch(Oe.tag){case 5:case 31:case 13:lt=!1;return;case 27:case 3:lt=!0;return;default:Oe=Oe.return}}function Pa(e){if(e!==Oe)return!1;if(!K)return Rc(e),K=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Bo(e.type,e.memoizedProps)),a=!a),a&&ne&&_a(e),Rc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(x(317));ne=vd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(x(317));ne=vd(e)}else t===27?(t=ne,Ta(e.type)?(e=Ho,Ho=null,ne=e):ne=t):ne=Oe?ot(e.stateNode.nextSibling):null;return!0}function $a(){ne=Oe=null,K=!1}function pr(){var e=da;return e!==null&&(Me===null?Me=e:Me.push.apply(Me,e),da=null),e}function Li(e){da===null?da=[e]:da.push(e)}var ho=xt(null),Za=null,zt=null;function ea(e,t,a){te(ho,t._currentValue),t._currentValue=a}function Mt(e){e._currentValue=ho.current,Se(ho)}function fo(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function po(e,t,a,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var l=i.child;s=s.firstContext;e:for(;s!==null;){var r=s;s=i;for(var o=0;o<t.length;o++)if(r.context===t[o]){s.lanes|=a,r=s.alternate,r!==null&&(r.lanes|=a),fo(s.return,a,e),n||(l=null);break e}s=r.next}}else if(i.tag===18){if(l=i.return,l===null)throw Error(x(341));l.lanes|=a,s=l.alternate,s!==null&&(s.lanes|=a),fo(l,a,e),l=null}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}}function Jn(e,t,a,n){e=null;for(var i=t,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var l=i.alternate;if(l===null)throw Error(x(387));if(l=l.memoizedProps,l!==null){var r=i.type;We(i.pendingProps.value,l.value)||(e!==null?e.push(r):e=[r])}}else if(i===Ws.current){if(l=i.alternate,l===null)throw Error(x(387));l.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Ki):e=[Ki])}i=i.return}e!==null&&po(t,e,a,n),t.flags|=262144}function ll(e){for(e=e.firstContext;e!==null;){if(!We(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ga(e){Za=e,zt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ne(e){return hf(Za,e)}function ws(e,t){return Za===null&&Ga(e),hf(e,t)}function hf(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},zt===null){if(e===null)throw Error(x(308));zt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else zt=zt.next=t;return a}var f0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},p0=be.unstable_scheduleCallback,g0=be.unstable_NormalPriority,ge={$$typeof:Dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wu(){return{controller:new f0,data:new Map,refCount:0}}function ls(e){e.refCount--,e.refCount===0&&p0(g0,function(){e.controller.abort()})}var _i=null,go=0,Mn=0,Nn=null;function m0(e,t){if(_i===null){var a=_i=[];go=0,Mn=Qu(),Nn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return go++,t.then(kc,kc),t}function kc(){if(--go===0&&_i!==null){Nn!==null&&(Nn.status="fulfilled");var e=_i;_i=null,Mn=0,Nn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function v0(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),n}var Dc=B.S;B.S=function(e,t){Ap=Je(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&m0(e,t),Dc!==null&&Dc(e,t)};var La=xt(null);function Su(){var e=La.current;return e!==null?e:F.pooledCache}function Gs(e,t){t===null?te(La,La.current):te(La,t.pool)}function ff(){var e=Su();return e===null?null:{parent:ge._currentValue,pool:e}}var Xn=Error(x(460)),xu=Error(x(474)),ql=Error(x(542)),rl={then:function(){}};function Uc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function pf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Ut,Ut),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bc(e),e;default:if(typeof t.status=="string")t.then(Ut,Ut);else{if(e=F,e!==null&&100<e.shellSuspendCounter)throw Error(x(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bc(e),e}throw qa=t,Xn}}function Ca(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qa=a,Xn):a}}var qa=null;function zc(){if(qa===null)throw Error(x(459));var e=qa;return qa=null,e}function Bc(e){if(e===Xn||e===ql)throw Error(x(483))}var Cn=null,qi=0;function Ss(e){var t=qi;return qi+=1,Cn===null&&(Cn=[]),pf(Cn,e,t)}function si(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function xs(e,t){throw t.$$typeof===nm?Error(x(525)):(e=Object.prototype.toString.call(t),Error(x(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gf(e){function t(g,h){if(e){var m=g.deletions;m===null?(g.deletions=[h],g.flags|=16):m.push(h)}}function a(g,h){if(!e)return null;for(;h!==null;)t(g,h),h=h.sibling;return null}function n(g){for(var h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function i(g,h){return g=Bt(g,h),g.index=0,g.sibling=null,g}function s(g,h,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<h?(g.flags|=67108866,h):m):(g.flags|=67108866,h)):(g.flags|=1048576,h)}function l(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function r(g,h,m,y){return h===null||h.tag!==6?(h=hr(m,g.mode,y),h.return=g,h):(h=i(h,m),h.return=g,h)}function o(g,h,m,y){var T=m.type;return T===fn?d(g,h,m.props.children,y,m.key):h!==null&&(h.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Pt&&Ca(T)===h.type)?(h=i(h,m.props),si(h,m),h.return=g,h):(h=$s(m.type,m.key,m.props,null,g.mode,y),si(h,m),h.return=g,h)}function u(g,h,m,y){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=fr(m,g.mode,y),h.return=g,h):(h=i(h,m.children||[]),h.return=g,h)}function d(g,h,m,y,T){return h===null||h.tag!==7?(h=Ma(m,g.mode,y,T),h.return=g,h):(h=i(h,m),h.return=g,h)}function v(g,h,m){if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return h=hr(""+h,g.mode,m),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case gs:return m=$s(h.type,h.key,h.props,null,g.mode,m),si(m,h),m.return=g,m;case ci:return h=fr(h,g.mode,m),h.return=g,h;case Pt:return h=Ca(h),v(g,h,m)}if(di(h)||ai(h))return h=Ma(h,g.mode,m,null),h.return=g,h;if(typeof h.then=="function")return v(g,Ss(h),m);if(h.$$typeof===Dt)return v(g,ws(g,h),m);xs(g,h)}return null}function p(g,h,m,y){var T=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return T!==null?null:r(g,h,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case gs:return m.key===T?o(g,h,m,y):null;case ci:return m.key===T?u(g,h,m,y):null;case Pt:return m=Ca(m),p(g,h,m,y)}if(di(m)||ai(m))return T!==null?null:d(g,h,m,y,null);if(typeof m.then=="function")return p(g,h,Ss(m),y);if(m.$$typeof===Dt)return p(g,h,ws(g,m),y);xs(g,m)}return null}function f(g,h,m,y,T){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return g=g.get(m)||null,r(h,g,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case gs:return g=g.get(y.key===null?m:y.key)||null,o(h,g,y,T);case ci:return g=g.get(y.key===null?m:y.key)||null,u(h,g,y,T);case Pt:return y=Ca(y),f(g,h,m,y,T)}if(di(y)||ai(y))return g=g.get(m)||null,d(h,g,y,T,null);if(typeof y.then=="function")return f(g,h,m,Ss(y),T);if(y.$$typeof===Dt)return f(g,h,m,ws(h,y),T);xs(h,y)}return null}function b(g,h,m,y){for(var T=null,j=null,E=h,A=h=0,k=null;E!==null&&A<m.length;A++){E.index>A?(k=E,E=null):k=E.sibling;var L=p(g,E,m[A],y);if(L===null){E===null&&(E=k);break}e&&E&&L.alternate===null&&t(g,E),h=s(L,h,A),j===null?T=L:j.sibling=L,j=L,E=k}if(A===m.length)return a(g,E),K&&Rt(g,A),T;if(E===null){for(;A<m.length;A++)E=v(g,m[A],y),E!==null&&(h=s(E,h,A),j===null?T=E:j.sibling=E,j=E);return K&&Rt(g,A),T}for(E=n(E);A<m.length;A++)k=f(E,g,A,m[A],y),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?A:k.key),h=s(k,h,A),j===null?T=k:j.sibling=k,j=k);return e&&E.forEach(function(xe){return t(g,xe)}),K&&Rt(g,A),T}function _(g,h,m,y){if(m==null)throw Error(x(151));for(var T=null,j=null,E=h,A=h=0,k=null,L=m.next();E!==null&&!L.done;A++,L=m.next()){E.index>A?(k=E,E=null):k=E.sibling;var xe=p(g,E,L.value,y);if(xe===null){E===null&&(E=k);break}e&&E&&xe.alternate===null&&t(g,E),h=s(xe,h,A),j===null?T=xe:j.sibling=xe,j=xe,E=k}if(L.done)return a(g,E),K&&Rt(g,A),T;if(E===null){for(;!L.done;A++,L=m.next())L=v(g,L.value,y),L!==null&&(h=s(L,h,A),j===null?T=L:j.sibling=L,j=L);return K&&Rt(g,A),T}for(E=n(E);!L.done;A++,L=m.next())L=f(E,g,A,L.value,y),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?A:L.key),h=s(L,h,A),j===null?T=L:j.sibling=L,j=L);return e&&E.forEach(function($e){return t(g,$e)}),K&&Rt(g,A),T}function S(g,h,m,y){if(typeof m=="object"&&m!==null&&m.type===fn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case gs:e:{for(var T=m.key;h!==null;){if(h.key===T){if(T=m.type,T===fn){if(h.tag===7){a(g,h.sibling),y=i(h,m.props.children),y.return=g,g=y;break e}}else if(h.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Pt&&Ca(T)===h.type){a(g,h.sibling),y=i(h,m.props),si(y,m),y.return=g,g=y;break e}a(g,h);break}else t(g,h);h=h.sibling}m.type===fn?(y=Ma(m.props.children,g.mode,y,m.key),y.return=g,g=y):(y=$s(m.type,m.key,m.props,null,g.mode,y),si(y,m),y.return=g,g=y)}return l(g);case ci:e:{for(T=m.key;h!==null;){if(h.key===T)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){a(g,h.sibling),y=i(h,m.children||[]),y.return=g,g=y;break e}else{a(g,h);break}else t(g,h);h=h.sibling}y=fr(m,g.mode,y),y.return=g,g=y}return l(g);case Pt:return m=Ca(m),S(g,h,m,y)}if(di(m))return b(g,h,m,y);if(ai(m)){if(T=ai(m),typeof T!="function")throw Error(x(150));return m=T.call(m),_(g,h,m,y)}if(typeof m.then=="function")return S(g,h,Ss(m),y);if(m.$$typeof===Dt)return S(g,h,ws(g,m),y);xs(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint"?(m=""+m,h!==null&&h.tag===6?(a(g,h.sibling),y=i(h,m),y.return=g,g=y):(a(g,h),y=hr(m,g.mode,y),y.return=g,g=y),l(g)):a(g,h)}return function(g,h,m,y){try{qi=0;var T=S(g,h,m,y);return Cn=null,T}catch(E){if(E===Xn||E===ql)throw E;var j=Ye(29,E,null,g.mode);return j.lanes=y,j.return=g,j}finally{}}}var Va=gf(!0),mf=gf(!1),Wt=!1;function Tu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ha(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function fa(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Q&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=il(e),rf(e,null,a),t}return Ll(e,n,t,a),il(e)}function wi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Dh(e,a)}}function gr(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,s=null;if(a=a.firstBaseUpdate,a!==null){do{var l={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};s===null?i=s=l:s=s.next=l,a=a.next}while(a!==null);s===null?i=s=t:s=s.next=t}else i=s=t;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var vo=!1;function Si(){if(vo){var e=Nn;if(e!==null)throw e}}function xi(e,t,a,n){vo=!1;var i=e.updateQueue;Wt=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,r=i.shared.pending;if(r!==null){i.shared.pending=null;var o=r,u=o.next;o.next=null,l===null?s=u:l.next=u,l=o;var d=e.alternate;d!==null&&(d=d.updateQueue,r=d.lastBaseUpdate,r!==l&&(r===null?d.firstBaseUpdate=u:r.next=u,d.lastBaseUpdate=o))}if(s!==null){var v=i.baseState;l=0,d=u=o=null,r=s;do{var p=r.lane&-536870913,f=p!==r.lane;if(f?(G&p)===p:(n&p)===p){p!==0&&p===Mn&&(vo=!0),d!==null&&(d=d.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var b=e,_=r;p=t;var S=a;switch(_.tag){case 1:if(b=_.payload,typeof b=="function"){v=b.call(S,v,p);break e}v=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,p=typeof b=="function"?b.call(S,v,p):b,p==null)break e;v=se({},v,p);break e;case 2:Wt=!0}}p=r.callback,p!==null&&(e.flags|=64,f&&(e.flags|=8192),f=i.callbacks,f===null?i.callbacks=[p]:f.push(p))}else f={lane:p,tag:r.tag,payload:r.payload,callback:r.callback,next:null},d===null?(u=d=f,o=v):d=d.next=f,l|=p;if(r=r.next,r===null){if(r=i.shared.pending,r===null)break;f=r,r=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);d===null&&(o=v),i.baseState=o,i.firstBaseUpdate=u,i.lastBaseUpdate=d,s===null&&(i.shared.lanes=0),Sa|=l,e.lanes=l,e.memoizedState=v}}function vf(e,t){if(typeof e!="function")throw Error(x(191,e));e.call(t)}function yf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)vf(a[e],t)}var Ln=xt(null),ol=xt(0);function Mc(e,t){e=Vt,te(ol,e),te(Ln,t),Vt=e|t.baseLanes}function yo(){te(ol,Vt),te(Ln,Ln.current)}function Eu(){Vt=ol.current,Se(Ln),Se(ol)}var Fe=xt(null),rt=null;function ta(e){var t=e.alternate;te(ce,ce.current&1),te(Fe,e),rt===null&&(t===null||Ln.current!==null||t.memoizedState!==null)&&(rt=e)}function bo(e){te(ce,ce.current),te(Fe,e),rt===null&&(rt=e)}function bf(e){e.tag===22?(te(ce,ce.current),te(Fe,e),rt===null&&(rt=e)):aa()}function aa(){te(ce,ce.current),te(Fe,Fe.current)}function Ke(e){Se(Fe),rt===e&&(rt=null),Se(ce)}var ce=xt(0);function ul(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Lo(a)||qo(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ht=0,q=null,W=null,fe=null,cl=!1,Rn=!1,Ka=!1,dl=0,Hi=0,kn=null,y0=0;function re(){throw Error(x(321))}function Au(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!We(e[a],t[a]))return!1;return!0}function ju(e,t,a,n,i,s){return Ht=s,q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?Zf:Lu,Ka=!1,s=a(n,i),Ka=!1,Rn&&(s=wf(t,a,n,i)),_f(e),s}function _f(e){B.H=$i;var t=W!==null&&W.next!==null;if(Ht=0,fe=W=q=null,cl=!1,Hi=0,kn=null,t)throw Error(x(300));e===null||me||(e=e.dependencies,e!==null&&ll(e)&&(me=!0))}function wf(e,t,a,n){q=e;var i=0;do{if(Rn&&(kn=null),Hi=0,Rn=!1,25<=i)throw Error(x(301));if(i+=1,fe=W=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}B.H=Pf,s=t(a,n)}while(Rn);return s}function b0(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?rs(t):t,e=e.useState()[0],(W!==null?W.memoizedState:null)!==e&&(q.flags|=1024),t}function Ou(){var e=dl!==0;return dl=0,e}function Nu(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Cu(e){if(cl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}cl=!1}Ht=0,fe=W=q=null,Rn=!1,Hi=dl=0,kn=null}function Re(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?q.memoizedState=fe=e:fe=fe.next=e,fe}function de(){if(W===null){var e=q.alternate;e=e!==null?e.memoizedState:null}else e=W.next;var t=fe===null?q.memoizedState:fe.next;if(t!==null)fe=t,W=e;else{if(e===null)throw q.alternate===null?Error(x(467)):Error(x(310));W=e,e={memoizedState:W.memoizedState,baseState:W.baseState,baseQueue:W.baseQueue,queue:W.queue,next:null},fe===null?q.memoizedState=fe=e:fe=fe.next=e}return fe}function Hl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rs(e){var t=Hi;return Hi+=1,kn===null&&(kn=[]),e=pf(kn,e,t),t=q,(fe===null?t.memoizedState:fe.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?Zf:Lu),e}function $l(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rs(e);if(e.$$typeof===Dt)return Ne(e)}throw Error(x(438,String(e)))}function Ru(e){var t=null,a=q.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=q.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Hl(),q.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=im;return t.index++,a}function $t(e,t){return typeof t=="function"?t(e):t}function Vs(e){var t=de();return ku(t,W,e)}function ku(e,t,a){var n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=a;var i=e.baseQueue,s=n.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}t.baseQueue=i=s,n.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var r=l=null,o=null,u=t,d=!1;do{var v=u.lane&-536870913;if(v!==u.lane?(G&v)===v:(Ht&v)===v){var p=u.revertLane;if(p===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),v===Mn&&(d=!0);else if((Ht&p)===p){u=u.next,p===Mn&&(d=!0);continue}else v={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(r=o=v,l=s):o=o.next=v,q.lanes|=p,Sa|=p;v=u.action,Ka&&a(s,v),s=u.hasEagerState?u.eagerState:a(s,v)}else p={lane:v,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(r=o=p,l=s):o=o.next=p,q.lanes|=v,Sa|=v;u=u.next}while(u!==null&&u!==t);if(o===null?l=s:o.next=r,!We(s,e.memoizedState)&&(me=!0,d&&(a=Nn,a!==null)))throw a;e.memoizedState=s,e.baseState=l,e.baseQueue=o,n.lastRenderedState=s}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function mr(e){var t=de(),a=t.queue;if(a===null)throw Error(x(311));a.lastRenderedReducer=e;var n=a.dispatch,i=a.pending,s=t.memoizedState;if(i!==null){a.pending=null;var l=i=i.next;do s=e(s,l.action),l=l.next;while(l!==i);We(s,t.memoizedState)||(me=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),a.lastRenderedState=s}return[s,n]}function Sf(e,t,a){var n=q,i=de(),s=K;if(s){if(a===void 0)throw Error(x(407));a=a()}else a=t();var l=!We((W||i).memoizedState,a);if(l&&(i.memoizedState=a,me=!0),i=i.queue,Du(Ef.bind(null,n,i,e),[e]),i.getSnapshot!==t||l||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,qn(9,{destroy:void 0},Tf.bind(null,n,i,a,t),null),F===null)throw Error(x(349));s||Ht&127||xf(n,t,a)}return a}function xf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=q.updateQueue,t===null?(t=Hl(),q.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Tf(e,t,a,n){t.value=a,t.getSnapshot=n,Af(t)&&jf(e)}function Ef(e,t,a){return a(function(){Af(t)&&jf(e)})}function Af(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!We(e,a)}catch{return!0}}function jf(e){var t=Xa(e,2);t!==null&&Le(t,e,2)}function _o(e){var t=Re();if(typeof e=="function"){var a=e;if(e=a(),Ka){sa(!0);try{a()}finally{sa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:e},t}function Of(e,t,a,n){return e.baseState=a,ku(e,W,typeof n=="function"?n:$t)}function _0(e,t,a,n,i){if(Vl(e))throw Error(x(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){s.listeners.push(l)}};B.T!==null?a(!0):s.isTransition=!1,n(s),a=t.pending,a===null?(s.next=t.pending=s,Nf(t,s)):(s.next=a.next,t.pending=a.next=s)}}function Nf(e,t){var a=t.action,n=t.payload,i=e.state;if(t.isTransition){var s=B.T,l={};B.T=l;try{var r=a(i,n),o=B.S;o!==null&&o(l,r),Lc(e,t,r)}catch(u){wo(e,t,u)}finally{s!==null&&l.types!==null&&(s.types=l.types),B.T=s}}else try{s=a(i,n),Lc(e,t,s)}catch(u){wo(e,t,u)}}function Lc(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){qc(e,t,n)},function(n){return wo(e,t,n)}):qc(e,t,a)}function qc(e,t,a){t.status="fulfilled",t.value=a,Cf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Nf(e,a)))}function wo(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Cf(t),t=t.next;while(t!==n)}e.action=null}function Cf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Rf(e,t){return t}function Hc(e,t){if(K){var a=F.formState;if(a!==null){e:{var n=q;if(K){if(ne){t:{for(var i=ne,s=lt;i.nodeType!==8;){if(!s){i=null;break t}if(i=ot(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){ne=ot(i.nextSibling),n=i.data==="F!";break e}}_a(n)}n=!1}n&&(t=a[0])}}return a=Re(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rf,lastRenderedState:t},a.queue=n,a=If.bind(null,q,n),n.dispatch=a,n=_o(!1),s=Mu.bind(null,q,!1,n.queue),n=Re(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,a=_0.bind(null,q,i,s,a),i.dispatch=a,n.memoizedState=e,[t,a,!1]}function $c(e){var t=de();return kf(t,W,e)}function kf(e,t,a){if(t=ku(e,t,Rf)[0],e=Vs($t)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=rs(t)}catch(l){throw l===Xn?ql:l}else n=t;t=de();var i=t.queue,s=i.dispatch;return a!==t.memoizedState&&(q.flags|=2048,qn(9,{destroy:void 0},w0.bind(null,i,a),null)),[n,s,e]}function w0(e,t){e.action=t}function Gc(e){var t=de(),a=W;if(a!==null)return kf(t,a,e);de(),t=t.memoizedState,a=de();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function qn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=q.updateQueue,t===null&&(t=Hl(),q.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Df(){return de().memoizedState}function Ks(e,t,a,n){var i=Re();q.flags|=e,i.memoizedState=qn(1|t,{destroy:void 0},a,n===void 0?null:n)}function Gl(e,t,a,n){var i=de();n=n===void 0?null:n;var s=i.memoizedState.inst;W!==null&&n!==null&&Au(n,W.memoizedState.deps)?i.memoizedState=qn(t,s,a,n):(q.flags|=e,i.memoizedState=qn(1|t,s,a,n))}function Vc(e,t){Ks(8390656,8,e,t)}function Du(e,t){Gl(2048,8,e,t)}function S0(e){q.flags|=4;var t=q.updateQueue;if(t===null)t=Hl(),q.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Uf(e){var t=de().memoizedState;return S0({ref:t,nextImpl:e}),function(){if(Q&2)throw Error(x(440));return t.impl.apply(void 0,arguments)}}function zf(e,t){return Gl(4,2,e,t)}function Bf(e,t){return Gl(4,4,e,t)}function Mf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lf(e,t,a){a=a!=null?a.concat([e]):null,Gl(4,4,Mf.bind(null,t,e),a)}function Uu(){}function qf(e,t){var a=de();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Au(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Hf(e,t){var a=de();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Au(t,n[1]))return n[0];if(n=e(),Ka){sa(!0);try{e()}finally{sa(!1)}}return a.memoizedState=[n,t],n}function zu(e,t,a){return a===void 0||Ht&1073741824&&!(G&261930)?e.memoizedState=t:(e.memoizedState=a,e=Op(),q.lanes|=e,Sa|=e,a)}function $f(e,t,a,n){return We(a,t)?a:Ln.current!==null?(e=zu(e,a,n),We(e,t)||(me=!0),e):!(Ht&42)||Ht&1073741824&&!(G&261930)?(me=!0,e.memoizedState=a):(e=Op(),q.lanes|=e,Sa|=e,t)}function Gf(e,t,a,n,i){var s=I.p;I.p=s!==0&&8>s?s:8;var l=B.T,r={};B.T=r,Mu(e,!1,t,a);try{var o=i(),u=B.S;if(u!==null&&u(r,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=v0(o,n);Ti(e,t,d,Pe(e))}else Ti(e,t,n,Pe(e))}catch(v){Ti(e,t,{then:function(){},status:"rejected",reason:v},Pe())}finally{I.p=s,l!==null&&r.types!==null&&(l.types=r.types),B.T=l}}function x0(){}function So(e,t,a,n){if(e.tag!==5)throw Error(x(476));var i=Vf(e).queue;Gf(e,i,t,Ba,a===null?x0:function(){return Kf(e),a(n)})}function Vf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ba,baseState:Ba,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:Ba},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Kf(e){var t=Vf(e);t.next===null&&(t=e.alternate.memoizedState),Ti(e,t.next.queue,{},Pe())}function Bu(){return Ne(Ki)}function Yf(){return de().memoizedState}function Qf(){return de().memoizedState}function T0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Pe();e=ha(a);var n=fa(t,e,a);n!==null&&(Le(n,t,a),wi(n,t,a)),t={cache:wu()},e.payload=t;return}t=t.return}}function E0(e,t,a){var n=Pe();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Vl(e)?Jf(t,a):(a=vu(e,t,a,n),a!==null&&(Le(a,e,n),Xf(a,t,n)))}function If(e,t,a){var n=Pe();Ti(e,t,a,n)}function Ti(e,t,a,n){var i={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vl(e))Jf(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,r=s(l,a);if(i.hasEagerState=!0,i.eagerState=r,We(r,l))return Ll(e,t,i,0),F===null&&Ml(),!1}catch{}finally{}if(a=vu(e,t,i,n),a!==null)return Le(a,e,n),Xf(a,t,n),!0}return!1}function Mu(e,t,a,n){if(n={lane:2,revertLane:Qu(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Vl(e)){if(t)throw Error(x(479))}else t=vu(e,a,n,2),t!==null&&Le(t,e,2)}function Vl(e){var t=e.alternate;return e===q||t!==null&&t===q}function Jf(e,t){Rn=cl=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Xf(e,t,a){if(a&4194048){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Dh(e,a)}}var $i={readContext:Ne,use:$l,useCallback:re,useContext:re,useEffect:re,useImperativeHandle:re,useLayoutEffect:re,useInsertionEffect:re,useMemo:re,useReducer:re,useRef:re,useState:re,useDebugValue:re,useDeferredValue:re,useTransition:re,useSyncExternalStore:re,useId:re,useHostTransitionStatus:re,useFormState:re,useActionState:re,useOptimistic:re,useMemoCache:re,useCacheRefresh:re};$i.useEffectEvent=re;var Zf={readContext:Ne,use:$l,useCallback:function(e,t){return Re().memoizedState=[e,t===void 0?null:t],e},useContext:Ne,useEffect:Vc,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ks(4194308,4,Mf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ks(4194308,4,e,t)},useInsertionEffect:function(e,t){Ks(4,2,e,t)},useMemo:function(e,t){var a=Re();t=t===void 0?null:t;var n=e();if(Ka){sa(!0);try{e()}finally{sa(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Re();if(a!==void 0){var i=a(t);if(Ka){sa(!0);try{a(t)}finally{sa(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=E0.bind(null,q,e),[n.memoizedState,e]},useRef:function(e){var t=Re();return e={current:e},t.memoizedState=e},useState:function(e){e=_o(e);var t=e.queue,a=If.bind(null,q,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Uu,useDeferredValue:function(e,t){var a=Re();return zu(a,e,t)},useTransition:function(){var e=_o(!1);return e=Gf.bind(null,q,e.queue,!0,!1),Re().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=q,i=Re();if(K){if(a===void 0)throw Error(x(407));a=a()}else{if(a=t(),F===null)throw Error(x(349));G&127||xf(n,t,a)}i.memoizedState=a;var s={value:a,getSnapshot:t};return i.queue=s,Vc(Ef.bind(null,n,s,e),[e]),n.flags|=2048,qn(9,{destroy:void 0},Tf.bind(null,n,s,a,t),null),a},useId:function(){var e=Re(),t=F.identifierPrefix;if(K){var a=_t,n=bt;a=(n&~(1<<32-Ze(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=dl++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=y0++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Bu,useFormState:Hc,useActionState:Hc,useOptimistic:function(e){var t=Re();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Mu.bind(null,q,!0,a),a.dispatch=t,[e,t]},useMemoCache:Ru,useCacheRefresh:function(){return Re().memoizedState=T0.bind(null,q)},useEffectEvent:function(e){var t=Re(),a={impl:e};return t.memoizedState=a,function(){if(Q&2)throw Error(x(440));return a.impl.apply(void 0,arguments)}}},Lu={readContext:Ne,use:$l,useCallback:qf,useContext:Ne,useEffect:Du,useImperativeHandle:Lf,useInsertionEffect:zf,useLayoutEffect:Bf,useMemo:Hf,useReducer:Vs,useRef:Df,useState:function(){return Vs($t)},useDebugValue:Uu,useDeferredValue:function(e,t){var a=de();return $f(a,W.memoizedState,e,t)},useTransition:function(){var e=Vs($t)[0],t=de().memoizedState;return[typeof e=="boolean"?e:rs(e),t]},useSyncExternalStore:Sf,useId:Yf,useHostTransitionStatus:Bu,useFormState:$c,useActionState:$c,useOptimistic:function(e,t){var a=de();return Of(a,W,e,t)},useMemoCache:Ru,useCacheRefresh:Qf};Lu.useEffectEvent=Uf;var Pf={readContext:Ne,use:$l,useCallback:qf,useContext:Ne,useEffect:Du,useImperativeHandle:Lf,useInsertionEffect:zf,useLayoutEffect:Bf,useMemo:Hf,useReducer:mr,useRef:Df,useState:function(){return mr($t)},useDebugValue:Uu,useDeferredValue:function(e,t){var a=de();return W===null?zu(a,e,t):$f(a,W.memoizedState,e,t)},useTransition:function(){var e=mr($t)[0],t=de().memoizedState;return[typeof e=="boolean"?e:rs(e),t]},useSyncExternalStore:Sf,useId:Yf,useHostTransitionStatus:Bu,useFormState:Gc,useActionState:Gc,useOptimistic:function(e,t){var a=de();return W!==null?Of(a,W,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ru,useCacheRefresh:Qf};Pf.useEffectEvent=Uf;function vr(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:se({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var xo={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Pe(),i=ha(n);i.payload=t,a!=null&&(i.callback=a),t=fa(e,i,n),t!==null&&(Le(t,e,n),wi(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Pe(),i=ha(n);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=fa(e,i,n),t!==null&&(Le(t,e,n),wi(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Pe(),n=ha(a);n.tag=2,t!=null&&(n.callback=t),t=fa(e,n,a),t!==null&&(Le(t,e,a),wi(t,e,a))}};function Kc(e,t,a,n,i,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,l):t.prototype&&t.prototype.isPureReactComponent?!Bi(a,n)||!Bi(i,s):!0}function Yc(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&xo.enqueueReplaceState(t,t.state,null)}function Ya(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=se({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}function Wf(e){nl(e)}function Ff(e){console.error(e)}function ep(e){nl(e)}function hl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Qc(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function To(e,t,a){return a=ha(a),a.tag=3,a.payload={element:null},a.callback=function(){hl(e,t)},a}function tp(e){return e=ha(e),e.tag=3,e}function ap(e,t,a,n){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var s=n.value;e.payload=function(){return i(s)},e.callback=function(){Qc(t,a,n)}}var l=a.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){Qc(t,a,n),typeof i!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var r=n.stack;this.componentDidCatch(n.value,{componentStack:r!==null?r:""})})}function A0(e,t,a,n,i){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Jn(t,a,i,!0),a=Fe.current,a!==null){switch(a.tag){case 31:case 13:return rt===null?vl():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=i,n===rl?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Or(e,n,i)),!1;case 22:return a.flags|=65536,n===rl?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Or(e,n,i)),!1}throw Error(x(435,a.tag))}return Or(e,n,i),vl(),!1}if(K)return t=Fe.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==co&&(e=Error(x(422),{cause:n}),Li(st(e,a)))):(n!==co&&(t=Error(x(423),{cause:n}),Li(st(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=st(n,a),i=To(e.stateNode,n,i),gr(e,i),ue!==4&&(ue=2)),!1;var s=Error(x(520),{cause:n});if(s=st(s,a),ji===null?ji=[s]:ji.push(s),ue!==4&&(ue=2),t===null)return!0;n=st(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=To(a.stateNode,n,e),gr(a,e),!1;case 1:if(t=a.type,s=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(pa===null||!pa.has(s))))return a.flags|=65536,i&=-i,a.lanes|=i,i=tp(i),ap(i,e,a,n),gr(a,i),!1}a=a.return}while(a!==null);return!1}var qu=Error(x(461)),me=!1;function Ae(e,t,a,n){t.child=e===null?mf(t,null,a,n):Va(t,e.child,a,n)}function Ic(e,t,a,n,i){a=a.render;var s=t.ref;if("ref"in n){var l={};for(var r in n)r!=="ref"&&(l[r]=n[r])}else l=n;return Ga(t),n=ju(e,t,a,l,s,i),r=Ou(),e!==null&&!me?(Nu(e,t,i),Gt(e,t,i)):(K&&r&&bu(t),t.flags|=1,Ae(e,t,n,i),t.child)}function Jc(e,t,a,n,i){if(e===null){var s=a.type;return typeof s=="function"&&!yu(s)&&s.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=s,np(e,t,s,n,i)):(e=$s(a.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Hu(e,i)){var l=s.memoizedProps;if(a=a.compare,a=a!==null?a:Bi,a(l,n)&&e.ref===t.ref)return Gt(e,t,i)}return t.flags|=1,e=Bt(s,n),e.ref=t.ref,e.return=t,t.child=e}function np(e,t,a,n,i){if(e!==null){var s=e.memoizedProps;if(Bi(s,n)&&e.ref===t.ref)if(me=!1,t.pendingProps=n=s,Hu(e,i))e.flags&131072&&(me=!0);else return t.lanes=e.lanes,Gt(e,t,i)}return Eo(e,t,a,n,i)}function ip(e,t,a,n){var i=n.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|a:a,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~s}else n=0,t.child=null;return Xc(e,t,s,a,n)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gs(t,s!==null?s.cachePool:null),s!==null?Mc(t,s):yo(),bf(t);else return n=t.lanes=536870912,Xc(e,t,s!==null?s.baseLanes|a:a,a,n)}else s!==null?(Gs(t,s.cachePool),Mc(t,s),aa(),t.memoizedState=null):(e!==null&&Gs(t,null),yo(),aa());return Ae(e,t,i,a),t.child}function fi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Xc(e,t,a,n,i){var s=Su();return s=s===null?null:{parent:ge._currentValue,pool:s},t.memoizedState={baseLanes:a,cachePool:s},e!==null&&Gs(t,null),yo(),bf(t),e!==null&&Jn(e,t,n,!0),t.childLanes=i,null}function Ys(e,t){return t=fl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Zc(e,t,a){return Va(t,e.child,null,a),e=Ys(t,t.pendingProps),e.flags|=2,Ke(t),t.memoizedState=null,e}function j0(e,t,a){var n=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(K){if(n.mode==="hidden")return e=Ys(t,n),t.lanes=536870912,fi(null,e);if(bo(t),(e=ne)?(e=Zp(e,lt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ba!==null?{id:bt,overflow:_t}:null,retryLane:536870912,hydrationErrors:null},a=uf(e),a.return=t,t.child=a,Oe=t,ne=null)):e=null,e===null)throw _a(t);return t.lanes=536870912,null}return Ys(t,n)}var s=e.memoizedState;if(s!==null){var l=s.dehydrated;if(bo(t),i)if(t.flags&256)t.flags&=-257,t=Zc(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(x(558));else if(me||Jn(e,t,a,!1),i=(a&e.childLanes)!==0,me||i){if(n=F,n!==null&&(l=Uh(n,a),l!==0&&l!==s.retryLane))throw s.retryLane=l,Xa(e,l),Le(n,e,l),qu;vl(),t=Zc(e,t,a)}else e=s.treeContext,ne=ot(l.nextSibling),Oe=t,K=!0,da=null,lt=!1,e!==null&&df(t,e),t=Ys(t,n),t.flags|=4096;return t}return e=Bt(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Qs(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(x(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Eo(e,t,a,n,i){return Ga(t),a=ju(e,t,a,n,void 0,i),n=Ou(),e!==null&&!me?(Nu(e,t,i),Gt(e,t,i)):(K&&n&&bu(t),t.flags|=1,Ae(e,t,a,i),t.child)}function Pc(e,t,a,n,i,s){return Ga(t),t.updateQueue=null,a=wf(t,n,a,i),_f(e),n=Ou(),e!==null&&!me?(Nu(e,t,s),Gt(e,t,s)):(K&&n&&bu(t),t.flags|=1,Ae(e,t,a,s),t.child)}function Wc(e,t,a,n,i){if(Ga(t),t.stateNode===null){var s=wn,l=a.contextType;typeof l=="object"&&l!==null&&(s=Ne(l)),s=new a(n,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=xo,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=n,s.state=t.memoizedState,s.refs={},Tu(t),l=a.contextType,s.context=typeof l=="object"&&l!==null?Ne(l):wn,s.state=t.memoizedState,l=a.getDerivedStateFromProps,typeof l=="function"&&(vr(t,a,l,n),s.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(l=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),l!==s.state&&xo.enqueueReplaceState(s,s.state,null),xi(t,n,s,i),Si(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){s=t.stateNode;var r=t.memoizedProps,o=Ya(a,r);s.props=o;var u=s.context,d=a.contextType;l=wn,typeof d=="object"&&d!==null&&(l=Ne(d));var v=a.getDerivedStateFromProps;d=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r||u!==l)&&Yc(t,s,n,l),Wt=!1;var p=t.memoizedState;s.state=p,xi(t,n,s,i),Si(),u=t.memoizedState,r||p!==u||Wt?(typeof v=="function"&&(vr(t,a,v,n),u=t.memoizedState),(o=Wt||Kc(t,a,o,n,p,u,l))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),s.props=n,s.state=u,s.context=l,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,mo(e,t),l=t.memoizedProps,d=Ya(a,l),s.props=d,v=t.pendingProps,p=s.context,u=a.contextType,o=wn,typeof u=="object"&&u!==null&&(o=Ne(u)),r=a.getDerivedStateFromProps,(u=typeof r=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==v||p!==o)&&Yc(t,s,n,o),Wt=!1,p=t.memoizedState,s.state=p,xi(t,n,s,i),Si();var f=t.memoizedState;l!==v||p!==f||Wt||e!==null&&e.dependencies!==null&&ll(e.dependencies)?(typeof r=="function"&&(vr(t,a,r,n),f=t.memoizedState),(d=Wt||Kc(t,a,d,n,p,f,o)||e!==null&&e.dependencies!==null&&ll(e.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,f,o),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,f,o)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),s.props=n,s.state=f,s.context=o,n=d):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return s=n,Qs(e,t),n=(t.flags&128)!==0,s||n?(s=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&n?(t.child=Va(t,e.child,null,i),t.child=Va(t,null,a,i)):Ae(e,t,a,i),t.memoizedState=s.state,e=t.child):e=Gt(e,t,i),e}function Fc(e,t,a,n){return $a(),t.flags|=256,Ae(e,t,a,n),t.child}var yr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function br(e){return{baseLanes:e,cachePool:ff()}}function _r(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ie),e}function sp(e,t,a){var n=t.pendingProps,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(ce.current&2)!==0),l&&(i=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(K){if(i?ta(t):aa(),(e=ne)?(e=Zp(e,lt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ba!==null?{id:bt,overflow:_t}:null,retryLane:536870912,hydrationErrors:null},a=uf(e),a.return=t,t.child=a,Oe=t,ne=null)):e=null,e===null)throw _a(t);return qo(e)?t.lanes=32:t.lanes=536870912,null}var r=n.children;return n=n.fallback,i?(aa(),i=t.mode,r=fl({mode:"hidden",children:r},i),n=Ma(n,i,a,null),r.return=t,n.return=t,r.sibling=n,t.child=r,n=t.child,n.memoizedState=br(a),n.childLanes=_r(e,l,a),t.memoizedState=yr,fi(null,n)):(ta(t),Ao(t,r))}var o=e.memoizedState;if(o!==null&&(r=o.dehydrated,r!==null)){if(s)t.flags&256?(ta(t),t.flags&=-257,t=wr(e,t,a)):t.memoizedState!==null?(aa(),t.child=e.child,t.flags|=128,t=null):(aa(),r=n.fallback,i=t.mode,n=fl({mode:"visible",children:n.children},i),r=Ma(r,i,a,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,Va(t,e.child,null,a),n=t.child,n.memoizedState=br(a),n.childLanes=_r(e,l,a),t.memoizedState=yr,t=fi(null,n));else if(ta(t),qo(r)){if(l=r.nextSibling&&r.nextSibling.dataset,l)var u=l.dgst;l=u,n=Error(x(419)),n.stack="",n.digest=l,Li({value:n,source:null,stack:null}),t=wr(e,t,a)}else if(me||Jn(e,t,a,!1),l=(a&e.childLanes)!==0,me||l){if(l=F,l!==null&&(n=Uh(l,a),n!==0&&n!==o.retryLane))throw o.retryLane=n,Xa(e,n),Le(l,e,n),qu;Lo(r)||vl(),t=wr(e,t,a)}else Lo(r)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,ne=ot(r.nextSibling),Oe=t,K=!0,da=null,lt=!1,e!==null&&df(t,e),t=Ao(t,n.children),t.flags|=4096);return t}return i?(aa(),r=n.fallback,i=t.mode,o=e.child,u=o.sibling,n=Bt(o,{mode:"hidden",children:n.children}),n.subtreeFlags=o.subtreeFlags&65011712,u!==null?r=Bt(u,r):(r=Ma(r,i,a,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,fi(null,n),n=t.child,r=e.child.memoizedState,r===null?r=br(a):(i=r.cachePool,i!==null?(o=ge._currentValue,i=i.parent!==o?{parent:o,pool:o}:i):i=ff(),r={baseLanes:r.baseLanes|a,cachePool:i}),n.memoizedState=r,n.childLanes=_r(e,l,a),t.memoizedState=yr,fi(e.child,n)):(ta(t),a=e.child,e=a.sibling,a=Bt(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=a,t.memoizedState=null,a)}function Ao(e,t){return t=fl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function fl(e,t){return e=Ye(22,e,null,t),e.lanes=0,e}function wr(e,t,a){return Va(t,e.child,null,a),e=Ao(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ed(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),fo(e.return,t,a)}function Sr(e,t,a,n,i,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i,treeForkCount:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=a,l.tailMode=i,l.treeForkCount=s)}function lp(e,t,a){var n=t.pendingProps,i=n.revealOrder,s=n.tail;n=n.children;var l=ce.current,r=(l&2)!==0;if(r?(l=l&1|2,t.flags|=128):l&=1,te(ce,l),Ae(e,t,n,a),n=K?Mi:0,!r&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ed(e,a,t);else if(e.tag===19)ed(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&ul(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),Sr(t,!1,i,a,s,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ul(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}Sr(t,!0,a,null,s,n);break;case"together":Sr(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Gt(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Sa|=t.lanes,!(a&t.childLanes))if(e!==null){if(Jn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(x(153));if(t.child!==null){for(e=t.child,a=Bt(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Bt(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Hu(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ll(e)))}function O0(e,t,a){switch(t.tag){case 3:Fs(t,t.stateNode.containerInfo),ea(t,ge,e.memoizedState.cache),$a();break;case 27:case 5:Fr(t);break;case 4:Fs(t,t.stateNode.containerInfo);break;case 10:ea(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,bo(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(ta(t),t.flags|=128,null):a&t.child.childLanes?sp(e,t,a):(ta(t),e=Gt(e,t,a),e!==null?e.sibling:null);ta(t);break;case 19:var i=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Jn(e,t,a,!1),n=(a&t.childLanes)!==0),i){if(n)return lp(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),te(ce,ce.current),n)break;return null;case 22:return t.lanes=0,ip(e,t,a,t.pendingProps);case 24:ea(t,ge,e.memoizedState.cache)}return Gt(e,t,a)}function rp(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)me=!0;else{if(!Hu(e,a)&&!(t.flags&128))return me=!1,O0(e,t,a);me=!!(e.flags&131072)}else me=!1,K&&t.flags&1048576&&cf(t,Mi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Ca(t.elementType),t.type=e,typeof e=="function")yu(e)?(n=Ya(e,n),t.tag=1,t=Wc(null,t,e,n,a)):(t.tag=0,t=Eo(null,t,e,n,a));else{if(e!=null){var i=e.$$typeof;if(i===iu){t.tag=11,t=Ic(null,t,e,n,a);break e}else if(i===su){t.tag=14,t=Jc(null,t,e,n,a);break e}}throw t=Pr(e)||e,Error(x(306,t,""))}}return t;case 0:return Eo(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,i=Ya(n,t.pendingProps),Wc(e,t,n,i,a);case 3:e:{if(Fs(t,t.stateNode.containerInfo),e===null)throw Error(x(387));n=t.pendingProps;var s=t.memoizedState;i=s.element,mo(e,t),xi(t,n,null,a);var l=t.memoizedState;if(n=l.cache,ea(t,ge,n),n!==s.cache&&po(t,[ge],a,!0),Si(),n=l.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Fc(e,t,n,a);break e}else if(n!==i){i=st(Error(x(424)),t),Li(i),t=Fc(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=ot(e.firstChild),Oe=t,K=!0,da=null,lt=!0,a=mf(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($a(),n===i){t=Gt(e,t,a);break e}Ae(e,t,n,a)}t=t.child}return t;case 26:return Qs(e,t),e===null?(a=_d(t.type,null,t.pendingProps,null))?t.memoizedState=a:K||(a=t.type,e=t.pendingProps,n=wl(ca.current).createElement(a),n[je]=t,n[qe]=e,Ce(n,a,e),we(n),t.stateNode=n):t.memoizedState=_d(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Fr(t),e===null&&K&&(n=t.stateNode=Pp(t.type,t.pendingProps,ca.current),Oe=t,lt=!0,i=ne,Ta(t.type)?(Ho=i,ne=ot(n.firstChild)):ne=i),Ae(e,t,t.pendingProps.children,a),Qs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&K&&((i=n=ne)&&(n=iv(n,t.type,t.pendingProps,lt),n!==null?(t.stateNode=n,Oe=t,ne=ot(n.firstChild),lt=!1,i=!0):i=!1),i||_a(t)),Fr(t),i=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,n=s.children,Bo(i,s)?n=null:l!==null&&Bo(i,l)&&(t.flags|=32),t.memoizedState!==null&&(i=ju(e,t,b0,null,null,a),Ki._currentValue=i),Qs(e,t),Ae(e,t,n,a),t.child;case 6:return e===null&&K&&((e=a=ne)&&(a=sv(a,t.pendingProps,lt),a!==null?(t.stateNode=a,Oe=t,ne=null,e=!0):e=!1),e||_a(t)),null;case 13:return sp(e,t,a);case 4:return Fs(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Va(t,null,n,a):Ae(e,t,n,a),t.child;case 11:return Ic(e,t,t.type,t.pendingProps,a);case 7:return Ae(e,t,t.pendingProps,a),t.child;case 8:return Ae(e,t,t.pendingProps.children,a),t.child;case 12:return Ae(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,ea(t,t.type,n.value),Ae(e,t,n.children,a),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,Ga(t),i=Ne(i),n=n(i),t.flags|=1,Ae(e,t,n,a),t.child;case 14:return Jc(e,t,t.type,t.pendingProps,a);case 15:return np(e,t,t.type,t.pendingProps,a);case 19:return lp(e,t,a);case 31:return j0(e,t,a);case 22:return ip(e,t,a,t.pendingProps);case 24:return Ga(t),n=Ne(ge),e===null?(i=Su(),i===null&&(i=F,s=wu(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=a),i=s),t.memoizedState={parent:n,cache:i},Tu(t),ea(t,ge,i)):(e.lanes&a&&(mo(e,t),xi(t,null,null,a),Si()),i=e.memoizedState,s=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),ea(t,ge,n)):(n=s.cache,ea(t,ge,n),n!==i.cache&&po(t,[ge],a,!0))),Ae(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(x(156,t.tag))}function At(e){e.flags|=4}function xr(e,t,a,n,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Rp())e.flags|=8192;else throw qa=rl,xu}else e.flags&=-16777217}function td(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!eg(t))if(Rp())e.flags|=8192;else throw qa=rl,xu}function Ts(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Rh():536870912,e.lanes|=t,Hn|=t)}function li(e,t){if(!K)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function N0(e,t,a){var n=t.pendingProps;switch(_u(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(t),null;case 1:return ae(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Mt(ge),Un(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Pa(t)?At(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pr())),ae(t),null;case 26:var i=t.type,s=t.memoizedState;return e===null?(At(t),s!==null?(ae(t),td(t,s)):(ae(t),xr(t,i,null,n,a))):s?s!==e.memoizedState?(At(t),ae(t),td(t,s)):(ae(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&At(t),ae(t),xr(t,i,e,n,a)),null;case 27:if(el(t),a=ca.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&At(t);else{if(!n){if(t.stateNode===null)throw Error(x(166));return ae(t),null}e=St.current,Pa(t)?Cc(t):(e=Pp(i,n,a),t.stateNode=e,At(t))}return ae(t),null;case 5:if(el(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&At(t);else{if(!n){if(t.stateNode===null)throw Error(x(166));return ae(t),null}if(s=St.current,Pa(t))Cc(t);else{var l=wl(ca.current);switch(s){case 1:s=l.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=l.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=l.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=l.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=l.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof n.is=="string"?l.createElement("select",{is:n.is}):l.createElement("select"),n.multiple?s.multiple=!0:n.size&&(s.size=n.size);break;default:s=typeof n.is=="string"?l.createElement(i,{is:n.is}):l.createElement(i)}}s[je]=t,s[qe]=n;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=s;e:switch(Ce(s,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&At(t)}}return ae(t),xr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&At(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(x(166));if(e=ca.current,Pa(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,i=Oe,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[je]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Ip(e.nodeValue,a)),e||_a(t,!0)}else e=wl(e).createTextNode(n),e[je]=t,t.stateNode=e}return ae(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=Pa(t),a!==null){if(e===null){if(!n)throw Error(x(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(x(557));e[je]=t}else $a(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ae(t),e=!1}else a=pr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ke(t),t):(Ke(t),null);if(t.flags&128)throw Error(x(558))}return ae(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Pa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(x(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(x(317));i[je]=t}else $a(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ae(t),i=!1}else i=pr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Ke(t),t):(Ke(t),null)}return Ke(t),t.flags&128?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==i&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Ts(t,t.updateQueue),ae(t),null);case 4:return Un(),e===null&&Iu(t.stateNode.containerInfo),ae(t),null;case 10:return Mt(t.type),ae(t),null;case 19:if(Se(ce),n=t.memoizedState,n===null)return ae(t),null;if(i=(t.flags&128)!==0,s=n.rendering,s===null)if(i)li(n,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ul(e),s!==null){for(t.flags|=128,li(n,!1),e=s.updateQueue,t.updateQueue=e,Ts(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)of(a,e),a=a.sibling;return te(ce,ce.current&1|2),K&&Rt(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&Je()>gl&&(t.flags|=128,i=!0,li(n,!1),t.lanes=4194304)}else{if(!i)if(e=ul(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Ts(t,e),li(n,!0),n.tail===null&&n.tailMode==="hidden"&&!s.alternate&&!K)return ae(t),null}else 2*Je()-n.renderingStartTime>gl&&a!==536870912&&(t.flags|=128,i=!0,li(n,!1),t.lanes=4194304);n.isBackwards?(s.sibling=t.child,t.child=s):(e=n.last,e!==null?e.sibling=s:t.child=s,n.last=s)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=Je(),e.sibling=null,a=ce.current,te(ce,i?a&1|2:a&1),K&&Rt(t,n.treeForkCount),e):(ae(t),null);case 22:case 23:return Ke(t),Eu(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?a&536870912&&!(t.flags&128)&&(ae(t),t.subtreeFlags&6&&(t.flags|=8192)):ae(t),a=t.updateQueue,a!==null&&Ts(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&Se(La),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Mt(ge),ae(t),null;case 25:return null;case 30:return null}throw Error(x(156,t.tag))}function C0(e,t){switch(_u(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mt(ge),Un(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return el(t),null;case 31:if(t.memoizedState!==null){if(Ke(t),t.alternate===null)throw Error(x(340));$a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ke(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(x(340));$a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(ce),null;case 4:return Un(),null;case 10:return Mt(t.type),null;case 22:case 23:return Ke(t),Eu(),e!==null&&Se(La),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Mt(ge),null;case 25:return null;default:return null}}function op(e,t){switch(_u(t),t.tag){case 3:Mt(ge),Un();break;case 26:case 27:case 5:el(t);break;case 4:Un();break;case 31:t.memoizedState!==null&&Ke(t);break;case 13:Ke(t);break;case 19:Se(ce);break;case 10:Mt(t.type);break;case 22:case 23:Ke(t),Eu(),e!==null&&Se(La);break;case 24:Mt(ge)}}function os(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){n=void 0;var s=a.create,l=a.inst;n=s(),l.destroy=n}a=a.next}while(a!==i)}}catch(r){Z(t,t.return,r)}}function wa(e,t,a){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){var l=n.inst,r=l.destroy;if(r!==void 0){l.destroy=void 0,i=t;var o=a,u=r;try{u()}catch(d){Z(i,o,d)}}}n=n.next}while(n!==s)}}catch(d){Z(t,t.return,d)}}function up(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{yf(t,a)}catch(n){Z(e,e.return,n)}}}function cp(e,t,a){a.props=Ya(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Z(e,t,n)}}function Ei(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(i){Z(e,t,i)}}function wt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(i){Z(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){Z(e,t,i)}else a.current=null}function dp(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(i){Z(e,e.return,i)}}function Tr(e,t,a){try{var n=e.stateNode;W0(n,e.type,a,t),n[qe]=t}catch(i){Z(e,e.return,i)}}function hp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ta(e.type)||e.tag===4}function Er(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ta(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jo(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ut));else if(n!==4&&(n===27&&Ta(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(jo(e,t,a),e=e.sibling;e!==null;)jo(e,t,a),e=e.sibling}function pl(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Ta(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(pl(e,t,a),e=e.sibling;e!==null;)pl(e,t,a),e=e.sibling}function fp(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ce(t,n,a),t[je]=e,t[qe]=a}catch(s){Z(e,e.return,s)}}var kt=!1,pe=!1,Ar=!1,ad=typeof WeakSet=="function"?WeakSet:Set,_e=null;function R0(e,t){if(e=e.containerInfo,Uo=El,e=Fh(e),gu(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{a.nodeType,s.nodeType}catch{a=null;break e}var l=0,r=-1,o=-1,u=0,d=0,v=e,p=null;t:for(;;){for(var f;v!==a||i!==0&&v.nodeType!==3||(r=l+i),v!==s||n!==0&&v.nodeType!==3||(o=l+n),v.nodeType===3&&(l+=v.nodeValue.length),(f=v.firstChild)!==null;)p=v,v=f;for(;;){if(v===e)break t;if(p===a&&++u===i&&(r=l),p===s&&++d===n&&(o=l),(f=v.nextSibling)!==null)break;v=p,p=v.parentNode}v=f}a=r===-1||o===-1?null:{start:r,end:o}}else a=null}a=a||{start:0,end:0}}else a=null;for(zo={focusedElem:e,selectionRange:a},El=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){switch(t=_e,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)i=e[a],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,a=t,i=s.memoizedProps,s=s.memoizedState,n=a.stateNode;try{var b=Ya(a.type,i);e=n.getSnapshotBeforeUpdate(b,s),n.__reactInternalSnapshotBeforeUpdate=e}catch(_){Z(a,a.return,_)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Mo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(x(163))}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}}function pp(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Ot(e,a),n&4&&os(5,a);break;case 1:if(Ot(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(l){Z(a,a.return,l)}else{var i=Ya(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){Z(a,a.return,l)}}n&64&&up(a),n&512&&Ei(a,a.return);break;case 3:if(Ot(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{yf(e,t)}catch(l){Z(a,a.return,l)}}break;case 27:t===null&&n&4&&fp(a);case 26:case 5:Ot(e,a),t===null&&n&4&&dp(a),n&512&&Ei(a,a.return);break;case 12:Ot(e,a);break;case 31:Ot(e,a),n&4&&vp(e,a);break;case 13:Ot(e,a),n&4&&yp(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=H0.bind(null,a),lv(e,a))));break;case 22:if(n=a.memoizedState!==null||kt,!n){t=t!==null&&t.memoizedState!==null||pe,i=kt;var s=pe;kt=n,(pe=t)&&!s?Nt(e,a,(a.subtreeFlags&8772)!==0):Ot(e,a),kt=i,pe=s}break;case 30:break;default:Ot(e,a)}}function gp(e){var t=e.alternate;t!==null&&(e.alternate=null,gp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&uu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,Be=!1;function jt(e,t,a){for(a=a.child;a!==null;)mp(e,t,a),a=a.sibling}function mp(e,t,a){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ts,a)}catch{}switch(a.tag){case 26:pe||wt(a,t),jt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pe||wt(a,t);var n=le,i=Be;Ta(a.type)&&(le=a.stateNode,Be=!1),jt(e,t,a),Ni(a.stateNode),le=n,Be=i;break;case 5:pe||wt(a,t);case 6:if(n=le,i=Be,le=null,jt(e,t,a),le=n,Be=i,le!==null)if(Be)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(s){Z(a,t,s)}else try{le.removeChild(a.stateNode)}catch(s){Z(a,t,s)}break;case 18:le!==null&&(Be?(e=le,gd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Kn(e)):gd(le,a.stateNode));break;case 4:n=le,i=Be,le=a.stateNode.containerInfo,Be=!0,jt(e,t,a),le=n,Be=i;break;case 0:case 11:case 14:case 15:wa(2,a,t),pe||wa(4,a,t),jt(e,t,a);break;case 1:pe||(wt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&cp(a,t,n)),jt(e,t,a);break;case 21:jt(e,t,a);break;case 22:pe=(n=pe)||a.memoizedState!==null,jt(e,t,a),pe=n;break;default:jt(e,t,a)}}function vp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Kn(e)}catch(a){Z(t,t.return,a)}}}function yp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Kn(e)}catch(a){Z(t,t.return,a)}}function k0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ad),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ad),t;default:throw Error(x(435,e.tag))}}function Es(e,t){var a=k0(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var i=$0.bind(null,e,n);n.then(i,i)}})}function Ue(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n],s=e,l=t,r=l;e:for(;r!==null;){switch(r.tag){case 27:if(Ta(r.type)){le=r.stateNode,Be=!1;break e}break;case 5:le=r.stateNode,Be=!1;break e;case 3:case 4:le=r.stateNode.containerInfo,Be=!0;break e}r=r.return}if(le===null)throw Error(x(160));mp(s,l,i),le=null,Be=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)bp(t,e),t=t.sibling}var ft=null;function bp(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ue(t,e),ze(e),n&4&&(wa(3,e,e.return),os(3,e),wa(5,e,e.return));break;case 1:Ue(t,e),ze(e),n&512&&(pe||a===null||wt(a,a.return)),n&64&&kt&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var i=ft;if(Ue(t,e),ze(e),n&512&&(pe||a===null||wt(a,a.return)),n&4){var s=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":s=i.getElementsByTagName("title")[0],(!s||s[is]||s[je]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(n),i.head.insertBefore(s,i.querySelector("head > title"))),Ce(s,n,a),s[je]=e,we(s),n=s;break e;case"link":var l=Sd("link","href",i).get(n+(a.href||""));if(l){for(var r=0;r<l.length;r++)if(s=l[r],s.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&s.getAttribute("rel")===(a.rel==null?null:a.rel)&&s.getAttribute("title")===(a.title==null?null:a.title)&&s.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){l.splice(r,1);break t}}s=i.createElement(n),Ce(s,n,a),i.head.appendChild(s);break;case"meta":if(l=Sd("meta","content",i).get(n+(a.content||""))){for(r=0;r<l.length;r++)if(s=l[r],s.getAttribute("content")===(a.content==null?null:""+a.content)&&s.getAttribute("name")===(a.name==null?null:a.name)&&s.getAttribute("property")===(a.property==null?null:a.property)&&s.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&s.getAttribute("charset")===(a.charSet==null?null:a.charSet)){l.splice(r,1);break t}}s=i.createElement(n),Ce(s,n,a),i.head.appendChild(s);break;default:throw Error(x(468,n))}s[je]=e,we(s),n=s}e.stateNode=n}else xd(i,e.type,e.stateNode);else e.stateNode=wd(i,n,e.memoizedProps);else s!==n?(s===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):s.count--,n===null?xd(i,e.type,e.stateNode):wd(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Tr(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ue(t,e),ze(e),n&512&&(pe||a===null||wt(a,a.return)),a!==null&&n&4&&Tr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ue(t,e),ze(e),n&512&&(pe||a===null||wt(a,a.return)),e.flags&32){i=e.stateNode;try{Bn(i,"")}catch(b){Z(e,e.return,b)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,Tr(e,i,a!==null?a.memoizedProps:i)),n&1024&&(Ar=!0);break;case 6:if(Ue(t,e),ze(e),n&4){if(e.stateNode===null)throw Error(x(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(b){Z(e,e.return,b)}}break;case 3:if(Xs=null,i=ft,ft=Sl(t.containerInfo),Ue(t,e),ft=i,ze(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Kn(t.containerInfo)}catch(b){Z(e,e.return,b)}Ar&&(Ar=!1,_p(e));break;case 4:n=ft,ft=Sl(e.stateNode.containerInfo),Ue(t,e),ze(e),ft=n;break;case 12:Ue(t,e),ze(e);break;case 31:Ue(t,e),ze(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Es(e,n)));break;case 13:Ue(t,e),ze(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kl=Je()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Es(e,n)));break;case 22:i=e.memoizedState!==null;var o=a!==null&&a.memoizedState!==null,u=kt,d=pe;if(kt=u||i,pe=d||o,Ue(t,e),pe=d,kt=u,ze(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||o||kt||pe||Ra(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){o=a=t;try{if(s=o.stateNode,i)l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{r=o.stateNode;var v=o.memoizedProps.style,p=v!=null&&v.hasOwnProperty("display")?v.display:null;r.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(b){Z(o,o.return,b)}}}else if(t.tag===6){if(a===null){o=t;try{o.stateNode.nodeValue=i?"":o.memoizedProps}catch(b){Z(o,o.return,b)}}}else if(t.tag===18){if(a===null){o=t;try{var f=o.stateNode;i?md(f,!0):md(o.stateNode,!1)}catch(b){Z(o,o.return,b)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Es(e,a))));break;case 19:Ue(t,e),ze(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Es(e,n)));break;case 30:break;case 21:break;default:Ue(t,e),ze(e)}}function ze(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(hp(n)){a=n;break}n=n.return}if(a==null)throw Error(x(160));switch(a.tag){case 27:var i=a.stateNode,s=Er(e);pl(e,s,i);break;case 5:var l=a.stateNode;a.flags&32&&(Bn(l,""),a.flags&=-33);var r=Er(e);pl(e,r,l);break;case 3:case 4:var o=a.stateNode.containerInfo,u=Er(e);jo(e,u,o);break;default:throw Error(x(161))}}catch(d){Z(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _p(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;_p(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ot(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)pp(e,t.alternate,t),t=t.sibling}function Ra(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:wa(4,t,t.return),Ra(t);break;case 1:wt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&cp(t,t.return,a),Ra(t);break;case 27:Ni(t.stateNode);case 26:case 5:wt(t,t.return),Ra(t);break;case 22:t.memoizedState===null&&Ra(t);break;case 30:Ra(t);break;default:Ra(t)}e=e.sibling}}function Nt(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,s=t,l=s.flags;switch(s.tag){case 0:case 11:case 15:Nt(i,s,a),os(4,s);break;case 1:if(Nt(i,s,a),n=s,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Z(n,n.return,u)}if(n=s,i=n.updateQueue,i!==null){var r=n.stateNode;try{var o=i.shared.hiddenCallbacks;if(o!==null)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)vf(o[i],r)}catch(u){Z(n,n.return,u)}}a&&l&64&&up(s),Ei(s,s.return);break;case 27:fp(s);case 26:case 5:Nt(i,s,a),a&&n===null&&l&4&&dp(s),Ei(s,s.return);break;case 12:Nt(i,s,a);break;case 31:Nt(i,s,a),a&&l&4&&vp(i,s);break;case 13:Nt(i,s,a),a&&l&4&&yp(i,s);break;case 22:s.memoizedState===null&&Nt(i,s,a),Ei(s,s.return);break;case 30:break;default:Nt(i,s,a)}t=t.sibling}}function $u(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ls(a))}function Gu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ls(e))}function ct(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wp(e,t,a,n),t=t.sibling}function wp(e,t,a,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ct(e,t,a,n),i&2048&&os(9,t);break;case 1:ct(e,t,a,n);break;case 3:ct(e,t,a,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ls(e)));break;case 12:if(i&2048){ct(e,t,a,n),e=t.stateNode;try{var s=t.memoizedProps,l=s.id,r=s.onPostCommit;typeof r=="function"&&r(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Z(t,t.return,o)}}else ct(e,t,a,n);break;case 31:ct(e,t,a,n);break;case 13:ct(e,t,a,n);break;case 23:break;case 22:s=t.stateNode,l=t.alternate,t.memoizedState!==null?s._visibility&2?ct(e,t,a,n):Ai(e,t):s._visibility&2?ct(e,t,a,n):(s._visibility|=2,on(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),i&2048&&$u(l,t);break;case 24:ct(e,t,a,n),i&2048&&Gu(t.alternate,t);break;default:ct(e,t,a,n)}}function on(e,t,a,n,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,l=t,r=a,o=n,u=l.flags;switch(l.tag){case 0:case 11:case 15:on(s,l,r,o,i),os(8,l);break;case 23:break;case 22:var d=l.stateNode;l.memoizedState!==null?d._visibility&2?on(s,l,r,o,i):Ai(s,l):(d._visibility|=2,on(s,l,r,o,i)),i&&u&2048&&$u(l.alternate,l);break;case 24:on(s,l,r,o,i),i&&u&2048&&Gu(l.alternate,l);break;default:on(s,l,r,o,i)}t=t.sibling}}function Ai(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,i=n.flags;switch(n.tag){case 22:Ai(a,n),i&2048&&$u(n.alternate,n);break;case 24:Ai(a,n),i&2048&&Gu(n.alternate,n);break;default:Ai(a,n)}t=t.sibling}}var pi=8192;function Wa(e,t,a){if(e.subtreeFlags&pi)for(e=e.child;e!==null;)Sp(e,t,a),e=e.sibling}function Sp(e,t,a){switch(e.tag){case 26:Wa(e,t,a),e.flags&pi&&e.memoizedState!==null&&yv(a,ft,e.memoizedState,e.memoizedProps);break;case 5:Wa(e,t,a);break;case 3:case 4:var n=ft;ft=Sl(e.stateNode.containerInfo),Wa(e,t,a),ft=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=pi,pi=16777216,Wa(e,t,a),pi=n):Wa(e,t,a));break;default:Wa(e,t,a)}}function xp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ri(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];_e=n,Ep(n,e)}xp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Tp(e),e=e.sibling}function Tp(e){switch(e.tag){case 0:case 11:case 15:ri(e),e.flags&2048&&wa(9,e,e.return);break;case 3:ri(e);break;case 12:ri(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Is(e)):ri(e);break;default:ri(e)}}function Is(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];_e=n,Ep(n,e)}xp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:wa(8,t,t.return),Is(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Is(t));break;default:Is(t)}e=e.sibling}}function Ep(e,t){for(;_e!==null;){var a=_e;switch(a.tag){case 0:case 11:case 15:wa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:ls(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,_e=n;else e:for(a=e;_e!==null;){n=_e;var i=n.sibling,s=n.return;if(gp(n),n===a){_e=null;break e}if(i!==null){i.return=s,_e=i;break e}_e=s}}}var D0={getCacheForType:function(e){var t=Ne(ge),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Ne(ge).controller.signal}},U0=typeof WeakMap=="function"?WeakMap:Map,Q=0,F=null,$=null,G=0,X=0,Ve=null,ra=!1,Zn=!1,Vu=!1,Vt=0,ue=0,Sa=0,Ha=0,Ku=0,Ie=0,Hn=0,ji=null,Me=null,Oo=!1,Kl=0,Ap=0,gl=1/0,ml=null,pa=null,ye=0,ga=null,$n=null,Lt=0,No=0,Co=null,jp=null,Oi=0,Ro=null;function Pe(){return Q&2&&G!==0?G&-G:B.T!==null?Qu():zh()}function Op(){if(Ie===0)if(!(G&536870912)||K){var e=vs;vs<<=1,!(vs&3932160)&&(vs=262144),Ie=e}else Ie=536870912;return e=Fe.current,e!==null&&(e.flags|=32),Ie}function Le(e,t,a){(e===F&&(X===2||X===9)||e.cancelPendingCommit!==null)&&(Gn(e,0),oa(e,G,Ie,!1)),ns(e,a),(!(Q&2)||e!==F)&&(e===F&&(!(Q&2)&&(Ha|=a),ue===4&&oa(e,G,Ie,!1)),Tt(e))}function Np(e,t,a){if(Q&6)throw Error(x(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||as(e,t),i=n?M0(e,t):jr(e,t,!0),s=n;do{if(i===0){Zn&&!n&&oa(e,t,0,!1);break}else{if(a=e.current.alternate,s&&!z0(a)){i=jr(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;e:{var r=e;i=ji;var o=r.current.memoizedState.isDehydrated;if(o&&(Gn(r,l).flags|=256),l=jr(r,l,!1),l!==2){if(Vu&&!o){r.errorRecoveryDisabledLanes|=s,Ha|=s,i=4;break e}s=Me,Me=i,s!==null&&(Me===null?Me=s:Me.push.apply(Me,s))}i=l}if(s=!1,i!==2)continue}}if(i===1){Gn(e,0),oa(e,t,0,!0);break}e:{switch(n=e,s=i,s){case 0:case 1:throw Error(x(345));case 4:if((t&4194048)!==t)break;case 6:oa(n,t,Ie,!ra);break e;case 2:Me=null;break;case 3:case 5:break;default:throw Error(x(329))}if((t&62914560)===t&&(i=Kl+300-Je(),10<i)){if(oa(n,t,Ie,!ra),Dl(n,0,!0)!==0)break e;Lt=t,n.timeoutHandle=Xp(nd.bind(null,n,a,Me,ml,Oo,t,Ie,Ha,Hn,ra,s,"Throttled",-0,0),i);break e}nd(n,a,Me,ml,Oo,t,Ie,Ha,Hn,ra,s,null,-0,0)}}break}while(!0);Tt(e)}function nd(e,t,a,n,i,s,l,r,o,u,d,v,p,f){if(e.timeoutHandle=-1,v=t.subtreeFlags,v&8192||(v&16785408)===16785408){v={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ut},Sp(t,s,v);var b=(s&62914560)===s?Kl-Je():(s&4194048)===s?Ap-Je():0;if(b=bv(v,b),b!==null){Lt=s,e.cancelPendingCommit=b(sd.bind(null,e,t,s,a,n,i,l,r,o,d,v,null,p,f)),oa(e,s,l,!u);return}}sd(e,t,s,a,n,i,l,r,o)}function z0(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var i=a[n],s=i.getSnapshot;i=i.value;try{if(!We(s(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oa(e,t,a,n){t&=~Ku,t&=~Ha,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var s=31-Ze(i),l=1<<s;n[s]=-1,i&=~l}a!==0&&kh(e,a,t)}function Yl(){return Q&6?!0:(us(0),!1)}function Yu(){if($!==null){if(X===0)var e=$.return;else e=$,zt=Za=null,Cu(e),Cn=null,qi=0,e=$;for(;e!==null;)op(e.alternate,e),e=e.return;$=null}}function Gn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,tv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Lt=0,Yu(),F=e,$=a=Bt(e.current,null),G=t,X=0,Ve=null,ra=!1,Zn=as(e,t),Vu=!1,Hn=Ie=Ku=Ha=Sa=ue=0,Me=ji=null,Oo=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-Ze(n),s=1<<i;t|=e[i],n&=~s}return Vt=t,Ml(),a}function Cp(e,t){q=null,B.H=$i,t===Xn||t===ql?(t=zc(),X=3):t===xu?(t=zc(),X=4):X=t===qu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ve=t,$===null&&(ue=1,hl(e,st(t,e.current)))}function Rp(){var e=Fe.current;return e===null?!0:(G&4194048)===G?rt===null:(G&62914560)===G||G&536870912?e===rt:!1}function kp(){var e=B.H;return B.H=$i,e===null?$i:e}function Dp(){var e=B.A;return B.A=D0,e}function vl(){ue=4,ra||(G&4194048)!==G&&Fe.current!==null||(Zn=!0),!(Sa&134217727)&&!(Ha&134217727)||F===null||oa(F,G,Ie,!1)}function jr(e,t,a){var n=Q;Q|=2;var i=kp(),s=Dp();(F!==e||G!==t)&&(ml=null,Gn(e,t)),t=!1;var l=ue;e:do try{if(X!==0&&$!==null){var r=$,o=Ve;switch(X){case 8:Yu(),l=6;break e;case 3:case 2:case 9:case 6:Fe.current===null&&(t=!0);var u=X;if(X=0,Ve=null,Tn(e,r,o,u),a&&Zn){l=0;break e}break;default:u=X,X=0,Ve=null,Tn(e,r,o,u)}}B0(),l=ue;break}catch(d){Cp(e,d)}while(!0);return t&&e.shellSuspendCounter++,zt=Za=null,Q=n,B.H=i,B.A=s,$===null&&(F=null,G=0,Ml()),l}function B0(){for(;$!==null;)Up($)}function M0(e,t){var a=Q;Q|=2;var n=kp(),i=Dp();F!==e||G!==t?(ml=null,gl=Je()+500,Gn(e,t)):Zn=as(e,t);e:do try{if(X!==0&&$!==null){t=$;var s=Ve;t:switch(X){case 1:X=0,Ve=null,Tn(e,t,s,1);break;case 2:case 9:if(Uc(s)){X=0,Ve=null,id(t);break}t=function(){X!==2&&X!==9||F!==e||(X=7),Tt(e)},s.then(t,t);break e;case 3:X=7;break e;case 4:X=5;break e;case 7:Uc(s)?(X=0,Ve=null,id(t)):(X=0,Ve=null,Tn(e,t,s,7));break;case 5:var l=null;switch($.tag){case 26:l=$.memoizedState;case 5:case 27:var r=$;if(l?eg(l):r.stateNode.complete){X=0,Ve=null;var o=r.sibling;if(o!==null)$=o;else{var u=r.return;u!==null?($=u,Ql(u)):$=null}break t}}X=0,Ve=null,Tn(e,t,s,5);break;case 6:X=0,Ve=null,Tn(e,t,s,6);break;case 8:Yu(),ue=6;break e;default:throw Error(x(462))}}L0();break}catch(d){Cp(e,d)}while(!0);return zt=Za=null,B.H=n,B.A=i,Q=a,$!==null?0:(F=null,G=0,Ml(),ue)}function L0(){for(;$!==null&&!rm();)Up($)}function Up(e){var t=rp(e.alternate,e,Vt);e.memoizedProps=e.pendingProps,t===null?Ql(e):$=t}function id(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Pc(a,t,t.pendingProps,t.type,void 0,G);break;case 11:t=Pc(a,t,t.pendingProps,t.type.render,t.ref,G);break;case 5:Cu(t);default:op(a,t),t=$=of(t,Vt),t=rp(a,t,Vt)}e.memoizedProps=e.pendingProps,t===null?Ql(e):$=t}function Tn(e,t,a,n){zt=Za=null,Cu(t),Cn=null,qi=0;var i=t.return;try{if(A0(e,i,t,a,G)){ue=1,hl(e,st(a,e.current)),$=null;return}}catch(s){if(i!==null)throw $=i,s;ue=1,hl(e,st(a,e.current)),$=null;return}t.flags&32768?(K||n===1?e=!0:Zn||G&536870912?e=!1:(ra=e=!0,(n===2||n===9||n===3||n===6)&&(n=Fe.current,n!==null&&n.tag===13&&(n.flags|=16384))),zp(t,e)):Ql(t)}function Ql(e){var t=e;do{if(t.flags&32768){zp(t,ra);return}e=t.return;var a=N0(t.alternate,t,Vt);if(a!==null){$=a;return}if(t=t.sibling,t!==null){$=t;return}$=t=e}while(t!==null);ue===0&&(ue=5)}function zp(e,t){do{var a=C0(e.alternate,e);if(a!==null){a.flags&=32767,$=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){$=e;return}$=e=a}while(e!==null);ue=6,$=null}function sd(e,t,a,n,i,s,l,r,o){e.cancelPendingCommit=null;do Il();while(ye!==0);if(Q&6)throw Error(x(327));if(t!==null){if(t===e.current)throw Error(x(177));if(s=t.lanes|t.childLanes,s|=mu,vm(e,a,s,l,r,o),e===F&&($=F=null,G=0),$n=t,ga=e,Lt=a,No=s,Co=i,jp=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,G0(tl,function(){return Hp(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=B.T,B.T=null,i=I.p,I.p=2,l=Q,Q|=4;try{R0(e,t,a)}finally{Q=l,I.p=i,B.T=n}}ye=1,Bp(),Mp(),Lp()}}function Bp(){if(ye===1){ye=0;var e=ga,t=$n,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=B.T,B.T=null;var n=I.p;I.p=2;var i=Q;Q|=4;try{bp(t,e);var s=zo,l=Fh(e.containerInfo),r=s.focusedElem,o=s.selectionRange;if(l!==r&&r&&r.ownerDocument&&Wh(r.ownerDocument.documentElement,r)){if(o!==null&&gu(r)){var u=o.start,d=o.end;if(d===void 0&&(d=u),"selectionStart"in r)r.selectionStart=u,r.selectionEnd=Math.min(d,r.value.length);else{var v=r.ownerDocument||document,p=v&&v.defaultView||window;if(p.getSelection){var f=p.getSelection(),b=r.textContent.length,_=Math.min(o.start,b),S=o.end===void 0?_:Math.min(o.end,b);!f.extend&&_>S&&(l=S,S=_,_=l);var g=jc(r,_),h=jc(r,S);if(g&&h&&(f.rangeCount!==1||f.anchorNode!==g.node||f.anchorOffset!==g.offset||f.focusNode!==h.node||f.focusOffset!==h.offset)){var m=v.createRange();m.setStart(g.node,g.offset),f.removeAllRanges(),_>S?(f.addRange(m),f.extend(h.node,h.offset)):(m.setEnd(h.node,h.offset),f.addRange(m))}}}}for(v=[],f=r;f=f.parentNode;)f.nodeType===1&&v.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<v.length;r++){var y=v[r];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}El=!!Uo,zo=Uo=null}finally{Q=i,I.p=n,B.T=a}}e.current=t,ye=2}}function Mp(){if(ye===2){ye=0;var e=ga,t=$n,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=B.T,B.T=null;var n=I.p;I.p=2;var i=Q;Q|=4;try{pp(e,t.alternate,t)}finally{Q=i,I.p=n,B.T=a}}ye=3}}function Lp(){if(ye===4||ye===3){ye=0,om();var e=ga,t=$n,a=Lt,n=jp;t.subtreeFlags&10256||t.flags&10256?ye=5:(ye=0,$n=ga=null,qp(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(pa=null),ou(a),t=t.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ts,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=B.T,i=I.p,I.p=2,B.T=null;try{for(var s=e.onRecoverableError,l=0;l<n.length;l++){var r=n[l];s(r.value,{componentStack:r.stack})}}finally{B.T=t,I.p=i}}Lt&3&&Il(),Tt(e),i=e.pendingLanes,a&261930&&i&42?e===Ro?Oi++:(Oi=0,Ro=e):Oi=0,us(0)}}function qp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ls(t)))}function Il(){return Bp(),Mp(),Lp(),Hp()}function Hp(){if(ye!==5)return!1;var e=ga,t=No;No=0;var a=ou(Lt),n=B.T,i=I.p;try{I.p=32>a?32:a,B.T=null,a=Co,Co=null;var s=ga,l=Lt;if(ye=0,$n=ga=null,Lt=0,Q&6)throw Error(x(331));var r=Q;if(Q|=4,Tp(s.current),wp(s,s.current,l,a),Q=r,us(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ts,s)}catch{}return!0}finally{I.p=i,B.T=n,qp(e,t)}}function ld(e,t,a){t=st(a,t),t=To(e.stateNode,t,2),e=fa(e,t,2),e!==null&&(ns(e,2),Tt(e))}function Z(e,t,a){if(e.tag===3)ld(e,e,a);else for(;t!==null;){if(t.tag===3){ld(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pa===null||!pa.has(n))){e=st(a,e),a=tp(2),n=fa(t,a,2),n!==null&&(ap(a,n,t,e),ns(n,2),Tt(n));break}}t=t.return}}function Or(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new U0;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(a)||(Vu=!0,i.add(a),e=q0.bind(null,e,t,a),t.then(e,e))}function q0(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,F===e&&(G&a)===a&&(ue===4||ue===3&&(G&62914560)===G&&300>Je()-Kl?!(Q&2)&&Gn(e,0):Ku|=a,Hn===G&&(Hn=0)),Tt(e)}function $p(e,t){t===0&&(t=Rh()),e=Xa(e,t),e!==null&&(ns(e,t),Tt(e))}function H0(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),$p(e,a)}function $0(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(x(314))}n!==null&&n.delete(t),$p(e,a)}function G0(e,t){return lu(e,t)}var yl=null,un=null,ko=!1,bl=!1,Nr=!1,ua=0;function Tt(e){e!==un&&e.next===null&&(un===null?yl=un=e:un=un.next=e),bl=!0,ko||(ko=!0,K0())}function us(e,t){if(!Nr&&bl){Nr=!0;do for(var a=!1,n=yl;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var s=0;else{var l=n.suspendedLanes,r=n.pingedLanes;s=(1<<31-Ze(42|e)+1)-1,s&=i&~(l&~r),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(a=!0,rd(n,s))}else s=G,s=Dl(n,n===F?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(s&3)||as(n,s)||(a=!0,rd(n,s));n=n.next}while(a);Nr=!1}}function V0(){Gp()}function Gp(){bl=ko=!1;var e=0;ua!==0&&ev()&&(e=ua);for(var t=Je(),a=null,n=yl;n!==null;){var i=n.next,s=Vp(n,t);s===0?(n.next=null,a===null?yl=i:a.next=i,i===null&&(un=a)):(a=n,(e!==0||s&3)&&(bl=!0)),n=i}ye!==0&&ye!==5||us(e),ua!==0&&(ua=0)}function Vp(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var l=31-Ze(s),r=1<<l,o=i[l];o===-1?(!(r&a)||r&n)&&(i[l]=mm(r,t)):o<=t&&(e.expiredLanes|=r),s&=~r}if(t=F,a=G,a=Dl(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(X===2||X===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&nr(n),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||as(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&nr(n),ou(a)){case 2:case 8:a=Nh;break;case 32:a=tl;break;case 268435456:a=Ch;break;default:a=tl}return n=Kp.bind(null,e),a=lu(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&nr(n),e.callbackPriority=2,e.callbackNode=null,2}function Kp(e,t){if(ye!==0&&ye!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Il()&&e.callbackNode!==a)return null;var n=G;return n=Dl(e,e===F?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Np(e,n,t),Vp(e,Je()),e.callbackNode!=null&&e.callbackNode===a?Kp.bind(null,e):null)}function rd(e,t){if(Il())return null;Np(e,t,!0)}function K0(){av(function(){Q&6?lu(Oh,V0):Gp()})}function Qu(){if(ua===0){var e=Mn;e===0&&(e=ms,ms<<=1,!(ms&261888)&&(ms=256)),ua=e}return ua}function od(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ls(""+e)}function ud(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Y0(e,t,a,n,i){if(t==="submit"&&a&&a.stateNode===i){var s=od((i[qe]||null).action),l=n.submitter;l&&(t=(t=l[qe]||null)?od(t.formAction):l.getAttribute("formAction"),t!==null&&(s=t,l=null));var r=new Ul("action","action",null,n,i);e.push({event:r,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(ua!==0){var o=l?ud(i,l):new FormData(i);So(a,{pending:!0,data:o,method:i.method,action:s},null,o)}}else typeof s=="function"&&(r.preventDefault(),o=l?ud(i,l):new FormData(i),So(a,{pending:!0,data:o,method:i.method,action:s},s,o))},currentTarget:i}]})}}for(var Cr=0;Cr<uo.length;Cr++){var Rr=uo[Cr],Q0=Rr.toLowerCase(),I0=Rr[0].toUpperCase()+Rr.slice(1);gt(Q0,"on"+I0)}gt(tf,"onAnimationEnd");gt(af,"onAnimationIteration");gt(nf,"onAnimationStart");gt("dblclick","onDoubleClick");gt("focusin","onFocus");gt("focusout","onBlur");gt(u0,"onTransitionRun");gt(c0,"onTransitionStart");gt(d0,"onTransitionCancel");gt(sf,"onTransitionEnd");zn("onMouseEnter",["mouseout","mouseover"]);zn("onMouseLeave",["mouseout","mouseover"]);zn("onPointerEnter",["pointerout","pointerover"]);zn("onPointerLeave",["pointerout","pointerover"]);Qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gi));function Yp(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var l=n.length-1;0<=l;l--){var r=n[l],o=r.instance,u=r.currentTarget;if(r=r.listener,o!==s&&i.isPropagationStopped())break e;s=r,i.currentTarget=u;try{s(i)}catch(d){nl(d)}i.currentTarget=null,s=o}else for(l=0;l<n.length;l++){if(r=n[l],o=r.instance,u=r.currentTarget,r=r.listener,o!==s&&i.isPropagationStopped())break e;s=r,i.currentTarget=u;try{s(i)}catch(d){nl(d)}i.currentTarget=null,s=o}}}}function H(e,t){var a=t[to];a===void 0&&(a=t[to]=new Set);var n=e+"__bubble";a.has(n)||(Qp(t,e,2,!1),a.add(n))}function kr(e,t,a){var n=0;t&&(n|=4),Qp(a,e,n,t)}var As="_reactListening"+Math.random().toString(36).slice(2);function Iu(e){if(!e[As]){e[As]=!0,Bh.forEach(function(a){a!=="selectionchange"&&(J0.has(a)||kr(a,!1,e),kr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[As]||(t[As]=!0,kr("selectionchange",!1,t))}}function Qp(e,t,a,n){switch(sg(t)){case 2:var i=Sv;break;case 8:i=xv;break;default:i=Pu}a=i.bind(null,t,a,e),i=void 0,!lo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function Dr(e,t,a,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var r=n.stateNode.containerInfo;if(r===i)break;if(l===4)for(l=n.return;l!==null;){var o=l.tag;if((o===3||o===4)&&l.stateNode.containerInfo===i)return;l=l.return}for(;r!==null;){if(l=gn(r),l===null)return;if(o=l.tag,o===5||o===6||o===26||o===27){n=s=l;continue e}r=r.parentNode}}n=n.return}Kh(function(){var u=s,d=du(a),v=[];e:{var p=lf.get(e);if(p!==void 0){var f=Ul,b=e;switch(e){case"keypress":if(Hs(a)===0)break e;case"keydown":case"keyup":f=$m;break;case"focusin":b="focus",f=or;break;case"focusout":b="blur",f=or;break;case"beforeblur":case"afterblur":f=or;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Nm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Km;break;case tf:case af:case nf:f=km;break;case sf:f=Qm;break;case"scroll":case"scrollend":f=jm;break;case"wheel":f=Jm;break;case"copy":case"cut":case"paste":f=Um;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=bc;break;case"toggle":case"beforetoggle":f=Zm}var _=(t&4)!==0,S=!_&&(e==="scroll"||e==="scrollend"),g=_?p!==null?p+"Capture":null:p;_=[];for(var h=u,m;h!==null;){var y=h;if(m=y.stateNode,y=y.tag,y!==5&&y!==26&&y!==27||m===null||g===null||(y=Ui(h,g),y!=null&&_.push(Vi(h,y,m))),S)break;h=h.return}0<_.length&&(p=new f(p,b,null,a,d),v.push({event:p,listeners:_}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&a!==so&&(b=a.relatedTarget||a.fromElement)&&(gn(b)||b[Qn]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(b=a.relatedTarget||a.toElement,f=u,b=b?gn(b):null,b!==null&&(S=es(b),_=b.tag,b!==S||_!==5&&_!==27&&_!==6)&&(b=null)):(f=null,b=u),f!==b)){if(_=vc,y="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(_=bc,y="onPointerLeave",g="onPointerEnter",h="pointer"),S=f==null?p:hi(f),m=b==null?p:hi(b),p=new _(y,h+"leave",f,a,d),p.target=S,p.relatedTarget=m,y=null,gn(d)===u&&(_=new _(g,h+"enter",b,a,d),_.target=m,_.relatedTarget=S,y=_),S=y,f&&b)t:{for(_=X0,g=f,h=b,m=0,y=g;y;y=_(y))m++;y=0;for(var T=h;T;T=_(T))y++;for(;0<m-y;)g=_(g),m--;for(;0<y-m;)h=_(h),y--;for(;m--;){if(g===h||h!==null&&g===h.alternate){_=g;break t}g=_(g),h=_(h)}_=null}else _=null;f!==null&&cd(v,p,f,_,!1),b!==null&&S!==null&&cd(v,S,b,_,!0)}}e:{if(p=u?hi(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var j=xc;else if(Sc(p))if(Zh)j=l0;else{j=i0;var E=n0}else f=p.nodeName,!f||f.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?u&&cu(u.elementType)&&(j=xc):j=s0;if(j&&(j=j(e,u))){Xh(v,j,a,d);break e}E&&E(e,p,u),e==="focusout"&&u&&p.type==="number"&&u.memoizedProps.value!=null&&io(p,"number",p.value)}switch(E=u?hi(u):window,e){case"focusin":(Sc(E)||E.contentEditable==="true")&&(yn=E,ro=u,bi=null);break;case"focusout":bi=ro=yn=null;break;case"mousedown":oo=!0;break;case"contextmenu":case"mouseup":case"dragend":oo=!1,Oc(v,a,d);break;case"selectionchange":if(o0)break;case"keydown":case"keyup":Oc(v,a,d)}var A;if(pu)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else vn?Ih(e,a)&&(k="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(k="onCompositionStart");k&&(Qh&&a.locale!=="ko"&&(vn||k!=="onCompositionStart"?k==="onCompositionEnd"&&vn&&(A=Yh()):(la=d,hu="value"in la?la.value:la.textContent,vn=!0)),E=_l(u,k),0<E.length&&(k=new yc(k,e,null,a,d),v.push({event:k,listeners:E}),A?k.data=A:(A=Jh(a),A!==null&&(k.data=A)))),(A=Wm?Fm(e,a):e0(e,a))&&(k=_l(u,"onBeforeInput"),0<k.length&&(E=new yc("onBeforeInput","beforeinput",null,a,d),v.push({event:E,listeners:k}),E.data=A)),Y0(v,e,u,a,d)}Yp(v,t)})}function Vi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function _l(e,t){for(var a=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Ui(e,a),i!=null&&n.unshift(Vi(e,i,s)),i=Ui(e,t),i!=null&&n.push(Vi(e,i,s))),e.tag===3)return n;e=e.return}return[]}function X0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cd(e,t,a,n,i){for(var s=t._reactName,l=[];a!==null&&a!==n;){var r=a,o=r.alternate,u=r.stateNode;if(r=r.tag,o!==null&&o===n)break;r!==5&&r!==26&&r!==27||u===null||(o=u,i?(u=Ui(a,s),u!=null&&l.unshift(Vi(a,u,o))):i||(u=Ui(a,s),u!=null&&l.push(Vi(a,u,o)))),a=a.return}l.length!==0&&e.push({event:t,listeners:l})}var Z0=/\r\n?/g,P0=/\u0000|\uFFFD/g;function dd(e){return(typeof e=="string"?e:""+e).replace(Z0,`
`).replace(P0,"")}function Ip(e,t){return t=dd(t),dd(e)===t}function P(e,t,a,n,i,s){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Bn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Bn(e,""+n);break;case"className":bs(e,"class",n);break;case"tabIndex":bs(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":bs(e,a,n);break;case"style":Vh(e,n,s);break;case"data":if(t!=="object"){bs(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ls(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(a==="formAction"?(t!=="input"&&P(e,t,"name",i.name,i,null),P(e,t,"formEncType",i.formEncType,i,null),P(e,t,"formMethod",i.formMethod,i,null),P(e,t,"formTarget",i.formTarget,i,null)):(P(e,t,"encType",i.encType,i,null),P(e,t,"method",i.method,i,null),P(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ls(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Ut);break;case"onScroll":n!=null&&H("scroll",e);break;case"onScrollEnd":n!=null&&H("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(x(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(x(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Ls(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":H("beforetoggle",e),H("toggle",e),Ms(e,"popover",n);break;case"xlinkActuate":Et(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Et(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Et(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Et(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Et(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Et(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Et(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Et(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Et(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Ms(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Em.get(a)||a,Ms(e,a,n))}}function Do(e,t,a,n,i,s){switch(a){case"style":Vh(e,n,s);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(x(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(x(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Bn(e,n):(typeof n=="number"||typeof n=="bigint")&&Bn(e,""+n);break;case"onScroll":n!=null&&H("scroll",e);break;case"onScrollEnd":n!=null&&H("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Ut);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),s=e[qe]||null,s=s!=null?s[a]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof n=="function")){typeof s!="function"&&s!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,i);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Ms(e,a,n)}}}function Ce(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":H("error",e),H("load",e);var n=!1,i=!1,s;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];if(l!=null)switch(s){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(x(137,t));default:P(e,t,s,l,a,null)}}i&&P(e,t,"srcSet",a.srcSet,a,null),n&&P(e,t,"src",a.src,a,null);return;case"input":H("invalid",e);var r=s=l=i=null,o=null,u=null;for(n in a)if(a.hasOwnProperty(n)){var d=a[n];if(d!=null)switch(n){case"name":i=d;break;case"type":l=d;break;case"checked":o=d;break;case"defaultChecked":u=d;break;case"value":s=d;break;case"defaultValue":r=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(x(137,t));break;default:P(e,t,n,d,a,null)}}Hh(e,s,r,o,u,l,i,!1);return;case"select":H("invalid",e),n=l=s=null;for(i in a)if(a.hasOwnProperty(i)&&(r=a[i],r!=null))switch(i){case"value":s=r;break;case"defaultValue":l=r;break;case"multiple":n=r;default:P(e,t,i,r,a,null)}t=s,a=l,e.multiple=!!n,t!=null?jn(e,!!n,t,!1):a!=null&&jn(e,!!n,a,!0);return;case"textarea":H("invalid",e),s=i=n=null;for(l in a)if(a.hasOwnProperty(l)&&(r=a[l],r!=null))switch(l){case"value":n=r;break;case"defaultValue":i=r;break;case"children":s=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(x(91));break;default:P(e,t,l,r,a,null)}Gh(e,n,i,s);return;case"option":for(o in a)if(a.hasOwnProperty(o)&&(n=a[o],n!=null))switch(o){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:P(e,t,o,n,a,null)}return;case"dialog":H("beforetoggle",e),H("toggle",e),H("cancel",e),H("close",e);break;case"iframe":case"object":H("load",e);break;case"video":case"audio":for(n=0;n<Gi.length;n++)H(Gi[n],e);break;case"image":H("error",e),H("load",e);break;case"details":H("toggle",e);break;case"embed":case"source":case"link":H("error",e),H("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&(n=a[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(x(137,t));default:P(e,t,u,n,a,null)}return;default:if(cu(t)){for(d in a)a.hasOwnProperty(d)&&(n=a[d],n!==void 0&&Do(e,t,d,n,a,void 0));return}}for(r in a)a.hasOwnProperty(r)&&(n=a[r],n!=null&&P(e,t,r,n,a,null))}function W0(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,l=null,r=null,o=null,u=null,d=null;for(f in a){var v=a[f];if(a.hasOwnProperty(f)&&v!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":o=v;default:n.hasOwnProperty(f)||P(e,t,f,null,n,v)}}for(var p in n){var f=n[p];if(v=a[p],n.hasOwnProperty(p)&&(f!=null||v!=null))switch(p){case"type":s=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":l=f;break;case"defaultValue":r=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(x(137,t));break;default:f!==v&&P(e,t,p,f,n,v)}}no(e,l,r,o,u,d,s,i);return;case"select":f=l=r=p=null;for(s in a)if(o=a[s],a.hasOwnProperty(s)&&o!=null)switch(s){case"value":break;case"multiple":f=o;default:n.hasOwnProperty(s)||P(e,t,s,null,n,o)}for(i in n)if(s=n[i],o=a[i],n.hasOwnProperty(i)&&(s!=null||o!=null))switch(i){case"value":p=s;break;case"defaultValue":r=s;break;case"multiple":l=s;default:s!==o&&P(e,t,i,s,n,o)}t=r,a=l,n=f,p!=null?jn(e,!!a,p,!1):!!n!=!!a&&(t!=null?jn(e,!!a,t,!0):jn(e,!!a,a?[]:"",!1));return;case"textarea":f=p=null;for(r in a)if(i=a[r],a.hasOwnProperty(r)&&i!=null&&!n.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:P(e,t,r,null,n,i)}for(l in n)if(i=n[l],s=a[l],n.hasOwnProperty(l)&&(i!=null||s!=null))switch(l){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(x(91));break;default:i!==s&&P(e,t,l,i,n,s)}$h(e,p,f);return;case"option":for(var b in a)if(p=a[b],a.hasOwnProperty(b)&&p!=null&&!n.hasOwnProperty(b))switch(b){case"selected":e.selected=!1;break;default:P(e,t,b,null,n,p)}for(o in n)if(p=n[o],f=a[o],n.hasOwnProperty(o)&&p!==f&&(p!=null||f!=null))switch(o){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:P(e,t,o,p,n,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in a)p=a[_],a.hasOwnProperty(_)&&p!=null&&!n.hasOwnProperty(_)&&P(e,t,_,null,n,p);for(u in n)if(p=n[u],f=a[u],n.hasOwnProperty(u)&&p!==f&&(p!=null||f!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(x(137,t));break;default:P(e,t,u,p,n,f)}return;default:if(cu(t)){for(var S in a)p=a[S],a.hasOwnProperty(S)&&p!==void 0&&!n.hasOwnProperty(S)&&Do(e,t,S,void 0,n,p);for(d in n)p=n[d],f=a[d],!n.hasOwnProperty(d)||p===f||p===void 0&&f===void 0||Do(e,t,d,p,n,f);return}}for(var g in a)p=a[g],a.hasOwnProperty(g)&&p!=null&&!n.hasOwnProperty(g)&&P(e,t,g,null,n,p);for(v in n)p=n[v],f=a[v],!n.hasOwnProperty(v)||p===f||p==null&&f==null||P(e,t,v,p,n,f)}function hd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function F0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var i=a[n],s=i.transferSize,l=i.initiatorType,r=i.duration;if(s&&r&&hd(l)){for(l=0,r=i.responseEnd,n+=1;n<a.length;n++){var o=a[n],u=o.startTime;if(u>r)break;var d=o.transferSize,v=o.initiatorType;d&&hd(v)&&(o=o.responseEnd,l+=d*(o<r?1:(r-u)/(o-u)))}if(--n,t+=8*(s+l)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Uo=null,zo=null;function wl(e){return e.nodeType===9?e:e.ownerDocument}function fd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Bo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ur=null;function ev(){var e=window.event;return e&&e.type==="popstate"?e===Ur?!1:(Ur=e,!0):(Ur=null,!1)}var Xp=typeof setTimeout=="function"?setTimeout:void 0,tv=typeof clearTimeout=="function"?clearTimeout:void 0,pd=typeof Promise=="function"?Promise:void 0,av=typeof queueMicrotask=="function"?queueMicrotask:typeof pd<"u"?function(e){return pd.resolve(null).then(e).catch(nv)}:Xp;function nv(e){setTimeout(function(){throw e})}function Ta(e){return e==="head"}function gd(e,t){var a=t,n=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(i),Kn(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")Ni(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ni(a);for(var s=a.firstChild;s;){var l=s.nextSibling,r=s.nodeName;s[is]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&s.rel.toLowerCase()==="stylesheet"||a.removeChild(s),s=l}}else a==="body"&&Ni(e.ownerDocument.body);a=i}while(a);Kn(t)}function md(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function Mo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Mo(a),uu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function iv(e,t,a,n){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[is])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=ot(e.nextSibling),e===null)break}return null}function sv(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ot(e.nextSibling),e===null))return null;return e}function Zp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ot(e.nextSibling),e===null))return null;return e}function Lo(e){return e.data==="$?"||e.data==="$~"}function qo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function lv(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function ot(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ho=null;function vd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return ot(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function yd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Pp(e,t,a){switch(t=wl(a),e){case"html":if(e=t.documentElement,!e)throw Error(x(452));return e;case"head":if(e=t.head,!e)throw Error(x(453));return e;case"body":if(e=t.body,!e)throw Error(x(454));return e;default:throw Error(x(451))}}function Ni(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);uu(e)}var ut=new Map,bd=new Set;function Sl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Kt=I.d;I.d={f:rv,r:ov,D:uv,C:cv,L:dv,m:hv,X:pv,S:fv,M:gv};function rv(){var e=Kt.f(),t=Yl();return e||t}function ov(e){var t=In(e);t!==null&&t.tag===5&&t.type==="form"?Kf(t):Kt.r(e)}var Pn=typeof document>"u"?null:document;function Wp(e,t,a){var n=Pn;if(n&&typeof t=="string"&&t){var i=it(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),bd.has(i)||(bd.add(i),e={rel:e,crossOrigin:a,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),Ce(t,"link",e),we(t),n.head.appendChild(t)))}}function uv(e){Kt.D(e),Wp("dns-prefetch",e,null)}function cv(e,t){Kt.C(e,t),Wp("preconnect",e,t)}function dv(e,t,a){Kt.L(e,t,a);var n=Pn;if(n&&e&&t){var i='link[rel="preload"][as="'+it(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+it(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+it(a.imageSizes)+'"]')):i+='[href="'+it(e)+'"]';var s=i;switch(t){case"style":s=Vn(e);break;case"script":s=Wn(e)}ut.has(s)||(e=se({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ut.set(s,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(cs(s))||t==="script"&&n.querySelector(ds(s))||(t=n.createElement("link"),Ce(t,"link",e),we(t),n.head.appendChild(t)))}}function hv(e,t){Kt.m(e,t);var a=Pn;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+it(n)+'"][href="'+it(e)+'"]',s=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Wn(e)}if(!ut.has(s)&&(e=se({rel:"modulepreload",href:e},t),ut.set(s,e),a.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ds(s)))return}n=a.createElement("link"),Ce(n,"link",e),we(n),a.head.appendChild(n)}}}function fv(e,t,a){Kt.S(e,t,a);var n=Pn;if(n&&e){var i=An(n).hoistableStyles,s=Vn(e);t=t||"default";var l=i.get(s);if(!l){var r={loading:0,preload:null};if(l=n.querySelector(cs(s)))r.loading=5;else{e=se({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ut.get(s))&&Ju(e,a);var o=l=n.createElement("link");we(o),Ce(o,"link",e),o._p=new Promise(function(u,d){o.onload=u,o.onerror=d}),o.addEventListener("load",function(){r.loading|=1}),o.addEventListener("error",function(){r.loading|=2}),r.loading|=4,Js(l,t,n)}l={type:"stylesheet",instance:l,count:1,state:r},i.set(s,l)}}}function pv(e,t){Kt.X(e,t);var a=Pn;if(a&&e){var n=An(a).hoistableScripts,i=Wn(e),s=n.get(i);s||(s=a.querySelector(ds(i)),s||(e=se({src:e,async:!0},t),(t=ut.get(i))&&Xu(e,t),s=a.createElement("script"),we(s),Ce(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(i,s))}}function gv(e,t){Kt.M(e,t);var a=Pn;if(a&&e){var n=An(a).hoistableScripts,i=Wn(e),s=n.get(i);s||(s=a.querySelector(ds(i)),s||(e=se({src:e,async:!0,type:"module"},t),(t=ut.get(i))&&Xu(e,t),s=a.createElement("script"),we(s),Ce(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(i,s))}}function _d(e,t,a,n){var i=(i=ca.current)?Sl(i):null;if(!i)throw Error(x(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Vn(a.href),a=An(i).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Vn(a.href);var s=An(i).hoistableStyles,l=s.get(e);if(l||(i=i.ownerDocument||i,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,l),(s=i.querySelector(cs(e)))&&!s._p&&(l.instance=s,l.state.loading=5),ut.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ut.set(e,a),s||mv(i,e,a,l.state))),t&&n===null)throw Error(x(528,""));return l}if(t&&n!==null)throw Error(x(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Wn(a),a=An(i).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(x(444,e))}}function Vn(e){return'href="'+it(e)+'"'}function cs(e){return'link[rel="stylesheet"]['+e+"]"}function Fp(e){return se({},e,{"data-precedence":e.precedence,precedence:null})}function mv(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ce(t,"link",a),we(t),e.head.appendChild(t))}function Wn(e){return'[src="'+it(e)+'"]'}function ds(e){return"script[async]"+e}function wd(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+it(a.href)+'"]');if(n)return t.instance=n,we(n),n;var i=se({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),we(n),Ce(n,"style",i),Js(n,a.precedence,e),t.instance=n;case"stylesheet":i=Vn(a.href);var s=e.querySelector(cs(i));if(s)return t.state.loading|=4,t.instance=s,we(s),s;n=Fp(a),(i=ut.get(i))&&Ju(n,i),s=(e.ownerDocument||e).createElement("link"),we(s);var l=s;return l._p=new Promise(function(r,o){l.onload=r,l.onerror=o}),Ce(s,"link",n),t.state.loading|=4,Js(s,a.precedence,e),t.instance=s;case"script":return s=Wn(a.src),(i=e.querySelector(ds(s)))?(t.instance=i,we(i),i):(n=a,(i=ut.get(s))&&(n=se({},a),Xu(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),we(i),Ce(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(x(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,Js(n,a.precedence,e));return t.instance}function Js(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,s=i,l=0;l<n.length;l++){var r=n[l];if(r.dataset.precedence===t)s=r;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Xs=null;function Sd(e,t,a){if(Xs===null){var n=new Map,i=Xs=new Map;i.set(a,n)}else i=Xs,n=i.get(a),n||(n=new Map,i.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var s=a[i];if(!(s[is]||s[je]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var l=s.getAttribute(t)||"";l=e+l;var r=n.get(l);r?r.push(s):n.set(l,[s])}}return n}function xd(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function vv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function eg(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function yv(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var i=Vn(n.href),s=t.querySelector(cs(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=xl.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=s,we(s);return}s=t.ownerDocument||t,n=Fp(n),(i=ut.get(i))&&Ju(n,i),s=s.createElement("link"),we(s);var l=s;l._p=new Promise(function(r,o){l.onload=r,l.onerror=o}),Ce(s,"link",n),a.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&!(a.state.loading&3)&&(e.count++,a=xl.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var zr=0;function bv(e,t){return e.stylesheets&&e.count===0&&Zs(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&Zs(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&zr===0&&(zr=62500*F0());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zs(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>zr?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function xl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tl=null;function Zs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tl=new Map,t.forEach(_v,e),Tl=null,xl.call(e))}function _v(e,t){if(!(t.state.loading&4)){var a=Tl.get(e);if(a)var n=a.get(null);else{a=new Map,Tl.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var l=i[s];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(a.set(l.dataset.precedence,l),n=l)}n&&a.set(null,n)}i=t.instance,l=i.getAttribute("data-precedence"),s=a.get(l)||n,s===n&&a.set(null,i),a.set(l,i),this.count++,n=xl.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Ki={$$typeof:Dt,Provider:null,Consumer:null,_currentValue:Ba,_currentValue2:Ba,_threadCount:0};function wv(e,t,a,n,i,s,l,r,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ir(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ir(0),this.hiddenUpdates=ir(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function tg(e,t,a,n,i,s,l,r,o,u,d,v){return e=new wv(e,t,a,l,o,u,d,v,r),t=1,s===!0&&(t|=24),s=Ye(3,null,null,t),e.current=s,s.stateNode=e,t=wu(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:n,isDehydrated:a,cache:t},Tu(s),e}function ag(e){return e?(e=wn,e):wn}function ng(e,t,a,n,i,s){i=ag(i),n.context===null?n.context=i:n.pendingContext=i,n=ha(t),n.payload={element:a},s=s===void 0?null:s,s!==null&&(n.callback=s),a=fa(e,n,t),a!==null&&(Le(a,e,t),wi(a,e,t))}function Td(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Zu(e,t){Td(e,t),(e=e.alternate)&&Td(e,t)}function ig(e){if(e.tag===13||e.tag===31){var t=Xa(e,67108864);t!==null&&Le(t,e,67108864),Zu(e,67108864)}}function Ed(e){if(e.tag===13||e.tag===31){var t=Pe();t=ru(t);var a=Xa(e,t);a!==null&&Le(a,e,t),Zu(e,t)}}var El=!0;function Sv(e,t,a,n){var i=B.T;B.T=null;var s=I.p;try{I.p=2,Pu(e,t,a,n)}finally{I.p=s,B.T=i}}function xv(e,t,a,n){var i=B.T;B.T=null;var s=I.p;try{I.p=8,Pu(e,t,a,n)}finally{I.p=s,B.T=i}}function Pu(e,t,a,n){if(El){var i=$o(n);if(i===null)Dr(e,t,n,Al,a),Ad(e,n);else if(Ev(i,e,t,a,n))n.stopPropagation();else if(Ad(e,n),t&4&&-1<Tv.indexOf(e)){for(;i!==null;){var s=In(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var l=Na(s.pendingLanes);if(l!==0){var r=s;for(r.pendingLanes|=2,r.entangledLanes|=2;l;){var o=1<<31-Ze(l);r.entanglements[1]|=o,l&=~o}Tt(s),!(Q&6)&&(gl=Je()+500,us(0))}}break;case 31:case 13:r=Xa(s,2),r!==null&&Le(r,s,2),Yl(),Zu(s,2)}if(s=$o(n),s===null&&Dr(e,t,n,Al,a),s===i)break;i=s}i!==null&&n.stopPropagation()}else Dr(e,t,n,null,a)}}function $o(e){return e=du(e),Wu(e)}var Al=null;function Wu(e){if(Al=null,e=gn(e),e!==null){var t=es(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=xh(t),e!==null)return e;e=null}else if(a===31){if(e=Th(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Al=e,null}function sg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(um()){case Oh:return 2;case Nh:return 8;case tl:case cm:return 32;case Ch:return 268435456;default:return 32}default:return 32}}var Go=!1,ma=null,va=null,ya=null,Yi=new Map,Qi=new Map,na=[],Tv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ad(e,t){switch(e){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":Yi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(t.pointerId)}}function oi(e,t,a,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=In(t),t!==null&&ig(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ev(e,t,a,n,i){switch(t){case"focusin":return ma=oi(ma,e,t,a,n,i),!0;case"dragenter":return va=oi(va,e,t,a,n,i),!0;case"mouseover":return ya=oi(ya,e,t,a,n,i),!0;case"pointerover":var s=i.pointerId;return Yi.set(s,oi(Yi.get(s)||null,e,t,a,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Qi.set(s,oi(Qi.get(s)||null,e,t,a,n,i)),!0}return!1}function lg(e){var t=gn(e.target);if(t!==null){var a=es(t);if(a!==null){if(t=a.tag,t===13){if(t=xh(a),t!==null){e.blockedOn=t,cc(e.priority,function(){Ed(a)});return}}else if(t===31){if(t=Th(a),t!==null){e.blockedOn=t,cc(e.priority,function(){Ed(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ps(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=$o(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);so=n,a.target.dispatchEvent(n),so=null}else return t=In(a),t!==null&&ig(t),e.blockedOn=a,!1;t.shift()}return!0}function jd(e,t,a){Ps(e)&&a.delete(t)}function Av(){Go=!1,ma!==null&&Ps(ma)&&(ma=null),va!==null&&Ps(va)&&(va=null),ya!==null&&Ps(ya)&&(ya=null),Yi.forEach(jd),Qi.forEach(jd)}function js(e,t){e.blockedOn===t&&(e.blockedOn=null,Go||(Go=!0,be.unstable_scheduleCallback(be.unstable_NormalPriority,Av)))}var Os=null;function Od(e){Os!==e&&(Os=e,be.unstable_scheduleCallback(be.unstable_NormalPriority,function(){Os===e&&(Os=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(Wu(n||a)===null)continue;break}var s=In(a);s!==null&&(e.splice(t,3),t-=3,So(s,{pending:!0,data:i,method:a.method,action:n},n,i))}}))}function Kn(e){function t(o){return js(o,e)}ma!==null&&js(ma,e),va!==null&&js(va,e),ya!==null&&js(ya,e),Yi.forEach(t),Qi.forEach(t);for(var a=0;a<na.length;a++){var n=na[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<na.length&&(a=na[0],a.blockedOn===null);)lg(a),a.blockedOn===null&&na.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var i=a[n],s=a[n+1],l=i[qe]||null;if(typeof s=="function")l||Od(a);else if(l){var r=null;if(s&&s.hasAttribute("formAction")){if(i=s,l=s[qe]||null)r=l.formAction;else if(Wu(i)!==null)continue}else r=l.action;typeof r=="function"?a[n+1]=r:(a.splice(n,3),n-=3),Od(a)}}}function rg(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(l){return i=l})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Fu(e){this._internalRoot=e}Jl.prototype.render=Fu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(x(409));var a=t.current,n=Pe();ng(a,n,e,t,null,null)};Jl.prototype.unmount=Fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ng(e.current,2,null,e,null,null),Yl(),t[Qn]=null}};function Jl(e){this._internalRoot=e}Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=zh();e={blockedOn:null,target:e,priority:t};for(var a=0;a<na.length&&t!==0&&t<na[a].priority;a++);na.splice(a,0,e),a===0&&lg(e)}};var Nd=wh.version;if(Nd!=="19.2.4")throw Error(x(527,Nd,"19.2.4"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(x(188)):(e=Object.keys(e).join(","),Error(x(268,e)));return e=am(t),e=e!==null?Eh(e):null,e=e===null?null:e.stateNode,e};var jv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ns.isDisabled&&Ns.supportsFiber)try{ts=Ns.inject(jv),Xe=Ns}catch{}}Rl.createRoot=function(e,t){if(!Sh(e))throw Error(x(299));var a=!1,n="",i=Wf,s=Ff,l=ep;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=tg(e,1,!1,null,null,a,n,null,i,s,l,rg),e[Qn]=t.current,Iu(e),new Fu(t)};Rl.hydrateRoot=function(e,t,a){if(!Sh(e))throw Error(x(299));var n=!1,i="",s=Wf,l=Ff,r=ep,o=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(s=a.onUncaughtError),a.onCaughtError!==void 0&&(l=a.onCaughtError),a.onRecoverableError!==void 0&&(r=a.onRecoverableError),a.formState!==void 0&&(o=a.formState)),t=tg(e,1,!0,t,a??null,n,i,o,s,l,r,rg),t.context=ag(null),a=t.current,n=Pe(),n=ru(n),i=ha(n),i.callback=null,fa(a,i,n),a=n,t.current.lanes=a,ns(t,a),Tt(t),e[Qn]=t.current,Iu(e),new Jl(t)};Rl.version="19.2.4";function og(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(og)}catch(e){console.error(e)}}og(),gh.exports=Rl;var Ov=gh.exports;const Nv=sh(Ov),Cv={common:{appTitle:"TripShare",tagline:"Split costs, keep the peace.",cancel:"Cancel",save:"Save Changes",delete:"Delete",confirm:"Confirm",all:"All",copied:"Copied!",kr:"kr",loading:"Connecting to TripShare cloud...",language:"Language",english:"English",swedish:"Swedish",dutch:"Dutch",spanish:"Spanish",french:"French",german:"German",italian:"Italian",theme:"Theme",light:"Light",dark:"Dark"},onboarding:{newJourney:"Start a new journey",placeholder:"e.g. Ski Trip 2025 ",createBtn:"Create Trip",recentTrips:"Your Recent Trips",allTrips:"Explore All Trips",trackCosts:"Track Costs",autoSettle:"Auto-Settle",baseCurrency:"Trip Base Currency",currencyHint:"All balances will be shown in this currency."},people:{title:"Who's going?",subtitle:"Add the members of your trip.",placeholder:"Enter name...",addBtn:"Add",minPeopleAlert:"Please add at least 2 people to start splitting costs.",emptyState:"No people added yet.",continueBtn:"Continue to Trip"},dashboard:{totalCost:"Total cost:",tabExpenses:"Expenses",tabBalances:"Balances",tabSettle:"Settle Up",tabStats:"Stats",recentActivity:"Recent Activity",sortBy:"Sort by:",sortDate:"Newest",sortPayer:"Paid by",sortAffects:"Split with",addExpense:"Add Expense",paidBy:"Paid by",splittingWith:"Splitting with:",noExpenses:"No expenses yet. Start tracking your spend!",addFirst:"Add Your First Expense",financialOverview:"Financial Overview",balanceSubtitle:"How much each person paid vs. their calculated actual cost.",totalPaid:"Total Paid",portion:"Actual cost",optimizedPayments:"Optimized Payments",settleSubtitle:"Every person pays max one person to settle all debts.",pays:"pays",to:"to",everyoneSquare:"Everyone is square! No debts to settle.",removeTitle:"Remove this expense?",removeSubtitle:"This will permanently delete the cost and recalculate all balances.",statsTitle:"Spending Analysis",statsSubtitle:"Breakdown of costs by category across the whole trip.",conflictTitle:"Conflict Detected",conflictSubtitle:"This expense was modified by someone else while you were editing it. What would you like to do?",overwrite:"Overwrite Their Changes"},expenseForm:{addTitle:"Add Expense",editTitle:"Edit Expense",description:"Description",descPlaceholder:"e.g. Dinner, Taxi, Tickets",amount:"Amount",whoPaid:"Who paid?",splitWith:"Split with",splitAllInfo:"Split equally between all current and future trip members.",confirmBtn:"Confirm Expense",currency:"Currency",rate:"Rate",searchCurrency:"Search currency...",categories:{food:"Food",transport:"Transport",lodging:"Lodging",grocery:"Grocery",activity:"Activity",other:"Other"}}},Rv={common:{appTitle:"TripShare",tagline:"Dela kostnader, behll lugnet.",cancel:"Avbryt",save:"Spara ndringar",delete:"Ta bort",confirm:"Bekrfta",all:"Alla",copied:"Kopierat!",kr:"kr",loading:"Ansluter till TripShare cloud...",language:"Sprk",english:"Engelska",swedish:"Svenska",dutch:"Nederlndska",spanish:"Spanska",french:"Franska",german:"Tyska",italian:"Italienska",theme:"Tema",light:"Ljust",dark:"Mrkt"},onboarding:{newJourney:"Starta en ny resa",placeholder:"t.ex. Skidresa 2025 ",createBtn:"Skapa resa",recentTrips:"Dina senaste resor",allTrips:"Utforska alla resor",trackCosts:"Flj kostnader",autoSettle:"Auto-reglering",baseCurrency:"Resans basvaluta",currencyHint:"Alla saldon visas i denna valuta."},people:{title:"Vilka ska med?",subtitle:"Lgg till deltagarna p din resa.",placeholder:"Ange namn...",addBtn:"Lgg till",minPeopleAlert:"Lgg till minst 2 personer fr att brja dela kostnader.",emptyState:"Inga personer tillagda n.",continueBtn:"Fortstt till resan"},dashboard:{totalCost:"Total kostnad:",tabExpenses:"Utlgg",tabBalances:"Saldon",tabSettle:"Betalningar",tabStats:"Statistik",recentActivity:"Senaste aktivitet",sortBy:"Sortera:",sortDate:"Senaste",sortPayer:"Betalat av",sortAffects:"Delas med",addExpense:"Lgg till utlgg",paidBy:"Betalat av",splittingWith:"Delas med:",noExpenses:"Inga utlgg n. Brja spra dina utgifter!",addFirst:"Lgg till ditt frsta utlgg",financialOverview:"Ekonomisk versikt",balanceSubtitle:"Hur mycket varje person betalat jmfrt med sin faktiska kostnad.",totalPaid:"Totalt betalat",portion:"Faktisk kostnad",optimizedPayments:"Optimerade betalningar",settleSubtitle:"Varje person betalar max en person fr att reglera alla skulder.",pays:"betalar",to:"till",everyoneSquare:"Alla r jmna! Inga skulder att reglera.",removeTitle:"Ta bort utlgg?",removeSubtitle:"Detta kommer permanent ta bort kostnaden och rkna om alla saldon.",statsTitle:"Kostnadsanalys",statsSubtitle:"Uppdelning av kostnader per kategori fr hela resan.",conflictTitle:"Konflikt upptckt",conflictSubtitle:"Detta utlgg ndrades av ngon annan medan du redigerade det. Vad vill du gra?",overwrite:"Skriv ver deras ndringar"},expenseForm:{addTitle:"Lgg till utlgg",editTitle:"Redigera utlgg",description:"Beskrivning",descPlaceholder:"t.ex. Middag, Taxi, Biljetter",amount:"Belopp",whoPaid:"Vem betalade?",splitWith:"Dela med",splitAllInfo:"Dela lika mellan alla nuvarande och framtida deltagare.",confirmBtn:"Bekrfta utlgg",currency:"Valuta",rate:"Vxelkurs",searchCurrency:"Sk valuta...",categories:{food:"Mat",transport:"Transport",lodging:"Boende",grocery:"Matvaror",activity:"Aktivitet",other:"vrigt"}}},kv={common:{appTitle:"TripShare",tagline:"Kosten delen, rust bewaren.",cancel:"Annuleren",save:"Wijzigingen opslaan",delete:"Verwijderen",confirm:"Bevestigen",all:"Alle",copied:"Gekopieerd!",kr:"kr",loading:"Verbinden met TripShare cloud...",language:"Taal",english:"Engels",swedish:"Zweeds",dutch:"Nederlands",spanish:"Spaans",french:"Frans",german:"Duits",italian:"Italiaans",theme:"Thema",light:"Licht",dark:"Donker"},onboarding:{newJourney:"Nieuwe reis starten",placeholder:"bijv. Skivakantie 2025 ",createBtn:"Reis aanmaken",recentTrips:"Je recente reizen",allTrips:"Alle reizen ontdekken",trackCosts:"Kosten bijhouden",autoSettle:"Auto-verrekening",baseCurrency:"Standaard valuta",currencyHint:"Alle saldi worden in deze valuta getoond."},people:{title:"Wie gaan er mee?",subtitle:"Voeg de deelnemers aan je reis toe.",placeholder:"Voer naam in...",addBtn:"Toevoegen",minPeopleAlert:"Voeg minimaal 2 personen toe om kosten te kunnen delen.",emptyState:"Nog geen personen toegevoegd.",continueBtn:"Doorgaan naar de reis"},dashboard:{totalCost:"Totale kosten:",tabExpenses:"Uitgaven",tabBalances:"Saldi",tabSettle:"Verrekenen",tabStats:"Statistieken",recentActivity:"Recente activiteit",sortBy:"Sorteren op:",sortDate:"Nieuwste",sortPayer:"Betaald door",sortAffects:"Gedeeld met",addExpense:"Uitgave toevoegen",paidBy:"Betaald door",splittingWith:"Gedeeld met:",noExpenses:"Nog geen uitgaven. Begin met bijhouden!",addFirst:"Voeg je eerste uitgave toe",financialOverview:"Financieel overzicht",balanceSubtitle:"Wat iedereen heeft betaald vergeleken met hun werkelijke kosten.",totalPaid:"Totaal betaald",portion:"Werkelijke kosten",optimizedPayments:"Geoptimaliseerde betalingen",settleSubtitle:"Iedereen betaalt maximaal n persoon om alle schulden te vereffenen.",pays:"betaalt",to:"aan",everyoneSquare:"Iedereen staat quitte! Geen schulden.",removeTitle:"Deze uitgave verwijderen?",removeSubtitle:"Dit verwijdert de kosten permanent en herberekent alle saldi.",statsTitle:"Uitgavenanalyse",statsSubtitle:"Uitsplitsing van kosten per categorie voor de hele reis.",conflictTitle:"Conflict gedetecteerd",conflictSubtitle:"Deze uitgave is door iemand anders gewijzigd terwijl jij hem aanpaste. Wat wil je doen?",overwrite:"Hun wijzigingen overschrijven"},expenseForm:{addTitle:"Uitgave toevoegen",editTitle:"Uitgave bewerken",description:"Omschrijving",descPlaceholder:"bijv. Diner, Taxi, Tickets",amount:"Bedrag",whoPaid:"Wie heeft betaald?",splitWith:"Delen met",splitAllInfo:"Gelijkelijk verdelen over alle huidige en toekomstige deelnemers.",confirmBtn:"Uitgave bevestigen",currency:"Valuta",rate:"Wisselkoers",searchCurrency:"Valuta zoeken...",categories:{food:"Eten",transport:"Vervoer",lodging:"Accommodatie",grocery:"Boodschappen",activity:"Activiteit",other:"Overig"}}},Dv={common:{appTitle:"TripShare",tagline:"Divide gastos, mantn la paz.",cancel:"Cancelar",save:"Guardar cambios",delete:"Eliminar",confirm:"Confirmar",all:"Todos",copied:"Copiado!",kr:"kr",loading:"Conectando con la nube de TripShare...",language:"Idioma",english:"Ingls",swedish:"Sueco",dutch:"Holands",spanish:"Espaol",french:"Francs",german:"Alemn",italian:"Italiano",theme:"Tema",light:"Claro",dark:"Oscuro"},onboarding:{newJourney:"Iniciar nuevo viaje",placeholder:"ej. Viaje de Esqu 2025 ",createBtn:"Crear Viaje",recentTrips:"Tus viajes recientes",allTrips:"Explorar todos los viajes",trackCosts:"Seguir gastos",autoSettle:"Auto-ajuste",baseCurrency:"Moneda base del viaje",currencyHint:"Todos los saldos se mostrarn en esta moneda."},people:{title:"Quines van?",subtitle:"Aade a los miembros de tu viaje.",placeholder:"Introduce nombre...",addBtn:"Aadir",minPeopleAlert:"Por favor, aade al menos 2 personas para empezar a dividir gastos.",emptyState:"An no hay personas aadidas.",continueBtn:"Continuar al viaje"},dashboard:{totalCost:"Coste total:",tabExpenses:"Gastos",tabBalances:"Saldos",tabSettle:"Liquidacin",tabStats:"Estadsticas",recentActivity:"Actividad reciente",sortBy:"Ordenar por:",sortDate:"Ms reciente",sortPayer:"Pagado por",sortAffects:"Dividido con",addExpense:"Aadir gasto",paidBy:"Pagado por",splittingWith:"Dividido con:",noExpenses:"An no hay gastos. Empieza a registrar tus pagos!",addFirst:"Aade tu primer gasto",financialOverview:"Resumen financiero",balanceSubtitle:"Cunto ha pagado cada persona vs su coste real calculado.",totalPaid:"Total pagado",portion:"Coste real",optimizedPayments:"Pagos optimizados",settleSubtitle:"Cada persona paga como mximo a otra para liquidar todas las deudas.",pays:"paga",to:"a",everyoneSquare:"Todos estn a mano! Sin deudas.",removeTitle:"Eliminar este gasto?",removeSubtitle:"Esto eliminar permanentemente el coste y recalcular todos los saldos.",statsTitle:"Anlisis de gastos",statsSubtitle:"Desglose de costes por categora en todo el viaje.",conflictTitle:"Conflicto detectado",conflictSubtitle:"Este gasto fue modificado por otra persona mientras lo editabas. Qu quieres hacer?",overwrite:"Sobrescribir sus cambios"},expenseForm:{addTitle:"Aadir Gasto",editTitle:"Editar Gasto",description:"Descripcin",descPlaceholder:"ej. Cena, Taxi, Entradas",amount:"Importe",whoPaid:"Quin pag?",splitWith:"Dividir con",splitAllInfo:"Dividir por igual entre todos los miembros actuales y futuros.",confirmBtn:"Confirmar Gasto",currency:"Moneda",rate:"Tipo de cambio",searchCurrency:"Buscar moneda...",categories:{food:"Comida",transport:"Transporte",lodging:"Alojamiento",grocery:"Supermercado",activity:"Actividad",other:"Otros"}}},Uv={common:{appTitle:"TripShare",tagline:"Partagez les frais, gardez la paix.",cancel:"Annuler",save:"Enregistrer",delete:"Supprimer",confirm:"Confirmer",all:"Tous",copied:"Copi !",kr:"kr",loading:"Connexion au cloud TripShare...",language:"Langue",english:"Anglais",swedish:"Sudois",dutch:"Nerlandais",spanish:"Espagnol",french:"Franais",german:"Allemand",italian:"Italien",theme:"Thme",light:"Clair",dark:"Sombre"},onboarding:{newJourney:"Nouvelle aventure",placeholder:"ex: Ski 2025 ",createBtn:"Crer le voyage",recentTrips:"Vos voyages rcents",allTrips:"Explorer tous les voyages",trackCosts:"Suivre les frais",autoSettle:"Calcul automatique",baseCurrency:"Devise du voyage",currencyHint:"Tous les soldes seront affichs dans cette devise."},people:{title:"Qui participe ?",subtitle:"Ajoutez les membres de votre voyage.",placeholder:"Entrez un nom...",addBtn:"Ajouter",minPeopleAlert:"Veuillez ajouter au moins 2 personnes pour commencer le partage.",emptyState:"Aucune personne ajoute.",continueBtn:"Continuer vers le voyage"},dashboard:{totalCost:"Cot total :",tabExpenses:"Dpenses",tabBalances:"Soldes",tabSettle:"Rglements",tabStats:"Stats",recentActivity:"Activit rcente",sortBy:"Trier par :",sortDate:"Plus rcent",sortPayer:"Pay par",sortAffects:"Partag avec",addExpense:"Ajouter un frais",paidBy:"Pay par",splittingWith:"Partag avec :",noExpenses:"Aucune dpense. Commencez  noter vos frais !",addFirst:"Ajouter votre premier frais",financialOverview:"Aperu financier",balanceSubtitle:"Ce que chacun a pay par rapport  son cot rel calcul.",totalPaid:"Total pay",portion:"Cot rel",optimizedPayments:"Paiements optimiss",settleSubtitle:"Chaque personne paie au maximum une personne pour rgler toutes les dettes.",pays:"paie",to:"",everyoneSquare:"Tout le monde est quitte ! Aucune dette.",removeTitle:"Supprimer ce frais ?",removeSubtitle:"Ceci supprimera dfinitivement le cot et recalculera les soldes.",statsTitle:"Analyse des dpenses",statsSubtitle:"Rpartition des cots par catgorie sur tout le voyage.",conflictTitle:"Conflit dtect",conflictSubtitle:"Ce frais a t modifi par quelqu'un d'autre pendant que vous l'ditiez. Que voulez-vous faire ?",overwrite:"craser leurs modifications"},expenseForm:{addTitle:"Ajouter un Frais",editTitle:"Modifier le Frais",description:"Description",descPlaceholder:"ex: Dner, Taxi, Billets",amount:"Montant",whoPaid:"Qui a pay ?",splitWith:"Partager avec",splitAllInfo:"Partager quitablement entre tous les membres.",confirmBtn:"Confirmer le Frais",currency:"Devise",rate:"Taux",searchCurrency:"Chercher une devise...",categories:{food:"Nourriture",transport:"Transport",lodging:"Logement",grocery:"Courses",activity:"Activit",other:"Autre"}}},zv={common:{appTitle:"TripShare",tagline:"Kosten teilen, Frieden bewahren.",cancel:"Abbrechen",save:"Speichern",delete:"Lschen",confirm:"Besttigen",all:"Alle",copied:"Kopiert!",kr:"kr",loading:"Verbindung zur TripShare Cloud...",language:"Sprache",english:"Englisch",swedish:"Schwedisch",dutch:"Niederlndisch",spanish:"Spanisch",french:"Franzsisch",german:"Deutsch",italian:"Italienisch",theme:"Thema",light:"Hell",dark:"Dunkel"},onboarding:{newJourney:"Neue Reise starten",placeholder:"z.B. Skiurlaub 2025 ",createBtn:"Reise erstellen",recentTrips:"Deine Reisen",allTrips:"Alle Reisen erkunden",trackCosts:"Kosten verfolgen",autoSettle:"Auto-Ausgleich",baseCurrency:"Basiswhrung",currencyHint:"Alle Salden werden in dieser Whrung angezeigt."},people:{title:"Wer ist dabei?",subtitle:"Fge die Teilnehmer deiner Reise hinzu.",placeholder:"Name eingeben...",addBtn:"Hinzufgen",minPeopleAlert:"Bitte fge mindestens 2 Personen hinzu, um Kosten zu teilen.",emptyState:"Noch keine Personen hinzugefgt.",continueBtn:"Weiter zur Reise"},dashboard:{totalCost:"Gesamtkosten:",tabExpenses:"Ausgaben",tabBalances:"Salden",tabSettle:"Abrechnung",tabStats:"Statistiken",recentActivity:"Letzte Aktivitten",sortBy:"Sortieren nach:",sortDate:"Neueste",sortPayer:"Bezahlt von",sortAffects:"Geteilt mit",addExpense:"Ausgabe hinzufgen",paidBy:"Bezahlt von",splittingWith:"Geteilt mit:",noExpenses:"Noch keine Ausgaben. Erfasse deine erste Zahlung!",addFirst:"Erste Ausgabe hinzufgen",financialOverview:"Finanzbersicht",balanceSubtitle:"Gegenberstellung: Gezahlt vs. tatschlicher Kostenanteil.",totalPaid:"Gesamt gezahlt",portion:"Kostenanteil",optimizedPayments:"Optimierte Zahlungen",settleSubtitle:"Jeder zahlt maximal eine Person, um alle Schulden zu begleichen.",pays:"zahlt",to:"an",everyoneSquare:"Alles ausgeglichen! Keine Schulden.",removeTitle:"Ausgabe entfernen?",removeSubtitle:"Dies lscht die Ausgabe dauerhaft und berechnet alle Salden neu.",statsTitle:"Ausgabenanalyse",statsSubtitle:"Aufschlsselung nach Kategorien fr die gesamte Reise.",conflictTitle:"Konflikt erkannt",conflictSubtitle:"Diese Ausgabe wurde von jemand anderem gendert, whrend du sie bearbeitet hast. Was willst du tun?",overwrite:"nderungen berschreiben"},expenseForm:{addTitle:"Ausgabe hinzufgen",editTitle:"Ausgabe bearbeiten",description:"Beschreibung",descPlaceholder:"z.B. Abendessen, Taxi, Tickets",amount:"Betrag",whoPaid:"Wer hat bezahlt?",splitWith:"Teilen mit",splitAllInfo:"Gleichmig zwischen allen Mitgliedern aufteilen.",confirmBtn:"Ausgabe besttigen",currency:"Whrung",rate:"Kurs",searchCurrency:"Whrung suchen...",categories:{food:"Essen",transport:"Transport",lodging:"Unterkunft",grocery:"Lebensmittel",activity:"Aktivitt",other:"Sonstiges"}}},Bv={common:{appTitle:"TripShare",tagline:"Dividi le spese, mantieni la pace.",cancel:"Annulla",save:"Salva modifiche",delete:"Elimina",confirm:"Conferma",all:"Tutti",copied:"Copiato!",kr:"kr",loading:"Connessione al cloud TripShare...",language:"Lingua",english:"Inglese",swedish:"Svedese",dutch:"Olandese",spanish:"Spagnolo",french:"Francese",german:"Tedesco",italian:"Italiano",theme:"Tema",light:"Chiaro",dark:"Scuro"},onboarding:{newJourney:"Inizia un nuovo viaggio",placeholder:"es. Settimana Bianca 2025 ",createBtn:"Crea Viaggio",recentTrips:"I tuoi viaggi recenti",allTrips:"Esplora tutti i viaggi",trackCosts:"Traccia spese",autoSettle:"Auto-pareggio",baseCurrency:"Valuta base del viaggio",currencyHint:"Tutti i saldi saranno mostrati in questa valuta."},people:{title:"Chi partecipa?",subtitle:"Aggiungi i membri del tuo viaggio.",placeholder:"Inserisci nome...",addBtn:"Aggiungi",minPeopleAlert:"Aggiungi almeno 2 persone per iniziare a dividere le spese.",emptyState:"Nessuna persona aggiunta.",continueBtn:"Continua al viaggio"},dashboard:{totalCost:"Costo totale:",tabExpenses:"Spese",tabBalances:"Saldi",tabSettle:"Pareggio",tabStats:"Statistiche",recentActivity:"Attivit recente",sortBy:"Ordina per:",sortDate:"Pi recente",sortPayer:"Pagato da",sortAffects:"Diviso con",addExpense:"Aggiungi spesa",paidBy:"Pagato da",splittingWith:"Diviso con:",noExpenses:"Ancora nessuna spesa. Inizia a tracciare i pagamenti!",addFirst:"Aggiungi la tua prima spesa",financialOverview:"Panoramica finanziaria",balanceSubtitle:"Quanto ha pagato ogni persona rispetto al costo reale calcolato.",totalPaid:"Totale pagato",portion:"Costo reale",optimizedPayments:"Pagamenti ottimizzati",settleSubtitle:"Ogni persona paga al massimo un'altra persona per pareggiare i conti.",pays:"paga",to:"a",everyoneSquare:"Tutti in pari! Nessun debito.",removeTitle:"Eliminare questa spesa?",removeSubtitle:"Questo eliminer permanentemente il costo e ricalcoler i saldi.",statsTitle:"Analisi delle spese",statsSubtitle:"Ripartizione dei costi per categoria su tutto il viaggio.",conflictTitle:"Conflitto rilevato",conflictSubtitle:"Questa spesa  stata modificata da qualcun altro. Cosa vuoi fare?",overwrite:"Sovrascrivi le modifiche"},expenseForm:{addTitle:"Aggiungi Spesa",editTitle:"Modifica Spesa",description:"Descrizione",descPlaceholder:"es. Cena, Taxi, Biglietti",amount:"Importo",whoPaid:"Chi ha pagato?",splitWith:"Dividi con",splitAllInfo:"Dividi equamente tra tutti i membri.",confirmBtn:"Conferma Spesa",currency:"Valuta",rate:"Tasso",searchCurrency:"Cerca valuta...",categories:{food:"Cibo",transport:"Trasporto",lodging:"Alloggio",grocery:"Spesa",activity:"Attivit",other:"Altro"}}},Cd={en:Cv,sv:Rv,nl:kv,es:Dv,fr:Uv,de:zv,it:Bv},ug=C.createContext(void 0),Mv=({children:e})=>{const[t,a]=C.useState(()=>{const s=localStorage.getItem("tripshare_lang");return s&&Cd[s]?s:"en"}),n=s=>{a(s),localStorage.setItem("tripshare_lang",s)},i=Cd[t];return c.jsx(ug.Provider,{value:{language:t,setLanguage:n,t:i},children:e})},Fn=()=>{const e=C.useContext(ug);if(!e)throw new Error("useTranslation must be used within LanguageProvider");return e},yt=(e,t="SEK")=>{try{const a=t==="SEK"?"sv-SE":"en-US";return new Intl.NumberFormat(a,{style:"currency",currency:t,minimumFractionDigits:2}).format(e)}catch{return`${e.toFixed(2)} ${t}`}},Rd=e=>{const a=e.replace(/\s/g,"").split(/[.,]/);a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g," ");const n=e.includes(",")?",":".";return a.length>1?`${a[0]}${n}${a[1]}`:a[0]},kd=e=>{const t=e.replace(/\s/g,"").replace(",","."),a=parseFloat(t);return isNaN(a)?0:a},Lv=e=>{const t=[],a=new Set;return e.forEach(n=>{if(!a.has(n.id)){if(n.mergedWithId){const i=e.find(s=>s.id===n.mergedWithId);if(i){t.push([n.id,i.id]),a.add(n.id),a.add(i.id);return}}t.push([n.id]),a.add(n.id)}}),t},cg=e=>{const t=Lv(e.people),a={},n={};return t.forEach(i=>{const s=i.sort().join("|"),l=i.length>1,r=i.map(o=>{var u;return((u=e.people.find(d=>d.id===o))==null?void 0:u.name)||""});a[s]={totalPaid:0,share:0,netBalance:0,isMerged:l,mergedWithNames:l?r:void 0},i.forEach(o=>n[o]=s)}),e.expenses.forEach(i=>{const s=n[i.paidById],l=i.amount*(i.exchangeRate||1);a[s]&&(a[s].totalPaid+=l);const r=i.splitAmongIds==="ALL"?e.people.map(o=>o.id):i.splitAmongIds;if(r.length>0){const o=l/r.length;r.forEach(u=>{const d=n[u];a[d]&&(a[d].share+=o)})}}),Object.keys(a).forEach(i=>{a[i].netBalance=a[i].totalPaid-a[i].share}),a},qv=e=>{const t=cg(e);let a=Object.entries(t).map(([i,s])=>({id:i,balance:s.netBalance})).filter(i=>Math.abs(i.balance)>.01);const n=[];for(;a.length>1;){a.sort((r,o)=>r.balance-o.balance);const i=a[0],s=Math.abs(i.balance);let l=-1;for(let r=a.length-1;r>0&&a[r].balance>=s-.01;r--)l=r;if(l!==-1){const r=a[l];n.push({from:i.id,to:r.id,amount:s}),r.balance+=i.balance,i.balance=0}else{const r=a[a.length-1],o=s;n.push({from:i.id,to:r.id,amount:o}),r.balance+=i.balance,i.balance=0}a=a.filter(r=>Math.abs(r.balance)>.01)}return n},Hv=async(e,t)=>{if(e===t)return 1;try{return(await(await fetch(`https://api.frankfurter.app/latest?from=${e}&to=${t}`)).json()).rates[t]||1}catch{return 1}},Ci=[{code:"SEK",name:"Swedish Krona",flag:""},{code:"NOK",name:"Norwegian Krone",flag:""},{code:"EUR",name:"Euro",flag:""},{code:"USD",name:"US Dollar",flag:""},{code:"GBP",name:"British Pound",flag:""},{code:"DKK",name:"Danish Krone",flag:""},{code:"CHF",name:"Swiss Franc",flag:""},{code:"JPY",name:"Japanese Yen",flag:""},{code:"CAD",name:"Canadian Dollar",flag:""},{code:"AUD",name:"Australian Dollar",flag:""},{code:"PLN",name:"Polish Zloty",flag:""},{code:"CZK",name:"Czech Koruna",flag:""},{code:"HUF",name:"Hungarian Forint",flag:""},{code:"THB",name:"Thai Baht",flag:""},{code:"SGD",name:"Singapore Dollar",flag:""},{code:"HKD",name:"Hong Kong Dollar",flag:""},{code:"NZD",name:"New Zealand Dollar",flag:""}];function Xl(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]]);return a}function $v(e,t,a,n){function i(s){return s instanceof a?s:new a(function(l){l(s)})}return new(a||(a=Promise))(function(s,l){function r(d){try{u(n.next(d))}catch(v){l(v)}}function o(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?s(d.value):i(d.value).then(r,o)}u((n=n.apply(e,t||[])).next())})}const Gv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class ec extends Error{constructor(t,a="FunctionsError",n){super(t),this.name=a,this.context=n}}class Vv extends ec{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Dd extends ec{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ud extends ec{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Vo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Vo||(Vo={}));class Kv{constructor(t,{headers:a={},customFetch:n,region:i=Vo.Any}={}){this.url=t,this.headers=a,this.region=i,this.fetch=Gv(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return $v(this,arguments,void 0,function*(a,n={}){var i;let s,l;try{const{headers:r,method:o,body:u,signal:d,timeout:v}=n;let p={},{region:f}=n;f||(f=this.region);const b=new URL(`${this.url}/${a}`);f&&f!=="any"&&(p["x-region"]=f,b.searchParams.set("forceFunctionRegion",f));let _;u&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",_=u):typeof u=="string"?(p["Content-Type"]="text/plain",_=u):typeof FormData<"u"&&u instanceof FormData?_=u:(p["Content-Type"]="application/json",_=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?_=JSON.stringify(u):_=u;let S=d;v&&(l=new AbortController,s=setTimeout(()=>l.abort(),v),d?(S=l.signal,d.addEventListener("abort",()=>l.abort())):S=l.signal);const g=yield this.fetch(b.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),r),body:_,signal:S}).catch(T=>{throw new Vv(T)}),h=g.headers.get("x-relay-error");if(h&&h==="true")throw new Dd(g);if(!g.ok)throw new Ud(g);let m=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield g.json():m==="application/octet-stream"||m==="application/pdf"?y=yield g.blob():m==="text/event-stream"?y=g:m==="multipart/form-data"?y=yield g.formData():y=yield g.text(),{data:y,error:null,response:g}}catch(r){return{data:null,error:r,response:r instanceof Ud||r instanceof Dd?r.context:void 0}}finally{s&&clearTimeout(s)}})}}var Yv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Qv=class{constructor(e){var t,a,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(a=e.isMaybeSingle)!==null&&a!==void 0?a:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var a=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let l=null,r=null,o=null,u=s.status,d=s.statusText;if(s.ok){var v,p;if(a.method!=="HEAD"){var f;const g=await s.text();g===""||(a.headers.get("Accept")==="text/csv"||a.headers.get("Accept")&&(!((f=a.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?r=g:r=JSON.parse(g))}const _=(v=a.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),S=(p=s.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");_&&S&&S.length>1&&(o=parseInt(S[1])),a.isMaybeSingle&&a.method==="GET"&&Array.isArray(r)&&(r.length>1?(l={code:"PGRST116",details:`Results contain ${r.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},r=null,o=null,u=406,d="Not Acceptable"):r.length===1?r=r[0]:r=null)}else{var b;const _=await s.text();try{l=JSON.parse(_),Array.isArray(l)&&s.status===404&&(r=[],l=null,u=200,d="OK")}catch{s.status===404&&_===""?(u=204,d="No Content"):l={message:_}}if(l&&a.isMaybeSingle&&(!(l==null||(b=l.details)===null||b===void 0)&&b.includes("0 rows"))&&(l=null,u=200,d="OK"),l&&a.shouldThrowOnError)throw new Yv(l)}return{error:l,data:r,count:o,status:u,statusText:d}});return this.shouldThrowOnError||(i=i.catch(s=>{var l;let r="",o="",u="";const d=s==null?void 0:s.cause;if(d){var v,p,f,b;const g=(v=d==null?void 0:d.message)!==null&&v!==void 0?v:"",h=(p=d==null?void 0:d.code)!==null&&p!==void 0?p:"";r=`${(f=s==null?void 0:s.name)!==null&&f!==void 0?f:"FetchError"}: ${s==null?void 0:s.message}`,r+=`

Caused by: ${(b=d==null?void 0:d.name)!==null&&b!==void 0?b:"Error"}: ${g}`,h&&(r+=` (${h})`),d!=null&&d.stack&&(r+=`
${d.stack}`)}else{var _;r=(_=s==null?void 0:s.stack)!==null&&_!==void 0?_:""}const S=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(u="",o="Request was aborted (timeout or manual cancellation)",S>this.urlLengthLimit&&(o+=`. Note: Your request URL is ${S} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",o="HTTP headers exceeded server limits (typically 16KB)",S>this.urlLengthLimit&&(o+=`. Your request URL is ${S} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=s==null?void 0:s.name)!==null&&l!==void 0?l:"FetchError"}: ${s==null?void 0:s.message}`,details:r,hint:o,code:u},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},Iv=class extends Qv{select(e){let t=!1;const a=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:a,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:a=t}={}){const n=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:a,referencedTable:n=a}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:a=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var l;const r=[e?"analyze":null,t?"verbose":null,a?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),o=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${o}"; options=${r};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const zd=new RegExp("[,()]");var cn=class extends Iv{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const a=Array.from(new Set(t)).map(n=>typeof n=="string"&&zd.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${a})`),this}notIn(e,t){const a=Array.from(new Set(t)).map(n=>typeof n=="string"&&zd.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${a})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:a,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=a===void 0?"":`(${a})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,a])=>{this.url.searchParams.append(t,`eq.${a}`)}),this}not(e,t,a){return this.url.searchParams.append(e,`not.${t}.${a}`),this}or(e,{foreignTable:t,referencedTable:a=t}={}){const n=a?`${a}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,a){return this.url.searchParams.append(e,`${t}.${a}`),this}},Jv=class{constructor(e,{headers:t={},schema:a,fetch:n,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=a,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:a=!1,count:n}=t??{},i=a?"HEAD":"GET";let s=!1;const l=(e??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join(""),{url:r,headers:o}=this.cloneRequestState();return r.searchParams.set("select",l),n&&o.append("Prefer",`count=${n}`),new cn({method:i,url:r,headers:o,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:a=!0}={}){var n;const i="POST",{url:s,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),a||l.append("Prefer","missing=default"),Array.isArray(e)){const r=e.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(r.length>0){const o=[...new Set(r)].map(u=>`"${u}"`);s.searchParams.set("columns",o.join(","))}}return new cn({method:i,url:s,headers:l,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:a=!1,count:n,defaultToNull:i=!0}={}){var s;const l="POST",{url:r,headers:o}=this.cloneRequestState();if(o.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),t!==void 0&&r.searchParams.set("on_conflict",t),n&&o.append("Prefer",`count=${n}`),i||o.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,v)=>d.concat(Object.keys(v)),[]);if(u.length>0){const d=[...new Set(u)].map(v=>`"${v}"`);r.searchParams.set("columns",d.join(","))}}return new cn({method:l,url:r,headers:o,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var a;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new cn({method:n,url:i,headers:s,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const a="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new cn({method:a,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Ii(e){"@babel/helpers - typeof";return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ii(e)}function Xv(e,t){if(Ii(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(Ii(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zv(e){var t=Xv(e,"string");return Ii(t)=="symbol"?t:t+""}function Pv(e,t,a){return(t=Zv(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Bd(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,n)}return a}function Cs(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Bd(Object(a),!0).forEach(function(n){Pv(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bd(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}var Wv=class dg{constructor(t,{headers:a={},schema:n,fetch:i,timeout:s,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(a),this.schemaName=n,this.urlLengthLimit=l;const r=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(o,u)=>{const d=new AbortController,v=setTimeout(()=>d.abort(),s),p=u==null?void 0:u.signal;if(p){if(p.aborted)return clearTimeout(v),r(o,u);const f=()=>{clearTimeout(v),d.abort()};return p.addEventListener("abort",f,{once:!0}),r(o,Cs(Cs({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(v),p.removeEventListener("abort",f)})}return r(o,Cs(Cs({},u),{},{signal:d.signal})).finally(()=>clearTimeout(v))}:this.fetch=r}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Jv(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new dg(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,a={},{head:n=!1,get:i=!1,count:s}={}){var l;let r;const o=new URL(`${this.url}/rpc/${t}`);let u;const d=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(d)),v=n&&Object.values(a).some(d);v?(r="POST",u=a):n||i?(r=n?"HEAD":"GET",Object.entries(a).filter(([f,b])=>b!==void 0).map(([f,b])=>[f,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([f,b])=>{o.searchParams.append(f,b)})):(r="POST",u=a);const p=new Headers(this.headers);return v?p.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&p.set("Prefer",`count=${s}`),new cn({method:r,url:o,headers:p,schema:this.schemaName,body:u,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class Fv{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const a=globalThis.process;if(a){const n=a.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const n=this.getWebSocketConstructor();return new n(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ey="2.94.1",ty=`realtime-js/${ey}`,ay="1.0.0",hg="2.0.0",Md=hg,Ko=1e4,ny=1e3,iy=100;var Ft;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ft||(Ft={}));var ve;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ve||(ve={}));var pt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pt||(pt={}));var Yo;(function(e){e.websocket="websocket"})(Yo||(Yo={}));var Da;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Da||(Da={}));class sy{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,a){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return a(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var a;return this._isArrayBuffer((a=t.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var a,n;const i=(n=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var a,n;const i=(n=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,a,n){var i,s;const l=t.topic,r=(i=t.ref)!==null&&i!==void 0?i:"",o=(s=t.join_ref)!==null&&s!==void 0?s:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(d).length===0?"":JSON.stringify(d);if(o.length>255)throw new Error(`joinRef length ${o.length} exceeds maximum of 255`);if(r.length>255)throw new Error(`ref length ${r.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+r.length+l.length+u.length+v.length,f=new ArrayBuffer(this.HEADER_LENGTH+p);let b=new DataView(f),_=0;b.setUint8(_++,this.KINDS.userBroadcastPush),b.setUint8(_++,o.length),b.setUint8(_++,r.length),b.setUint8(_++,l.length),b.setUint8(_++,u.length),b.setUint8(_++,v.length),b.setUint8(_++,a),Array.from(o,g=>b.setUint8(_++,g.charCodeAt(0))),Array.from(r,g=>b.setUint8(_++,g.charCodeAt(0))),Array.from(l,g=>b.setUint8(_++,g.charCodeAt(0))),Array.from(u,g=>b.setUint8(_++,g.charCodeAt(0))),Array.from(v,g=>b.setUint8(_++,g.charCodeAt(0)));var S=new Uint8Array(f.byteLength+n.byteLength);return S.set(new Uint8Array(f),0),S.set(new Uint8Array(n),f.byteLength),S.buffer}decode(t,a){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return a(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,s,l,r,o]=n;return a({join_ref:i,ref:s,topic:l,event:r,payload:o})}return a({})}_binaryDecode(t){const a=new DataView(t),n=a.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,a,i)}}_decodeUserBroadcast(t,a,n){const i=a.getUint8(1),s=a.getUint8(2),l=a.getUint8(3),r=a.getUint8(4);let o=this.HEADER_LENGTH+4;const u=n.decode(t.slice(o,o+i));o=o+i;const d=n.decode(t.slice(o,o+s));o=o+s;const v=n.decode(t.slice(o,o+l));o=o+l;const p=t.slice(o,t.byteLength),f=r===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,b={type:this.BROADCAST_EVENT,event:d,payload:f};return l>0&&(b.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var a;return t instanceof ArrayBuffer||((a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(t,a){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>a.includes(n)))}}class fg{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ee||(ee={}));const Ld=(e,t,a={})=>{var n;const i=(n=a.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=ly(l,e,t,i),s),{}):{}},ly=(e,t,a,n)=>{const i=t.find(r=>r.name===e),s=i==null?void 0:i.type,l=a[e];return s&&!n.includes(s)?pg(s,l):Qo(l)},pg=(e,t)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return cy(t,a)}switch(e){case ee.bool:return ry(t);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return oy(t);case ee.json:case ee.jsonb:return uy(t);case ee.timestamp:return dy(t);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return Qo(t);default:return Qo(t)}},Qo=e=>e,ry=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},oy=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},uy=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},cy=(e,t)=>{if(typeof e!="string")return e;const a=e.length-1,n=e[a];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,a);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(r=>pg(t,r))}return e},dy=e=>typeof e=="string"?e.replace(" ","T"):e,gg=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Br{constructor(t,a,n={},i=Ko){this.channel=t,this.event=a,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var n;return this._hasReceived(t)&&a((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var qd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(qd||(qd={}));class Ri{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:l,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ri.syncState(this.state,i,s,l),this.pendingDiffs.forEach(o=>{this.state=Ri.syncDiff(this.state,o,s,l)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:l,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ri.syncDiff(this.state,i,s,l),r())}),this.onJoin((i,s,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:l})}),this.onLeave((i,s,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,n,i){const s=this.cloneDeep(t),l=this.transformState(a),r={},o={};return this.map(s,(u,d)=>{l[u]||(o[u]=d)}),this.map(l,(u,d)=>{const v=s[u];if(v){const p=d.map(S=>S.presence_ref),f=v.map(S=>S.presence_ref),b=d.filter(S=>f.indexOf(S.presence_ref)<0),_=v.filter(S=>p.indexOf(S.presence_ref)<0);b.length>0&&(r[u]=b),_.length>0&&(o[u]=_)}else r[u]=d}),this.syncDiff(s,{joins:r,leaves:o},n,i)}static syncDiff(t,a,n,i){const{joins:s,leaves:l}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(r,o)=>{var u;const d=(u=t[r])!==null&&u!==void 0?u:[];if(t[r]=this.cloneDeep(o),d.length>0){const v=t[r].map(f=>f.presence_ref),p=d.filter(f=>v.indexOf(f.presence_ref)<0);t[r].unshift(...p)}n(r,d,o)}),this.map(l,(r,o)=>{let u=t[r];if(!u)return;const d=o.map(v=>v.presence_ref);u=u.filter(v=>d.indexOf(v.presence_ref)<0),t[r]=u,i(r,u,o),u.length===0&&delete t[r]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(n=>a(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,n)=>{const i=t[n];return"metas"in i?a[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):a[n]=i,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Hd||(Hd={}));var ki;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ki||(ki={}));var Ct;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ct||(Ct={}));class En{constructor(t,a={config:{}},n){var i,s;if(this.topic=t,this.params=a,this.socket=n,this.bindings={},this.state=ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Br(this,pt.join,this.params,this.timeout),this.rejoinTimer=new fg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ve.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pt.reply,{},(l,r)=>{this._trigger(this._replyEventName(r),l)}),this.presence=new Ri(this),this.broadcastEndpointURL=gg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,a=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ve.closed){const{config:{broadcast:l,presence:r,private:o}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[ki.PRESENCE]&&this.bindings[ki.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,v={},p={broadcast:l,presence:Object.assign(Object.assign({},r),{enabled:d}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Ct.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Ct.CLOSED)),this.updateJoinPayload(Object.assign({config:p},v)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:f})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(Ct.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(b=_==null?void 0:_.length)!==null&&b!==void 0?b:0,g=[];for(let h=0;h<S;h++){const m=_[h],{filter:{event:y,schema:T,table:j,filter:E}}=m,A=f&&f[h];if(A&&A.event===y&&En.isFilterValueEqual(A.schema,T)&&En.isFilterValueEqual(A.table,j)&&En.isFilterValueEqual(A.filter,E))g.push(Object.assign(Object.assign({},m),{id:A.id}));else{this.unsubscribe(),this.state=ve.errored,t==null||t(Ct.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Ct.SUBSCRIBED);return}}).receive("error",f=>{this.state=ve.errored,t==null||t(Ct.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ct.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,n){return this.state===ve.joined&&t===ki.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,a,n)}async httpSend(t,a,n={}){var i;if(a==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:a,private:this.private}]})},r=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(r.status===202)return{success:!0};let o=r.statusText;try{const u=await r.json();o=u.error||u.message||o}catch{}return Promise.reject(new Error(o))}async send(t,a={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=t,r={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(r.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:r,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=a.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,r,o;const u=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(r=(l=this.params)===null||l===void 0?void 0:l.config)===null||r===void 0?void 0:r.broadcast)===null||o===void 0)&&o.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ve.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Br(this,pt.leave,{},t),n.receive("ok",()=>{a(),i("ok")}).receive("timeout",()=>{a(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ve.closed,this.bindings={}}async _fetchWithTimeout(t,a,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:i.signal}));return clearTimeout(s),l}_push(t,a,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Br(this,t,a,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>iy){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,n){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,n){var i,s;const l=t.toLocaleLowerCase(),{close:r,error:o,leave:u,join:d}=pt;if(n&&[r,o,u,d].indexOf(l)>=0&&n!==this._joinRef())return;let p=this._onMessage(l,a,n);if(a&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var b,_,S;return((b=f.filter)===null||b===void 0?void 0:b.event)==="*"||((S=(_=f.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(f=>f.callback(p,n)):(s=this.bindings[l])===null||s===void 0||s.filter(f=>{var b,_,S,g,h,m;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in f){const y=f.id,T=(b=f.filter)===null||b===void 0?void 0:b.event;return y&&((_=a.ids)===null||_===void 0?void 0:_.includes(y))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((S=a.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const y=(h=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return y==="*"||y===((m=a==null?void 0:a.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===l}).map(f=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:_,table:S,commit_timestamp:g,type:h,errors:m}=b;p=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:g,eventType:h,new:{},old:{},errors:m}),this._getPayloadRecords(b))}f.callback(p,n)})}_isClosed(){return this.state===ve.closed}_isJoined(){return this.state===ve.joined}_isJoining(){return this.state===ve.joining}_isLeaving(){return this.state===ve.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,n){const i=t.toLocaleLowerCase(),s={type:i,filter:a,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,a){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&En.isEqual(i.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const n in t)if(t[n]!==a[n])return!1;return!0}static isFilterValueEqual(t,a){return(t??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pt.close,{},t)}_onError(t){this._on(pt.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ve.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=Ld(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=Ld(t.columns,t.old_record)),a}}const Mr=()=>{},Rs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hy=[1e3,2e3,5e3,1e4],fy=1e4,py=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gy{constructor(t,a){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ko,this.transport=null,this.heartbeatIntervalMs=Rs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mr,this.ref=0,this.reconnectTimer=null,this.vsn=Md,this.logger=Mr,this.conn=null,this.sendBuffer=[],this.serializer=new sy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=a==null?void 0:a.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${Yo.websocket}`,this.httpEndpoint=gg(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Fv.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,n){this.logger(t,a,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ft.connecting:return Da.Connecting;case Ft.open:return Da.Open;case Ft.closing:return Da.Closing;default:return Da.Closed}}isConnected(){return this.connectionState()===Da.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new En(`realtime:${t}`,a,this);return this.channels.push(s),s}}push(t){const{topic:a,event:n,payload:i,ref:s}=t,l=()=>{this.encode(t,r=>{var o;(o=this.conn)===null||o===void 0||o.send(r)})};this.log("push",`${a} ${n} (${s})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ny,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Rs.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply"&&a.ref&&a.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:l}=a,r=l?`(${l})`:"",o=s.status||"";this.log("receive",`${o} ${n} ${i} ${r}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,l)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ft.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ft.open||this.conn.readyState===Ft.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(a){this.log("error","error in heartbeat callback",a)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(pt.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(a);return`${t}${n}${i}`}_workerObjectUrl(t){let a;if(t)a=t;else{const n=new Blob([py],{type:"application/javascript"});a=URL.createObjectURL(n)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a,n=!1;if(t)a=t,n=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),a=this.accessTokenValue}else a=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(i=>{const s={access_token:a,version:ty};a&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(pt.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(a)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new fg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,n,i,s,l,r,o,u,d,v,p,f;switch(this.transport=(a=t==null?void 0:t.transport)!==null&&a!==void 0?a:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Ko,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Rs.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(r=t==null?void 0:t.heartbeatCallback)!==null&&r!==void 0?r:Mr,this.vsn=(o=t==null?void 0:t.vsn)!==null&&o!==void 0?o:Md,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:b=>hy[b-1]||fy,this.vsn){case ay:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(b,_)=>_(JSON.stringify(b)),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:(b,_)=>_(JSON.parse(b));break;case hg:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Ji=class extends Error{constructor(e,t){var a;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((a=t.icebergType)==null?void 0:a.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function my(e,t,a){const n=new URL(t,e);if(a)for(const[i,s]of Object.entries(a))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function vy(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function yy(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:a,path:n,query:i,body:s,headers:l}){const r=my(e.baseUrl,n,i),o=await vy(e.auth),u=await t(r,{method:a,headers:{...s?{"Content-Type":"application/json"}:{},...o,...l},body:s?JSON.stringify(s):void 0}),d=await u.text(),v=(u.headers.get("content-type")||"").includes("application/json"),p=v&&d?JSON.parse(d):d;if(!u.ok){const f=v?p:void 0,b=f==null?void 0:f.error;throw new Ji((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:f})}return{status:u.status,headers:u.headers,data:p}}}}function ks(e){return e.join("")}var by=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ks(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const a={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ks(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ks(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ks(e.namespace)}`}),!0}catch(t){if(t instanceof Ji&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(a){if(a instanceof Ji&&a.status===409)return;throw a}}};function Fa(e){return e.join("")}var _y=class{constructor(e,t="",a){this.client=e,this.prefix=t,this.accessDelegation=a}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fa(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fa(e.namespace)}/tables`,body:t,headers:a})).data.metadata}async updateTable(e,t){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fa(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fa(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fa(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fa(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(a){if(a instanceof Ji&&a.status===404)return!1;throw a}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(a){if(a instanceof Ji&&a.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw a}}},wy=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const a=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=yy({baseUrl:a,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new by(this.client,t),this.tableOps=new _y(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Zl=class extends Error{constructor(e,t="storage",a,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=a,this.statusCode=n}};function Pl(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Ds=class extends Zl{constructor(e,t,a,n="storage"){super(e,n,t,a),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},mg=class extends Zl{constructor(e,t,a="storage"){super(e,a),this.name=a==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Sy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),xy=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Io=e=>{if(Array.isArray(e))return e.map(a=>Io(a));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([a,n])=>{const i=a.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Io(n)}),t},Ty=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function Ey(e,t){if(Xi(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(Xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ay(e){var t=Ey(e,"string");return Xi(t)=="symbol"?t:t+""}function jy(e,t,a){return(t=Ay(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?$d(Object(a),!0).forEach(function(n){jy(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$d(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}const Gd=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Oy=async(e,t,a,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(a!=null&&a.noResolveJson)){const i=e,s=i.status||500;if(typeof i.json=="function")i.json().then(l=>{const r=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";t(new Ds(Gd(l),s,r,n))}).catch(()=>{if(n==="vectors"){const l=s+"";t(new Ds(i.statusText||`HTTP ${s} error`,s,l,n))}else{const l=s+"";t(new Ds(i.statusText||`HTTP ${s} error`,s,l,n))}});else{const l=s+"";t(new Ds(i.statusText||`HTTP ${s} error`,s,l,n))}}else t(new mg(Gd(e),e,n))},Ny=(e,t,a,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?z(z({},i),a):(xy(n)?(i.headers=z({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),z(z({},i),a))};async function ui(e,t,a,n,i,s,l){return new Promise((r,o)=>{e(a,Ny(t,n,i,s)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(l==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>r(u)).catch(u=>Oy(u,o,n,l))})}function vg(e="storage"){return{get:async(t,a,n,i)=>ui(t,"GET",a,n,i,void 0,e),post:async(t,a,n,i,s)=>ui(t,"POST",a,i,s,n,e),put:async(t,a,n,i,s)=>ui(t,"PUT",a,i,s,n,e),head:async(t,a,n,i)=>ui(t,"HEAD",a,z(z({},n),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,a,n,i,s)=>ui(t,"DELETE",a,i,s,n,e)}}const Cy=vg("storage"),{get:Zi,post:ht,put:Jo,head:Ry,remove:tc}=Cy,Qe=vg("vectors");var ei=class{constructor(e,t={},a,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Sy(a),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Pl(a))return{data:null,error:a};throw a}}},ky=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Pl(t))return{data:null,error:t};throw t}}};let yg;yg=Symbol.toStringTag;var Dy=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[yg]="BlobDownloadBuilder",this.promise=null}asStream(){return new ky(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Pl(t))return{data:null,error:t};throw t}}};const Uy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var zy=class extends ei{constructor(e,t={},a,n){super(e,t,n,"storage"),this.bucketId=a}async uploadOrUpdate(e,t,a,n){var i=this;return i.handleOperation(async()=>{let s;const l=z(z({},Vd),n);let r=z(z({},i.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const o=l.metadata;typeof Blob<"u"&&a instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),o&&s.append("metadata",i.encodeMetadata(o)),s.append("",a)):typeof FormData<"u"&&a instanceof FormData?(s=a,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),o&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(o))):(s=a,r["cache-control"]=`max-age=${l.cacheControl}`,r["content-type"]=l.contentType,o&&(r["x-metadata"]=i.toBase64(i.encodeMetadata(o))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),n!=null&&n.headers&&(r=z(z({},r),n.headers));const u=i._removeEmptyFolders(t),d=i._getFinalPath(u),v=await(e=="PUT"?Jo:ht)(i.fetch,`${i.url}/object/${d}`,s,z({headers:r},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:u,id:v.Id,fullPath:v.Key}})}async upload(e,t,a){return this.uploadOrUpdate("POST",e,t,a)}async uploadToSignedUrl(e,t,a,n){var i=this;const s=i._removeEmptyFolders(e),l=i._getFinalPath(s),r=new URL(i.url+`/object/upload/sign/${l}`);return r.searchParams.set("token",t),i.handleOperation(async()=>{let o;const u=z({upsert:Vd.upsert},n),d=z(z({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.append("cacheControl",u.cacheControl)):(o=a,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:s,fullPath:(await Jo(i.fetch,r.toString(),o,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var a=this;return a.handleOperation(async()=>{let n=a._getFinalPath(e);const i=z({},a.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=await ht(a.fetch,`${a.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(a.url+s.url),r=l.searchParams.get("token");if(!r)throw new Zl("No token returned by API");return{signedUrl:l.toString(),path:e,token:r}})}async update(e,t,a){return this.uploadOrUpdate("PUT",e,t,a)}async move(e,t,a){var n=this;return n.handleOperation(async()=>await ht(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:n.headers}))}async copy(e,t,a){var n=this;return n.handleOperation(async()=>({path:(await ht(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,a){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e),s=await ht(n.fetch,`${n.url}/object/sign/${i}`,z({expiresIn:t},a!=null&&a.transform?{transform:a.transform}:{}),{headers:n.headers});const l=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${l}`)}})}async createSignedUrls(e,t,a){var n=this;return n.handleOperation(async()=>{const i=await ht(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i.map(l=>z(z({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${s}`):null}))})}download(e,t){const a=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=n?`?${n}`:"",s=this._getFinalPath(e),l=()=>Zi(this.fetch,`${this.url}/${a}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new Dy(l,this.shouldThrowOnError)}async info(e){var t=this;const a=t._getFinalPath(e);return t.handleOperation(async()=>Io(await Zi(t.fetch,`${t.url}/object/info/${a}`,{headers:t.headers})))}async exists(e){var t=this;const a=t._getFinalPath(e);try{return await Ry(t.fetch,`${t.url}/object/${a}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Pl(n)&&n instanceof mg){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const a=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let r=n.join("&");return r!==""&&(r=`?${r}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${a}${r}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await tc(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,a){var n=this;return n.handleOperation(async()=>{const i=z(z(z({},Uy),t),{},{prefix:e||""});return await ht(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},a)})}async listV2(e,t){var a=this;return a.handleOperation(async()=>{const n=z({},e);return await ht(a.fetch,`${a.url}/object/list-v2/${a.bucketId}`,n,{headers:a.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const By="2.94.1",hs={"X-Client-Info":`storage-js/${By}`};var My=class extends ei{constructor(e,t={},a,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),l=z(z({},hs),t);super(s,l,a,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const a=t.listBucketOptionsToQueryString(e);return await Zi(t.fetch,`${t.url}/bucket${a}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Zi(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var a=this;return a.handleOperation(async()=>await ht(a.fetch,`${a.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}))}async updateBucket(e,t){var a=this;return a.handleOperation(async()=>await Jo(a.fetch,`${a.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ht(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await tc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Ly=class extends ei{constructor(e,t={},a){const n=e.replace(/\/$/,""),i=z(z({},hs),t);super(n,i,a,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ht(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const a=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&a.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&a.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&a.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&a.set("sortOrder",e.sortOrder),e!=null&&e.search&&a.set("search",e.search);const n=a.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Zi(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await tc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Ty(e))throw new Zl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new wy({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(a,{get(i,s){const l=i[s];return typeof l!="function"?l:async(...r)=>{try{return{data:await l.apply(i,r),error:null}}catch(o){if(n)throw o;return{data:null,error:o}}}}})}},qy=class extends ei{constructor(e,t={},a){const n=e.replace(/\/$/,""),i=z(z({},hs),{},{"Content-Type":"application/json"},t);super(n,i,a,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var a=this;return a.handleOperation(async()=>await Qe.post(a.fetch,`${a.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:a.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var a=this;return a.handleOperation(async()=>await Qe.post(a.fetch,`${a.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:a.headers})||{})}},Hy=class extends ei{constructor(e,t={},a){const n=e.replace(/\/$/,""),i=z(z({},hs),{},{"Content-Type":"application/json"},t);super(n,i,a,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},$y=class extends ei{constructor(e,t={},a){const n=e.replace(/\/$/,""),i=z(z({},hs),{},{"Content-Type":"application/json"},t);super(n,i,a,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Gy=class extends $y{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Vy(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,a=this;return t().call(a,e)}async getBucket(e){var t=()=>super.getBucket,a=this;return t().call(a,e)}async listBuckets(e={}){var t=()=>super.listBuckets,a=this;return t().call(a,e)}async deleteBucket(e){var t=()=>super.deleteBucket,a=this;return t().call(a,e)}},Vy=class extends qy{constructor(e,t,a,n){super(e,t,n),this.vectorBucketName=a}async createIndex(e){var t=()=>super.createIndex,a=this;return t().call(a,z(z({},e),{},{vectorBucketName:a.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,a=this;return t().call(a,z(z({},e),{},{vectorBucketName:a.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,a=this;return t().call(a,a.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,a=this;return t().call(a,a.vectorBucketName,e)}index(e){return new Ky(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Ky=class extends Hy{constructor(e,t,a,n,i){super(e,t,i),this.vectorBucketName=a,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,a=this;return t().call(a,z(z({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async getVectors(e){var t=()=>super.getVectors,a=this;return t().call(a,z(z({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,a=this;return t().call(a,z(z({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,a=this;return t().call(a,z(z({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,a=this;return t().call(a,z(z({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}},Yy=class extends My{constructor(e,t={},a,n){super(e,t,a,n)}from(e){return new zy(this.url,this.headers,e,this.fetch)}get vectors(){return new Gy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ly(this.url+"/iceberg",this.headers,this.fetch)}};const bg="2.94.1",dn=30*1e3,Xo=3,Lr=Xo*dn,Qy="http://localhost:9999",Iy="supabase.auth.token",Jy={"X-Client-Info":`gotrue-js/${bg}`},Zo="X-Supabase-Api-Version",_g={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Xy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Zy=10*60*1e3;class Pi extends Error{constructor(t,a,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=n}}function D(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Py extends Pi{constructor(t,a,n){super(t,a,n),this.name="AuthApiError",this.status=a,this.code=n}}function Wy(e){return D(e)&&e.name==="AuthApiError"}class Ua extends Pi{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class Yt extends Pi{constructor(t,a,n,i){super(t,n,i),this.name=a,this.status=n}}class Ge extends Yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qr(e){return D(e)&&e.name==="AuthSessionMissingError"}class en extends Yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Us extends Yt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zs extends Yt{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fy(e){return D(e)&&e.name==="AuthImplicitGrantRedirectError"}class Kd extends Yt{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eb extends Yt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Po extends Yt{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function Hr(e){return D(e)&&e.name==="AuthRetryableFetchError"}class Yd extends Yt{constructor(t,a,n){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=n}}class Wo extends Yt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const jl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qd=` 	
\r=`.split(""),tb=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Qd.length;t+=1)e[Qd[t].charCodeAt(0)]=-2;for(let t=0;t<jl.length;t+=1)e[jl[t].charCodeAt(0)]=t;return e})();function Id(e,t,a){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;a(jl[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;a(jl[n]),t.queuedBits-=6}}function wg(e,t,a){const n=tb[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Jd(e){const t=[],a=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=l=>{ib(l,n,a)};for(let l=0;l<e.length;l+=1)wg(e.charCodeAt(l),i,s);return t.join("")}function ab(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function nb(e,t){for(let a=0;a<e.length;a+=1){let n=e.charCodeAt(a);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(a+1)-56320&65535|i)+65536,a+=1}ab(n,t)}}function ib(e,t,a){if(t.utf8seq===0){if(e<=127){a(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function Dn(e){const t=[],a={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)wg(e.charCodeAt(i),a,n);return new Uint8Array(t)}function sb(e){const t=[];return nb(e,a=>t.push(a)),new Uint8Array(t)}function za(e){const t=[],a={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Id(i,a,n)),Id(null,a,n),t.join("")}function lb(e){return Math.round(Date.now()/1e3)+e}function rb(){return Symbol("auth-callback")}const Ee=()=>typeof window<"u"&&typeof document<"u",Aa={tested:!1,writable:!1},Sg=()=>{if(!Ee())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Aa.tested)return Aa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Aa.tested=!0,Aa.writable=!0}catch{Aa.tested=!0,Aa.writable=!1}return Aa.writable};function ob(e){const t={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return a.searchParams.forEach((n,i)=>{t[i]=n}),t}const xg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ub=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",hn=async(e,t,a)=>{await e.setItem(t,JSON.stringify(a))},ja=async(e,t)=>{const a=await e.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Te=async(e,t)=>{await e.removeItem(t)};class Wl{constructor(){this.promise=new Wl.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}Wl.promiseConstructor=Promise;function Bs(e){const t=e.split(".");if(t.length!==3)throw new Wo("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Xy.test(t[n]))throw new Wo("JWT not in base64url format");return{header:JSON.parse(Jd(t[0])),payload:JSON.parse(Jd(t[1])),signature:Dn(t[2]),raw:{header:t[0],payload:t[1]}}}async function cb(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function db(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){i(l);return}}})()})}function hb(e){return("0"+e.toString(16)).substr(-2)}function fb(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=a.length;let i="";for(let s=0;s<56;s++)i+=a.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,hb).join("")}async function pb(e){const a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function gb(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await pb(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tn(e,t,a=!1){const n=fb();let i=n;a&&(i+="/PASSWORD_RECOVERY"),await hn(e,`${t}-code-verifier`,i);const s=await gb(n);return[s,n===s?"plain":"s256"]}const mb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vb(e){const t=e.headers.get(Zo);if(!t||!t.match(mb))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function yb(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function bb(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _b=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function an(e){if(!_b.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $r(){const e={};return new Proxy(e,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const n=a.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wb(e,t){return new Proxy(e,{get:(a,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(a,n,i)}})}function Xd(e){return JSON.parse(JSON.stringify(e))}const ka=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Sb=[502,503,504];async function Zd(e){var t;if(!ub(e))throw new Po(ka(e),0);if(Sb.includes(e.status))throw new Po(ka(e),e.status);let a;try{a=await e.json()}catch(s){throw new Ua(ka(s),s)}let n;const i=vb(e);if(i&&i.getTime()>=_g["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?n=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(n=a.error_code),n){if(n==="weak_password")throw new Yd(ka(a),e.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ge}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new Yd(ka(a),e.status,a.weak_password.reasons);throw new Py(ka(a),e.status||500,n)}const xb=(e,t,a,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),a))};async function U(e,t,a,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Zo]||(s[Zo]=_g["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const r=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",o=await Tb(e,t,a+r,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(o):{data:Object.assign({},o),error:null}}async function Tb(e,t,a,n,i,s){const l=xb(t,n,i,s);let r;try{r=await e(a,Object.assign({},l))}catch(o){throw console.error(o),new Po(ka(o),0)}if(r.ok||await Zd(r),n!=null&&n.noResolveJson)return r;try{return await r.json()}catch(o){await Zd(o)}}function dt(e){var t;let a=null;jb(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=lb(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:a,user:n},error:null}}function Pd(e){const t=dt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,n)=>a&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ia(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Eb(e){return{data:e,error:null}}function Ab(e){const{action_link:t,email_otp:a,hashed_token:n,redirect_to:i,verification_type:s}=e,l=Xl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),r={action_link:t,email_otp:a,hashed_token:n,redirect_to:i,verification_type:s},o=Object.assign({},l);return{data:{properties:r,user:o},error:null}}function Wd(e){return e}function jb(e){return e.access_token&&e.refresh_token&&e.expires_in}const Gr=["global","local","others"];class Ob{constructor({url:t="",headers:a={},fetch:n}){this.url=t,this.headers=a,this.fetch=xg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,a=Gr[0]){if(Gr.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gr.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,a={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:ia})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:a}=t,n=Xl(t,["options"]),i=Object.assign(Object.assign({},n),a);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Ab,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(D(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ia})}catch(a){if(D(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,n,i,s,l,r,o;try{const u={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Wd});if(d.error)throw d.error;const v=await d.json(),p=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,f=(o=(r=d.headers.get("link"))===null||r===void 0?void 0:r.split(","))!==null&&o!==void 0?o:[];return f.length>0&&(f.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);u[`${S}Page`]=_}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},v),u),error:null}}catch(u){if(D(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){an(t);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ia})}catch(a){if(D(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){an(t);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:ia})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,a=!1){an(t);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:ia})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){an(t.userId);try{const{data:a,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:a,error:n}}catch(a){if(D(a))return{data:null,error:a};throw a}}async _deleteFactor(t){an(t.userId),an(t.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(D(a))return{data:null,error:a};throw a}}async _listOAuthClients(t){var a,n,i,s,l,r,o;try{const u={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Wd});if(d.error)throw d.error;const v=await d.json(),p=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,f=(o=(r=d.headers.get("link"))===null||r===void 0?void 0:r.split(","))!==null&&o!==void 0?o:[];return f.length>0&&(f.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);u[`${S}Page`]=_}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},v),u),error:null}}catch(u){if(D(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(D(a))return{data:null,error:a};throw a}}async _getOAuthClient(t){try{return await U(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(D(a))return{data:null,error:a};throw a}}async _updateOAuthClient(t,a){try{return await U(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:a,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await U(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(D(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(t){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(D(a))return{data:null,error:a};throw a}}}function Fd(e={}){return{getItem:t=>e[t]||null,setItem:(t,a)=>{e[t]=a},removeItem:t=>{delete e[t]}}}const nn={debug:!!(globalThis&&Sg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Tg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Nb extends Tg{}async function Cb(e,t,a){nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),nn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await a()}finally{nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Nb(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(nn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function Rb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Eg(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function kb(e){return parseInt(e,16)}function Db(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Ub(e){var t;const{chainId:a,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:l,notBefore:r,requestId:o,resources:u,scheme:d,uri:v,version:p}=e;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=Eg(e.address),b=d?`${d}://${n}`:n,_=e.statement?`${e.statement}
`:"",S=`${b} wants you to sign in with your Ethereum account:
${f}

${_}`;let g=`URI: ${v}
Version: ${p}
Chain ID: ${a}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),r&&(g+=`
Not Before: ${r.toISOString()}`),o&&(g+=`
Request ID: ${o}`),u){let h=`
Resources:`;for(const m of u){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);h+=`
- ${m}`}g+=h}return`${S}
${g}`}class he extends Error{constructor({message:t,code:a,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=a}}class Ol extends he{constructor(t,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:t}),this.name="WebAuthnUnknownError",this.originalError=a}}function zb({error:e,options:t}){var a,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new he({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new he({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new he({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new he({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new he({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new he({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(r=>r.type==="public-key").length===0?new he({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new he({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(Ag(l)){if(s.rp.id!==l)return new he({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new he({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new he({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new he({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new he({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Bb({error:e,options:t}){const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new he({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new he({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Ag(n)){if(a.rpId!==n)return new he({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new he({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new he({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new he({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Mb{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Lb=new Mb;function qb(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:a,excludeCredentials:n}=e,i=Xl(e,["challenge","user","excludeCredentials"]),s=Dn(t).buffer,l=Object.assign(Object.assign({},a),{id:Dn(a.id).buffer}),r=Object.assign(Object.assign({},i),{challenge:s,user:l});if(n&&n.length>0){r.excludeCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const u=n[o];r.excludeCredentials[o]=Object.assign(Object.assign({},u),{id:Dn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return r}function Hb(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:a}=e,n=Xl(e,["challenge","allowCredentials"]),i=Dn(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(a&&a.length>0){s.allowCredentials=new Array(a.length);for(let l=0;l<a.length;l++){const r=a[l];s.allowCredentials[l]=Object.assign(Object.assign({},r),{id:Dn(r.id).buffer,type:r.type||"public-key",transports:r.transports})}}return s}function $b(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e;return{id:e.id,rawId:e.id,response:{attestationObject:za(new Uint8Array(e.response.attestationObject)),clientDataJSON:za(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Gb(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:za(new Uint8Array(i.authenticatorData)),clientDataJSON:za(new Uint8Array(i.clientDataJSON)),signature:za(new Uint8Array(i.signature)),userHandle:i.userHandle?za(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ag(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function eh(){var e,t;return!!(Ee()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Vb(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ol("Browser returned unexpected credential type",t)}:{data:null,error:new Ol("Empty credential response",t)}}catch(t){return{data:null,error:zb({error:t,options:e})}}}async function Kb(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ol("Browser returned unexpected credential type",t)}:{data:null,error:new Ol("Empty credential response",t)}}catch(t){return{data:null,error:Bb({error:t,options:e})}}}const Yb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Qb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Nl(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),a=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const l=i[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(a(l))n[s]=l;else if(t(l)){const r=n[s];t(r)?n[s]=Nl(r,l):n[s]=Nl(l)}else n[s]=l}return n}function Ib(e,t){return Nl(Yb,e,t||{})}function Jb(e,t){return Nl(Qb,e,t||{})}class Xb{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:a,friendlyName:n,signal:i},s){var l;try{const{data:r,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:a});if(!r)return{data:null,error:o};const u=i??Lb.createNewAbortSignal();if(r.webauthn.type==="create"){const{user:d}=r.webauthn.credential_options.publicKey;if(!d.name){const v=n;if(v)d.name=`${d.id}:${v}`;else{const f=(await this.client.getUser()).data.user,b=((l=f==null?void 0:f.user_metadata)===null||l===void 0?void 0:l.name)||(f==null?void 0:f.email)||(f==null?void 0:f.id)||"User";d.name=`${d.id}:${b}`}}d.displayName||(d.displayName=d.name)}switch(r.webauthn.type){case"create":{const d=Ib(r.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:v,error:p}=await Vb({publicKey:d,signal:u});return v?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:v}},error:null}:{data:null,error:p}}case"request":{const d=Jb(r.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:v,error:p}=await Kb(Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:d,signal:u}));return v?{data:{factorId:t,challengeId:r.id,webauthn:{type:r.webauthn.type,credential_response:v}},error:null}:{data:null,error:p}}}}catch(r){return D(r)?{data:null,error:r}:{data:null,error:new Ua("Unexpected error in challenge",r)}}}async _verify({challengeId:t,factorId:a,webauthn:n}){return this.client.mfa.verify({factorId:a,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!a)return{data:null,error:new Pi("rpId is required for WebAuthn authentication")};try{if(!eh())return{data:null,error:new Ua("Browser does not support WebAuthn",null)};const{data:l,error:r}=await this.challenge({factorId:t,webauthn:{rpId:a,rpOrigins:n},signal:i},{request:s});if(!l)return{data:null,error:r};const{webauthn:o}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:o.type,rpId:a,rpOrigins:n,credential_response:o.credential_response}})}catch(l){return D(l)?{data:null,error:l}:{data:null,error:new Ua("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!a)return{data:null,error:new Pi("rpId is required for WebAuthn registration")};try{if(!eh())return{data:null,error:new Ua("Browser does not support WebAuthn",null)};const{data:l,error:r}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(d=>{var v;return(v=d.data)===null||v===void 0?void 0:v.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:r};const{data:o,error:u}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:a,rpOrigins:n},signal:i},{create:s});return o?this._verify({factorId:l.id,challengeId:o.challengeId,webauthn:{rpId:a,rpOrigins:n,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:u}}catch(l){return D(l)?{data:null,error:l}:{data:null,error:new Ua("Unexpected error in register",l)}}}}Rb();const Zb={url:Qy,storageKey:Iy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function th(e,t,a){return await a()}const sn={};class Wi{get jwks(){var t,a;return(a=(t=sn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){sn[this.storageKey]=Object.assign(Object.assign({},sn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=sn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){sn[this.storageKey]=Object.assign(Object.assign({},sn[this.storageKey]),{cachedAt:t})}constructor(t){var a,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Zb),t);if(this.storageKey=s.storageKey,this.instanceID=(a=Wi.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,Wi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Ee()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Ob({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=xg(s.fetch),this.lock=s.lock||th,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Ee()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Cb:this.lock=th,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Xb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Sg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fd(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Fd(this.memoryStorage)),Ee()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(r){this._debug("#broadcastChannel","error",r)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${bg}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let a={},n="none";if(Ee()&&(a=ob(window.location.href),this._isImplicitGrantCallback(a)?n="implicit":await this._isPKCECallback(a)&&(n="pkce")),Ee()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(a,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Fy(s)){const o=(t=s.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:l,redirectType:r}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",r),await this._saveSession(l),setTimeout(async()=>{r==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return D(a)?this._returnResult({error:a}):this._returnResult({error:new Ua("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,n,i;try{const s=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:dt}),{data:l,error:r}=s;if(r||!l)return this._returnResult({data:{user:null,session:null},error:r});const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(s){if(D(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var a,n,i;try{let s;if("email"in t){const{email:d,password:v,options:p}=t;let f=null,b=null;this.flowType==="pkce"&&([f,b]=await tn(this.storage,this.storageKey)),s=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:v,data:(a=p==null?void 0:p.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:b},xform:dt})}else if("phone"in t){const{phone:d,password:v,options:p}=t;s=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:v,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:dt})}else throw new Us("You must provide either an email or phone number and a password");const{data:l,error:r}=s;if(r||!l)return await Te(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:r});const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(s){if(await Te(this.storage,`${this.storageKey}-code-verifier`),D(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let a;if("email"in t){const{email:s,password:l,options:r}=t;a=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Pd})}else if("phone"in t){const{phone:s,password:l,options:r}=t;a=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Pd})}else throw new Us("You must provide either an email or phone number and a password");const{data:n,error:i}=a;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new en;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(a){if(D(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(t){var a,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;switch(a){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(t){var a,n,i,s,l,r,o,u,d,v,p;let f,b;if("message"in t)f=t.message,b=t.signature;else{const{chain:_,wallet:S,statement:g,options:h}=t;let m;if(Ee())if(typeof S=="object")m=S;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")m=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=S}const y=new URL((a=h==null?void 0:h.url)!==null&&a!==void 0?a:window.location.href),T=await m.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=Eg(T[0]);let E=(n=h==null?void 0:h.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const k=await m.request({method:"eth_chainId"});E=kb(k)}const A={domain:y.host,address:j,statement:g,uri:y.href,version:"1",chainId:E,nonce:(i=h==null?void 0:h.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(s=h==null?void 0:h.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(r=h==null?void 0:h.signInWithEthereum)===null||r===void 0?void 0:r.expirationTime,notBefore:(o=h==null?void 0:h.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(u=h==null?void 0:h.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=h==null?void 0:h.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=Ub(A),b=await m.request({method:"personal_sign",params:[Db(f),j]})}try{const{data:_,error:S}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:b},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:dt});if(S)throw S;if(!_||!_.session||!_.user){const g=new en;return this._returnResult({data:{user:null,session:null},error:g})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:S})}catch(_){if(D(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var a,n,i,s,l,r,o,u,d,v,p,f;let b,_;if("message"in t)b=t.message,_=t.signature;else{const{chain:S,wallet:g,statement:h,options:m}=t;let y;if(Ee())if(typeof g=="object")y=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))y=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=g}const T=new URL((a=m==null?void 0:m.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in y&&y.signIn){const j=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),h?{statement:h}:null));let E;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")E=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)E=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)b=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),_=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${T.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=m==null?void 0:m.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((r=m==null?void 0:m.signInWithSolana)===null||r===void 0)&&r.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((v=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||v===void 0)&&v.length?["Resources",...m.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const j=await y.signMessage(new TextEncoder().encode(b),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=j}}try{const{data:S,error:g}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:za(_)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:dt});if(g)throw g;if(!S||!S.session||!S.user){const h=new en;return this._returnResult({data:{user:null,session:null},error:h})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:g})}catch(S){if(D(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const a=await ja(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(a??"").split("/");try{if(!n&&this.flowType==="pkce")throw new eb;const{data:s,error:l}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:dt});if(await Te(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const r=new en;return this._returnResult({data:{user:null,session:null,redirectType:null},error:r})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:l})}catch(s){if(await Te(this.storage,`${this.storageKey}-code-verifier`),D(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:a,provider:n,token:i,access_token:s,nonce:l}=t,r=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:dt}),{data:o,error:u}=r;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o||!o.session||!o.user){const d=new en;return this._returnResult({data:{user:null,session:null},error:d})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:u})}catch(a){if(D(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(t){var a,n,i,s,l;try{if("email"in t){const{email:r,options:o}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await tn(this.storage,this.storageKey));const{error:v}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:(a=o==null?void 0:o.data)!==null&&a!==void 0?a:{},create_user:(n=o==null?void 0:o.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:r,options:o}=t,{data:u,error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:r,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(l=o==null?void 0:o.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Us("You must provide either an email or phone number.")}catch(r){if(await Te(this.storage,`${this.storageKey}-code-verifier`),D(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async verifyOtp(t){var a,n;try{let i,s;"options"in t&&(i=(a=t.options)===null||a===void 0?void 0:a.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:r}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:dt});if(r)throw r;if(!l)throw new Error("An error occurred on token verification.");const o=l.session,u=l.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(i){if(D(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var a,n,i,s,l;try{let r=null,o=null;this.flowType==="pkce"&&([r,o]=await tn(this.storage,this.storageKey));const u=await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:Eb});return!((s=u.data)===null||s===void 0)&&s.url&&Ee()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(r){if(await Te(this.storage,`${this.storageKey}-code-verifier`),D(r))return this._returnResult({data:null,error:r});throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:n}=t;if(n)throw n;if(!a)throw new Ge;const{error:i}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(D(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:l}=await U(this.fetch,"POST",a,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:l,error:r}=await U(this.fetch,"POST",a,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:r})}throw new Us("You must provide either an email or phone number and a type")}catch(a){if(D(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await a()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=a();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await ja(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Lr:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await ja(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=$r()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=wb(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const a=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ia}):await this._useSession(async a=>{var n,i,s;const{data:l,error:r}=a;if(r)throw r;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ge}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ia})})}catch(a){if(D(a))return qr(a)&&(await this._removeSession(),await Te(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Ge;const l=i.session;let r=null,o=null;this.flowType==="pkce"&&t.email!=null&&([r,o]=await tn(this.storage,this.storageKey));const{data:u,error:d}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:r,code_challenge_method:o}),jwt:l.access_token,xform:ia});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await Te(this.storage,`${this.storageKey}-code-verifier`),D(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ge;const a=Date.now()/1e3;let n=a,i=!0,s=null;const{payload:l}=Bs(t.access_token);if(l.exp&&(n=l.exp,i=n<=a),i){const{data:r,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r)return{data:{user:null,session:null},error:null};s=r}else{const{data:r,error:o}=await this._getUser(t.access_token);if(o)return this._returnResult({data:{user:null,session:null},error:o});s={access_token:t.access_token,refresh_token:t.refresh_token,user:r.user,token_type:"bearer",expires_in:n-a,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(a){if(D(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var n;if(!t){const{data:l,error:r}=a;if(r)throw r;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ge;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(D(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(t,a){try{if(!Ee())throw new zs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Kd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zs("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Kd("No code detected.");const{data:h,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:l,expires_in:r,expires_at:o,token_type:u}=t;if(!s||!r||!l||!u)throw new zs("No session defined in URL");const d=Math.round(Date.now()/1e3),v=parseInt(r);let p=d+v;o&&(p=parseInt(o));const f=p-d;f*1e3<=dn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${v}s`);const b=p-v;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,d);const{data:_,error:S}=await this._getUser(s);if(S)throw S;const g={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:v,expires_at:p,refresh_token:l,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(D(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await ja(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var n;const{data:i,error:s}=a;if(s&&!qr(s))return this._returnResult({error:s});const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:r}=await this.admin.signOut(l,t);if(r&&!(Wy(r)&&(r.status===404||r.status===401||r.status===403)||qr(r)))return this._returnResult({error:r})}return t!=="others"&&(await this._removeSession(),await Te(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const a=rb(),n={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async a=>{var n,i;try{const{data:{session:s},error:l}=a;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,a={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await tn(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(s){if(await Te(this.storage,`${this.storageKey}-code-verifier`),D(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:a,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(a){if(D(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var a;try{const{data:n,error:i}=await this._useSession(async s=>{var l,r,o,u,d;const{data:v,error:p}=s;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=v.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Ee()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(D(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async a=>{var n;try{const{error:i,data:{session:s}}=a;if(i)throw i;const{options:l,provider:r,token:o,access_token:u,nonce:d}=t,v=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:r,id_token:o,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:dt}),{data:p,error:f}=v;return f?this._returnResult({data:{user:null,session:null},error:f}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new en}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:f}))}catch(i){if(await Te(this.storage,`${this.storageKey}-code-verifier`),D(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async a=>{var n,i;const{data:s,error:l}=a;if(l)throw l;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(a){if(D(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const n=Date.now();return await db(async i=>(i>0&&await cb(200*Math.pow(2,i-1)),this._debug(a,"refreshing attempt",i),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dt})),(i,s)=>{const l=200*Math.pow(2,i);return s&&Hr(s)&&Date.now()+l-n<dn})}catch(n){if(this._debug(a,"error",n),D(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",n),Ee()&&!a.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,a;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ja(this.storage,this.storageKey);if(i&&this.userStorage){let l=await ja(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await hn(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:$r()}else if(i&&!i.user&&!i.user){const l=await ja(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Te(this.storage,this.storageKey+"-user"),await hn(this.storage,this.storageKey,i)):i.user=$r()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((a=i.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<Lr;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Lr}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Hr(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:r}=await this._getUser(i.access_token);!r&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var a,n;if(!t)throw new Ge;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Wl;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new Ge;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const r={data:s.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(s){if(this._debug(i,"error",s),D(s)){const l={data:null,error:s};return Hr(s)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,a,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",a,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:a});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(t,a)}catch(o){s.push(o)}});if(await Promise.all(l),s.length>0){for(let r=0;r<s.length;r+=1)console.error(s[r]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Te(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},t),n=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&a.user&&await hn(this.userStorage,this.storageKey+"-user",{user:a.user});const i=Object.assign({},a);delete i.user;const s=Xd(i);await hn(this.storage,this.storageKey,s)}else{const i=Xd(a);await hn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Te(this.storage,this.storageKey),await Te(this.storage,this.storageKey+"-code-verifier"),await Te(this.storage,this.storageKey+"-user"),this.userStorage&&await Te(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ee()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),dn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const a=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const a=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,a&&clearTimeout(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:n}}=a;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/dn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${dn}ms, refresh threshold is ${Xo} ticks`),i<=Xo&&await this._callRefreshToken(n.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Tg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ee()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,n){const i=[`provider=${encodeURIComponent(a)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await tn(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(r.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var n;const{data:i,error:s}=a;return s?this._returnResult({data:null,error:s}):await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(a){if(D(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(t){try{return await this._useSession(async a=>{var n,i;const{data:s,error:l}=a;if(l)return this._returnResult({data:null,error:l});const r=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:r,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&o.type==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(a){if(D(a))return this._returnResult({data:null,error:a});throw a}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var n;const{data:i,error:s}=a;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?$b(t.webauthn.credential_response):Gb(t.webauthn.credential_response)})}:{code:t.code}),{data:r,error:o}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),this._returnResult({data:r,error:o}))})}catch(a){if(D(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var n;const{data:i,error:s}=a;if(s)return this._returnResult({data:null,error:s});const l=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:r}=l;if(r.type!=="webauthn")return{data:r,error:null};switch(r.webauthn.type){case"create":return{data:Object.assign(Object.assign({},r),{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_options:Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:qb(r.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},r),{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_options:Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:Hb(r.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(D(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(t){const{data:a,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){var t;const{data:{user:a},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=a==null?void 0:a.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var a,n,i,s;if(t)try{const{payload:f}=Bs(t);let b=null;f.aal&&(b=f.aal);let _=b;const{data:{user:S},error:g}=await this.getUser(t);if(g)return this._returnResult({data:null,error:g});((n=(a=S==null?void 0:S.factors)===null||a===void 0?void 0:a.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(_="aal2");const m=f.amr||[];return{data:{currentLevel:b,nextLevel:_,currentAuthenticationMethods:m},error:null}}catch(f){if(D(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:l},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Bs(l.access_token);let u=null;o.aal&&(u=o.aal);let d=u;((s=(i=l.user.factors)===null||i===void 0?void 0:i.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");const p=o.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async a=>{const{data:{session:n},error:i}=a;return i?this._returnResult({data:null,error:i}):n?await U(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ge})})}catch(a){if(D(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(t,a){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Ge});const l=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:r=>({data:r,error:null})});return l.data&&l.data.redirect_url&&Ee()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,a){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Ge});const l=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:r=>({data:r,error:null})});return l.data&&l.data.redirect_url&&Ee()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:a},error:n}=t;return n?this._returnResult({data:null,error:n}):a?await U(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ge})})}catch(t){if(D(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async a=>{const{data:{session:n},error:i}=a;return i?this._returnResult({data:null,error:i}):n?(await U(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ge})})}catch(a){if(D(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,a={keys:[]}){let n=a.keys.find(r=>r.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(r=>r.kid===t),n&&this.jwks_cached_at+Zy>i)return n;const{data:s,error:l}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(r=>r.kid===t),!n)?null:n}async getClaims(t,a={}){try{let n=t;if(!n){const{data:f,error:b}=await this.getSession();if(b||!f.session)return this._returnResult({data:null,error:b});n=f.session.access_token}const{header:i,payload:s,signature:l,raw:{header:r,payload:o}}=Bs(n);a!=null&&a.allowExpired||yb(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:i,signature:l},error:null}}const d=bb(i.alg),v=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,v,l,sb(`${r}.${o}`)))throw new Wo("Invalid JWT signature");return{data:{claims:s,header:i,signature:l},error:null}}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}}Wi.nextInstanceID={};const Pb=Wi,Wb="2.94.1";let gi="";typeof Deno<"u"?gi="deno":typeof document<"u"?gi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gi="react-native":gi="node";const Fb={"X-Client-Info":`supabase-js-${gi}/${Wb}`},e_={headers:Fb},t_={schema:"public"},a_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n_={};function Fi(e){"@babel/helpers - typeof";return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fi(e)}function i_(e,t){if(Fi(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(Fi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s_(e){var t=i_(e,"string");return Fi(t)=="symbol"?t:t+""}function l_(e,t,a){return(t=s_(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ah(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,n)}return a}function oe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ah(Object(a),!0).forEach(function(n){l_(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ah(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}const r_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),o_=()=>Headers,u_=(e,t,a)=>{const n=r_(a),i=o_();return async(s,l)=>{var r;const o=(r=await t())!==null&&r!==void 0?r:e;let u=new i(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),n(s,oe(oe({},l),{},{headers:u}))}};function c_(e){return e.endsWith("/")?e:e+"/"}function d_(e,t){var a,n;const{db:i,auth:s,realtime:l,global:r}=e,{db:o,auth:u,realtime:d,global:v}=t,p={db:oe(oe({},o),i),auth:oe(oe({},u),s),realtime:oe(oe({},d),l),storage:{},global:oe(oe(oe({},v),r),{},{headers:oe(oe({},(a=v==null?void 0:v.headers)!==null&&a!==void 0?a:{}),(n=r==null?void 0:r.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function h_(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(c_(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var f_=class extends Pb{constructor(e){super(e)}},p_=class{constructor(e,t,a){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const s=h_(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,r={db:t_,realtime:n_,auth:oe(oe({},a_),{},{storageKey:l}),global:e_},o=d_(a??{},r);if(this.storageKey=(n=o.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=o.global.headers)!==null&&i!==void 0?i:{},o.accessToken)this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(d,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=o.auth)!==null&&u!==void 0?u:{},this.headers,o.global.fetch)}this.fetch=u_(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(oe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Wv(new URL("rest/v1",s).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch,timeout:o.db.timeout,urlLengthLimit:o.db.urlLengthLimit}),this.storage=new Yy(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new Kv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,a)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,a;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(a=n.session)===null||a===void 0?void 0:a.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:n,userStorage:i,storageKey:s,flowType:l,lock:r,debug:o,throwOnError:u},d,v){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f_({url:this.authUrl.href,headers:oe(oe({},p),d),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:n,userStorage:i,flowType:l,lock:r,debug:o,throwOnError:u,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new gy(this.realtimeUrl.href,oe(oe({},e),{},{params:oe(oe({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const g_=(e,t,a)=>new p_(e,t,a);function m_(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const a=t.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}m_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");class v_{async fetchTrip(t){const a=localStorage.getItem(`tripshare_trip_${t}`);if(!a)throw new Error("Trip not found");return JSON.parse(a)}async createTrip(t,a){const n={id:crypto.randomUUID(),name:t,baseCurrency:a,people:[],expenses:[]};localStorage.setItem(`tripshare_trip_${n.id}`,JSON.stringify(n));const i=JSON.parse(localStorage.getItem("tripshare_local_index")||"[]");return localStorage.setItem("tripshare_local_index",JSON.stringify([{id:n.id,name:n.name},...i])),n}async updatePeople(t,a,n){const s={...await this.fetchTrip(t),people:n};localStorage.setItem(`tripshare_trip_${t}`,JSON.stringify(s))}async saveExpense(t,a,n){const i=await this.fetchTrip(t),s=[...i.expenses];if(n){const r=s.findIndex(o=>o.id===n);if(r!==-1){const o=s[r];s[r]={...a,id:o.id,date:o.date}}}else s.unshift({...a,id:crypto.randomUUID(),date:Date.now()});const l={...i,expenses:s};localStorage.setItem(`tripshare_trip_${t}`,JSON.stringify(l))}async deleteExpense(t){const a=JSON.parse(localStorage.getItem("tripshare_local_index")||"[]");for(const n of a){const i=localStorage.getItem(`tripshare_trip_${n.id}`);if(i){const s=JSON.parse(i),l=s.expenses.filter(r=>r.id!==t);if(l.length!==s.expenses.length){localStorage.setItem(`tripshare_trip_${n.id}`,JSON.stringify({...s,expenses:l}));break}}}}}class y_{constructor(t){this.supabase=t}async fetchTrip(t){const{data:a,error:n}=await this.supabase.from("trips").select("*").eq("id",t).single();if(n||!a)throw n||new Error("Trip not found");const{data:i}=await this.supabase.from("people").select("*").eq("trip_id",t),{data:s}=await this.supabase.from("expenses").select("*").eq("trip_id",t).order("date",{ascending:!1});return{id:a.id,name:a.name,baseCurrency:a.base_currency||"SEK",people:(i||[]).map(l=>({id:l.id,name:l.name,mergedWithId:l.merged_with_id||void 0})),expenses:(s||[]).map(l=>({id:l.id,description:l.description,category:l.category||"Other",amount:parseFloat(l.amount),currency:l.currency||"SEK",exchangeRate:parseFloat(l.exchange_rate)||1,paidById:l.paid_by_id,splitAmongIds:l.split_among_ids,date:l.date}))}}async createTrip(t,a){const{data:n,error:i}=await this.supabase.from("trips").insert({name:t,base_currency:a}).select().single();if(i)throw i;return{id:n.id,name:n.name,baseCurrency:n.base_currency,people:[],expenses:[]}}async updatePeople(t,a,n){const i=n.map(o=>o.id),s=a.filter(o=>!i.includes(o.id)).map(o=>o.id);s.length>0&&(await this.supabase.from("people").update({merged_with_id:null}).in("merged_with_id",s),await this.supabase.from("people").delete().in("id",s));const l=n.map(o=>({id:o.id,name:o.name,trip_id:t,merged_with_id:o.mergedWithId||null})),{error:r}=await this.supabase.from("people").upsert(l,{onConflict:"id"});if(r)throw r}async saveExpense(t,a,n){const i={description:a.description,category:a.category,amount:a.amount,exchange_rate:a.exchangeRate,currency:a.currency,paid_by_id:a.paidById,split_among_ids:a.splitAmongIds,trip_id:t};if(n){const{error:s}=await this.supabase.from("expenses").update(i).eq("id",n);if(s)throw s}else{const{error:s}=await this.supabase.from("expenses").insert({...i,date:Date.now()});if(s)throw s}}async deleteExpense(t){const{error:a}=await this.supabase.from("expenses").delete().eq("id",t);if(a)throw a}}const Vr={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"sb_publishable_glWmSYGMFQGXnmSa2hjqpg_KCA_ixsT",VITE_SUPABASE_URL:"https://ceghrkjcbtuganvufxva.supabase.co"};var Kr={};const jg=C.createContext(void 0),Og=e=>{try{if(typeof process<"u"&&Kr&&Kr[e])return Kr[e];if(typeof import.meta<"u"&&Vr&&Vr[e])return Vr[e]}catch{}return""},nh=Og("VITE_SUPABASE_URL"),ih=Og("VITE_SUPABASE_ANON_KEY"),ln=nh&&ih?g_(nh,ih):null,b_=({children:e})=>{const[t,a]=C.useState("ONBOARDING"),[n,i]=C.useState(null),[s,l]=C.useState(null),[r,o]=C.useState(!1),[u,d]=C.useState(!1),[v,p]=C.useState([]),[f,b]=C.useState(()=>localStorage.getItem("tripshare_mode")==="local"||!ln),_=C.useRef(!1),S=C.useMemo(()=>f?new v_:new y_(ln),[f]);C.useEffect(()=>{const y=localStorage.getItem("tripshare_history");y&&p(JSON.parse(y))},[]);const g=(y,T)=>{p(j=>{const E=j.filter(k=>k.id!==y),A=[{id:y,name:T,lastVisited:Date.now()},...E].slice(0,10);return localStorage.setItem("tripshare_history",JSON.stringify(A)),A})},h=async y=>{o(!0);try{const T=await S.fetchTrip(y);i(T),g(T.id,T.name),T.people.length<2?a("PEOPLE_SETUP"):(t==="ONBOARDING"||t==="PEOPLE_SETUP")&&a("DASHBOARD")}catch{window.location.hash="",a("ONBOARDING")}finally{o(!1)}};C.useEffect(()=>{const y=async()=>{const T=window.location.hash;if(T.startsWith("#/trip/")){const j=T.replace("#/trip/","");(!n||n.id!==j)&&await h(j)}else T||(i(null),a("ONBOARDING"))};return y(),window.addEventListener("hashchange",y),()=>window.removeEventListener("hashchange",y)},[n==null?void 0:n.id,f]),C.useEffect(()=>{if(!(n!=null&&n.id)||!ln||f)return;const y=ln.channel(`trip-updates-${n.id}`).on("postgres_changes",{event:"*",schema:"public",table:"people",filter:`trip_id=eq.${n.id}`},()=>{_.current||h(n.id)}).on("postgres_changes",{event:"*",schema:"public",table:"expenses",filter:`trip_id=eq.${n.id}`},()=>{_.current||h(n.id)}).subscribe();return()=>{ln.removeChannel(y)}},[n==null?void 0:n.id,f]);const m={setView:a,setEditingExpense:l,createTrip:async(y,T)=>{o(!0);try{const j=await S.createTrip(y,T);g(j.id,y),window.location.hash=`#/trip/${j.id}`}finally{o(!1)}},fetchTrip:h,updatePeople:async y=>{if(n){d(!0);try{_.current=!0,await S.updatePeople(n.id,n.people,y),await h(n.id),a("DASHBOARD")}finally{d(!1),setTimeout(()=>{_.current=!1},200)}}},saveExpense:async y=>{if(n){d(!0);try{_.current=!0,await S.saveExpense(n.id,y,s==null?void 0:s.id),l(null),await h(n.id),a("DASHBOARD")}finally{d(!1),setTimeout(()=>{_.current=!1},200)}}},deleteExpense:async y=>{if(n){d(!0);try{_.current=!0,await S.deleteExpense(y),await h(n.id)}finally{d(!1),setTimeout(()=>{_.current=!1},200)}}},resetTrip:()=>{i(null),window.location.hash="",a("ONBOARDING")},toggleMode:y=>{localStorage.setItem("tripshare_mode",y),b(y==="local"),window.location.hash="",a("ONBOARDING")}};return c.jsx(jg.Provider,{value:{trip:n,view:t,editingExpense:s,isLoading:r,isSaving:u,isLocalMode:f,history:v,actions:m,supabase:ln},children:e})},fs=()=>{const e=C.useContext(jg);if(!e)throw new Error("useTrip must be used within TripProvider");return e},__=({onOpenLanguage:e})=>{var j,E;const{history:t,actions:a}=fs(),{t:n,language:i}=Fn(),[s,l]=C.useState(""),[r,o]=C.useState("SEK"),[u,d]=C.useState(""),[v,p]=C.useState(!1),[f,b]=C.useState(!1),[_,S]=C.useState(""),g=A=>{A.preventDefault(),s.trim()&&a.createTrip(s.trim(),r)},h=A=>{window.location.hash=`#/trip/${A}`},m=i==="en"?"":"",y=C.useMemo(()=>t.filter(A=>A.name.toLowerCase().includes(u.toLowerCase())),[t,u]),T=Ci.filter(A=>A.code.toLowerCase().includes(_.toLowerCase())||A.name.toLowerCase().includes(_.toLowerCase()));return c.jsxs("div",{className:"flex flex-col space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsxs("h1",{className:"text-4xl font-black tracking-tighter text-white",children:[n.common.appTitle,c.jsx("span",{className:"text-indigo-500",children:"."})]}),c.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-widest",children:n.common.tagline})]}),c.jsx("button",{onClick:e,className:"w-10 h-10 flex items-center justify-center bg-slate-900 border border-slate-800 rounded-xl hover:border-slate-700 transition-all text-xl",children:m})]}),v?c.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-[2.5rem] border border-slate-800 animate-in zoom-in-95 duration-200 space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center px-1",children:[c.jsx("h2",{className:"text-sm font-black uppercase tracking-widest text-indigo-400",children:n.onboarding.newJourney}),c.jsx("button",{onClick:()=>p(!1),className:"text-slate-600 hover:text-slate-400",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c.jsx("input",{type:"text",placeholder:n.onboarding.placeholder,className:"w-full px-5 py-4 rounded-2xl border border-slate-800 bg-slate-950 text-white placeholder-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none transition-all",value:s,onChange:A=>l(A.target.value),autoFocus:!0}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest px-1",children:n.onboarding.baseCurrency}),c.jsxs("button",{type:"button",onClick:()=>b(!0),className:"w-full px-5 py-4 rounded-2xl border border-slate-800 bg-slate-950 text-white flex items-center justify-between font-bold shadow-inner",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-xl",children:(j=Ci.find(A=>A.code===r))==null?void 0:j.flag}),c.jsxs("span",{children:[r," - ",(E=Ci.find(A=>A.code===r))==null?void 0:E.name]})]}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-600",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),c.jsx("button",{type:"submit",disabled:!s.trim(),className:"w-full bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-800 disabled:text-slate-600 text-white font-black py-4 rounded-2xl transition-all",children:n.onboarding.createBtn})]})]}):c.jsxs("button",{onClick:()=>p(!0),className:"w-full py-5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-[2rem] font-black text-lg shadow-xl shadow-indigo-900/20 transition-all flex items-center justify-center gap-3 active:scale-[0.98]",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 4v16m8-8H4"})}),n.onboarding.newJourney]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col space-y-4",children:[c.jsx("div",{className:"flex items-center justify-between px-1",children:c.jsx("h2",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-500",children:n.onboarding.recentTrips})}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:n.expenseForm.searchCurrency.replace("currency","trip"),className:"w-full px-5 py-3 rounded-2xl border border-slate-800 bg-slate-900/30 text-white placeholder-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none transition-all pl-12 text-sm",value:u,onChange:A=>d(A.target.value)}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 absolute left-5 top-1/2 -translate-y-1/2 text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),c.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto no-scrollbar pb-12",children:y.length>0?c.jsx("div",{className:"space-y-2",children:y.map(A=>c.jsxs("button",{onClick:()=>h(A.id),className:"w-full flex items-center justify-between p-5 bg-indigo-600/5 border border-indigo-500/20 rounded-[2rem] hover:bg-indigo-600/10 hover:border-indigo-500/40 transition-all group",children:[c.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[c.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-600/10 flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:""}),c.jsxs("div",{className:"text-left min-w-0",children:[c.jsx("span",{className:"block font-black text-slate-100 truncate",children:A.name}),c.jsx("span",{className:"block text-[9px] font-black uppercase tracking-widest text-indigo-500/60 mt-0.5",children:"Visited Previously"})]})]}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-indigo-500/40 group-hover:text-indigo-400 transition-colors shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]},A.id))}):c.jsxs("div",{className:"py-20 text-center space-y-4 bg-slate-950/50 border-2 border-dashed border-slate-900 rounded-[3rem]",children:[c.jsx("span",{className:"text-4xl opacity-20 block",children:""}),c.jsxs("div",{className:"space-y-1 px-8",children:[c.jsx("p",{className:"text-slate-600 font-black text-sm uppercase tracking-widest",children:"No journeys found"}),c.jsx("p",{className:"text-slate-700 text-xs leading-relaxed",children:"Create a brand new journey above or paste a link from a friend."})]})]})})]}),f&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/90 backdrop-blur-md animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-[2rem] w-full max-w-sm flex flex-col max-h-[80vh] animate-in zoom-in-95 shadow-2xl",children:[c.jsxs("div",{className:"p-6 border-b border-slate-800 space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-xl font-black text-white",children:n.onboarding.baseCurrency}),c.jsx("button",{onClick:()=>b(!1),className:"p-2 text-slate-500 hover:text-white transition-colors rounded-xl bg-slate-800/50",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsx("input",{type:"text",placeholder:n.expenseForm.searchCurrency,className:"w-full px-4 py-3 rounded-xl border border-slate-800 bg-slate-800 text-white outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:_,onChange:A=>S(A.target.value),autoFocus:!0})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-2 no-scrollbar",children:T.map(A=>c.jsxs("button",{onClick:()=>{o(A.code),b(!1),S("")},className:`w-full flex items-center gap-4 p-4 rounded-2xl transition-all ${r===A.code?"bg-indigo-600 text-white":"hover:bg-slate-800 text-slate-400"}`,children:[c.jsx("span",{className:"text-2xl",children:A.flag}),c.jsxs("div",{className:"flex flex-col items-start",children:[c.jsx("span",{className:"font-bold",children:A.code}),c.jsx("span",{className:"text-xs opacity-60",children:A.name})]})]},A.code))})]})})]})},w_=({isInitial:e})=>{var g;const{trip:t,actions:a}=fs(),{t:n}=Fn(),i=C.useRef(null);if(!t)return null;const[s,l]=C.useState(t.people),[r,o]=C.useState(""),[u,d]=C.useState(null);C.useEffect(()=>{var h;if(u){const m=y=>{y.key==="Escape"&&d(null)};return window.addEventListener("keydown",m),(h=i.current)==null||h.focus(),()=>window.removeEventListener("keydown",m)}},[u]);const v=C.useMemo(()=>[...s].sort((h,m)=>h.name.localeCompare(m.name)),[s]),p=h=>{h.preventDefault(),r.trim()&&(l([...s,{id:crypto.randomUUID(),name:r.trim()}]),o(""))},f=h=>{l(s.map(m=>m.mergedWithId===h?{...m,mergedWithId:void 0}:m).filter(m=>m.id!==h))},b=(h,m)=>{var y;if(!m){const T=(y=s.find(j=>j.id===h))==null?void 0:y.mergedWithId;l(s.map(j=>j.id===h||j.id===T?{...j,mergedWithId:void 0}:j));return}l(s.map(T=>T.id===h?{...T,mergedWithId:m}:T.id===m?{...T,mergedWithId:h}:T.mergedWithId===h||T.mergedWithId===m?{...T,mergedWithId:void 0}:T)),d(null)},_=()=>{s.length>=2?a.updatePeople(s):alert(n.people.minPeopleAlert)},S=h=>{var m;return h.mergedWithId?(m=s.find(y=>y.id===h.mergedWithId))==null?void 0:m.name:null};return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-app-primary tracking-tight",children:n.people.title}),c.jsx("p",{className:"text-app-secondary",children:n.people.subtitle})]}),!e&&c.jsx("button",{onClick:()=>a.setView("DASHBOARD"),className:"text-app-muted hover:text-app-primary transition-colors focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none p-1 rounded",children:n.common.cancel})]}),c.jsxs("form",{onSubmit:p,className:"flex gap-2",children:[c.jsx("input",{type:"text",placeholder:n.people.placeholder,"aria-label":"New person name",className:"flex-1 px-4 py-3 rounded-xl border border-app bg-app-card text-app-primary placeholder-app-muted focus:ring-2 focus:ring-indigo-500 outline-none transition-all shadow-app",value:r,onChange:h=>o(h.target.value),autoFocus:!0}),c.jsx("button",{type:"submit",disabled:!r.trim(),className:"bg-app-accent text-app-accent-fg px-6 py-3 rounded-xl font-medium hover:opacity-90 disabled:opacity-50 transition-all shadow-lg shadow-indigo-900/20 focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none",children:n.people.addBtn})]}),c.jsxs("div",{className:"space-y-3",role:"list","aria-label":"Participant list",children:[v.map((h,m)=>{const y=S(h);return c.jsx("div",{role:"listitem",className:`flex flex-col p-4 bg-app-card rounded-2xl border transition-all animate-slide-up shadow-app ${h.mergedWithId?"border-indigo-500/30 bg-indigo-500/[0.02]":"border-app"}`,style:{animationDelay:`${m*.04}s`,animationFillMode:"both"},children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs border ${h.mergedWithId?"bg-indigo-500/20 text-indigo-500 border-indigo-500/30":"bg-app-tertiary text-app-secondary border-app"}`,"aria-hidden":"true",children:h.name.charAt(0).toUpperCase()}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-app-primary",children:h.name}),y&&c.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5 animate-zoom-in",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-indigo-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})}),c.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest text-indigo-500/60",children:["Linked with ",y]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:()=>h.mergedWithId?b(h.id,void 0):d(h.id),className:`p-2 rounded-lg transition-all focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none ${h.mergedWithId?"text-indigo-500 hover:bg-indigo-500/10":"text-app-muted hover:text-indigo-500 hover:bg-app-tertiary"}`,"aria-label":h.mergedWithId?`Unlink ${h.name} and ${y}`:`Link ${h.name} with another person`,children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})})}),c.jsx("button",{onClick:()=>f(h.id),"aria-label":`Remove ${h.name}`,className:"p-2 text-app-muted hover:text-red-500 transition-all focus-visible:ring-2 focus-visible:ring-red-500 outline-none rounded-lg",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]})},h.id)}),s.length===0&&c.jsx("div",{className:"text-center py-10 text-app-muted border-2 border-dashed border-app rounded-xl bg-app-card/30 animate-fade-in shadow-app",children:n.people.emptyState})]}),c.jsx("button",{onClick:_,className:"w-full bg-app-accent text-app-accent-fg font-bold py-4 rounded-xl shadow-lg transition-all mt-4 hover:opacity-90 focus-visible:ring-4 focus-visible:ring-indigo-500 outline-none",children:e?n.people.continueBtn:n.common.save}),u&&c.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",role:"dialog","aria-modal":"true",onClick:()=>d(null),children:c.jsxs("div",{ref:i,tabIndex:-1,className:"bg-app-card border border-app rounded-[2.5rem] w-full max-w-sm p-6 space-y-6 shadow-2xl animate-zoom-in outline-none",onClick:h=>h.stopPropagation(),children:[c.jsxs("div",{className:"space-y-1 text-center",children:[c.jsx("h3",{className:"text-xl font-black text-app-primary leading-tight",children:"Link Economy"}),c.jsxs("p",{className:"text-app-secondary text-sm",children:["Select someone to pool finances with ",(g=s.find(h=>h.id===u))==null?void 0:g.name,"."]})]}),c.jsx("div",{className:"space-y-2 max-h-[40vh] overflow-y-auto no-scrollbar",role:"listbox",children:s.filter(h=>h.id!==u).map(h=>c.jsxs("button",{role:"option",onClick:()=>b(u,h.id),className:"w-full flex items-center justify-between p-4 bg-app-tertiary hover:bg-indigo-600 hover:text-white rounded-2xl transition-all group shadow-app focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none",children:[c.jsx("span",{className:"font-bold",children:h.name}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 opacity-0 group-hover:opacity-100 transition-opacity",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},h.id))}),c.jsx("button",{onClick:()=>d(null),className:"w-full py-3 text-app-secondary font-bold hover:text-app-primary transition-colors focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none rounded-xl",children:n.common.cancel})]})})]})},Ng=C.createContext(void 0),S_=({children:e})=>{const[t,a]=C.useState(()=>localStorage.getItem("tripshare_theme")||"dark");C.useEffect(()=>{const i=window.document.documentElement;t==="light"?i.classList.add("light"):i.classList.remove("light"),localStorage.setItem("tripshare_theme",t)},[t]);const n=()=>{a(i=>i==="light"?"dark":"light")};return c.jsx(Ng.Provider,{value:{theme:t,toggleTheme:n},children:e})},x_=()=>{const e=C.useContext(Ng);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},Yr={Food:"#6366f1",Transport:"#8b5cf6",Lodging:"#ec4899",Grocery:"#10b981",Activity:"#f59e0b",Other:"#64748b"},T_=({onOpenLanguage:e})=>{var Qt,It;const{trip:t,actions:a}=fs(),{t:n,language:i}=Fn(),{theme:s,toggleTheme:l}=x_(),[r,o]=C.useState("expenses"),[u,d]=C.useState(null),[v,p]=C.useState(!1),[f,b]=C.useState(null),[_,S]=C.useState("date"),[g,h]=C.useState(null);if(!t)return null;const m=["expenses","balances","settle","stats"],y=m.indexOf(r),T=qv(t),j=cg(t),E=t.expenses.reduce((w,O)=>w+O.amount*(O.exchangeRate||1),0),A=w=>{var O;return((O=t.people.find(R=>R.id===w))==null?void 0:O.name)||"Unknown"},k=w=>w.includes("|")?w.split("|").map(O=>A(O)).join(" & "):A(w),L=C.useMemo(()=>{const w={};return t.expenses.forEach(O=>{const R=O.category||"Other",Y=O.amount*(O.exchangeRate||1);w[R]=(w[R]||0)+Y}),Object.entries(w).sort((O,R)=>R[1]-O[1])},[t.expenses]),xe=C.useMemo(()=>{const w=[...t.expenses];return w.sort((O,R)=>{if(_==="paidBy"&&g){const Y=O.paidById===g,J=R.paidById===g;return Y&&!J?-1:!Y&&J?1:R.date-O.date}if(_==="splitWith"&&g){const Y=O.splitAmongIds==="ALL"||Array.isArray(O.splitAmongIds)&&O.splitAmongIds.includes(g),J=R.splitAmongIds==="ALL"||Array.isArray(R.splitAmongIds)&&R.splitAmongIds.includes(g);return Y&&!J?-1:!Y&&J?1:R.date-O.date}return R.date-O.date}),w},[t.expenses,_,g]),$e=()=>{navigator.clipboard.writeText(window.location.href),p(!0),setTimeout(()=>p(!1),2e3)},mt=i==="en"?"":"";return c.jsxs("div",{className:"space-y-6 relative pb-20",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h1",{className:"text-3xl font-black text-app-primary tracking-tight truncate leading-tight",children:t.name}),c.jsxs("p",{className:"text-app-secondary text-sm",children:[n.dashboard.totalCost," ",c.jsx("span",{className:"font-bold text-app-primary",children:yt(E,t.baseCurrency)})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:l,"aria-label":n.common.theme,className:"flex items-center justify-center w-10 h-10 bg-app-card border border-app rounded-xl hover:bg-app-tertiary transition-all active:scale-95 text-app-secondary focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none",children:s==="dark"?c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 animate-zoom-in",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 animate-zoom-in",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),c.jsx("button",{onClick:e,"aria-label":n.common.language,className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-app-card border border-app rounded-lg hover:bg-app-tertiary transition-all text-xs font-bold text-app-secondary focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none",children:c.jsx("span",{children:mt})})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>{a.setEditingExpense(null),a.setView("ADD_EXPENSE")},className:"flex-1 flex items-center justify-center gap-2 py-3 bg-app-accent hover:opacity-90 text-app-accent-fg rounded-xl font-bold shadow-lg shadow-indigo-900/20 transition-all focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),n.dashboard.addExpense]}),c.jsx("button",{onClick:$e,"aria-label":"Copy share link",className:`px-4 rounded-xl border transition-all flex items-center justify-center focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none ${v?"bg-green-500/10 border-green-500/50 text-green-500":"bg-app-card border-app text-app-secondary hover:text-indigo-500"}`,children:v?c.jsx("span",{className:"text-[10px] font-black",children:n.common.copied}):c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})})}),c.jsx("button",{onClick:()=>a.setView("PEOPLE_SETUP"),"aria-label":"Manage people",className:"px-4 rounded-xl bg-app-card border border-app text-app-secondary hover:text-indigo-500 transition-all shadow-app focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),c.jsx("button",{onClick:()=>a.resetTrip(),"aria-label":"Reset trip",className:"px-4 rounded-xl bg-app-card border border-app text-app-secondary hover:text-red-500 transition-all shadow-app focus-visible:ring-2 focus-visible:ring-red-500 outline-none",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})})})]}),c.jsxs("nav",{className:"relative p-1 bg-app-card border border-app rounded-2xl flex items-center h-12 shadow-app","aria-label":"Dashboard tabs",children:[c.jsx("div",{className:"absolute h-[calc(100%-8px)] rounded-xl bg-app-tertiary shadow-sm transition-all duration-300 ease-out z-0",style:{width:"calc(25% - 4px)",left:`calc(${y*25}% + 4px)`}}),m.map(w=>c.jsx("button",{onClick:()=>o(w),"aria-selected":r===w,className:`relative flex-1 py-2 text-[10px] font-black uppercase tracking-wider transition-colors duration-200 z-10 focus-visible:text-indigo-500 outline-none ${r===w?"text-indigo-500":"text-app-secondary hover:text-app-primary"}`,children:w==="expenses"?n.dashboard.tabExpenses:w==="balances"?n.dashboard.tabBalances:w==="settle"?n.dashboard.tabSettle:n.dashboard.tabStats},w))]}),c.jsxs("div",{className:"animate-slide-right",children:[r==="expenses"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col space-y-4",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("h3",{className:"font-black text-app-secondary uppercase text-[10px] tracking-[0.2em]",children:n.dashboard.recentActivity})}),c.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 no-scrollbar -mx-4 px-4",children:[c.jsx("span",{className:"text-[10px] font-black text-app-muted uppercase tracking-widest shrink-0",children:n.dashboard.sortBy}),c.jsx("button",{onClick:()=>S("date"),className:`px-3 py-1.5 text-[11px] font-bold rounded-full border transition-all shrink-0 focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none ${_==="date"?"bg-indigo-600 border-indigo-500 text-white":"bg-app-card border-app text-app-secondary"}`,children:n.dashboard.sortDate}),c.jsxs("div",{className:`flex items-center gap-1 px-3 py-1.5 rounded-full border transition-all shrink-0 ${_==="paidBy"?"bg-indigo-600 border-indigo-500 text-white":"bg-app-card border-app text-app-secondary"}`,children:[c.jsxs("span",{className:"text-[11px] font-bold cursor-pointer",onClick:()=>{var w;S("paidBy"),g||h((w=t.people[0])==null?void 0:w.id)},children:[n.dashboard.sortPayer,":"]}),c.jsxs("select",{"aria-label":"Select payer to sort by",className:"bg-transparent border-none outline-none focus:ring-0 p-0 text-[11px] font-bold cursor-pointer",value:_==="paidBy"&&g||"",onChange:w=>{S("paidBy"),h(w.target.value)},children:[!g&&c.jsx("option",{value:"",disabled:!0,children:"-"}),t.people.map(w=>c.jsx("option",{value:w.id,className:"bg-app-card text-app-primary",children:w.name},w.id))]})]}),c.jsxs("div",{className:`flex items-center gap-1 px-3 py-1.5 rounded-full border transition-all shrink-0 ${_==="splitWith"?"bg-indigo-600 border-indigo-500 text-white":"bg-app-card border-app text-app-secondary"}`,children:[c.jsxs("span",{className:"text-[11px] font-bold cursor-pointer",onClick:()=>{var w;S("splitWith"),g||h((w=t.people[0])==null?void 0:w.id)},children:[n.dashboard.sortAffects,":"]}),c.jsxs("select",{"aria-label":"Select person to filter effects",className:"bg-transparent border-none outline-none focus:ring-0 p-0 text-[11px] font-bold cursor-pointer",value:_==="splitWith"&&g||"",onChange:w=>{S("splitWith"),h(w.target.value)},children:[!g&&c.jsx("option",{value:"",disabled:!0,children:"-"}),t.people.map(w=>c.jsx("option",{value:w.id,className:"bg-app-card text-app-primary",children:w.name},w.id))]})]})]})]}),c.jsx("div",{className:"space-y-3",role:"list",children:xe.map((w,O)=>{const R=w.amount*(w.exchangeRate||1),Y=w.currency!==t.baseCurrency;return c.jsx("div",{role:"listitem",className:"group p-4 bg-app-card border border-app rounded-2xl shadow-app hover:border-indigo-500/40 transition-all animate-slide-up",style:{animationDelay:`${O*.05}s`,animationFillMode:"both"},children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"min-w-0 pr-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded bg-app-tertiary text-app-secondary border border-app",children:w.category||"Other"}),c.jsx("h4",{className:"font-bold text-app-primary truncate",children:w.description})]}),c.jsxs("p",{className:"text-[11px] text-app-secondary mt-1",children:[n.dashboard.paidBy," ",c.jsx("span",{className:"text-indigo-500 font-bold",children:A(w.paidById)})]}),c.jsxs("div",{className:"mt-3 flex gap-2 items-center",children:[c.jsx("span",{className:"text-[9px] uppercase font-black tracking-widest text-app-muted shrink-0",children:n.dashboard.splittingWith}),c.jsx("div",{className:"flex -space-x-1.5","aria-hidden":"true",children:w.splitAmongIds==="ALL"?c.jsx("div",{className:"px-1.5 py-0.5 bg-app-tertiary rounded text-[9px] text-app-secondary font-black uppercase border border-app",children:n.common.all}):w.splitAmongIds.slice(0,3).map(J=>c.jsx("div",{className:"w-5 h-5 rounded-full border border-app bg-indigo-500/20 flex items-center justify-center text-[9px] text-indigo-500 font-black",children:A(J).charAt(0).toUpperCase()},J))})]})]}),c.jsxs("div",{className:"flex flex-col items-end shrink-0",children:[c.jsx("span",{className:"text-lg font-black text-app-primary",children:yt(w.amount,w.currency)}),Y&&c.jsxs("span",{className:"text-[10px] text-app-muted font-bold",children:[" ",yt(R,t.baseCurrency)]}),c.jsxs("div",{className:"flex gap-2.5 mt-2.5 sm:opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-opacity duration-200",children:[c.jsx("button",{onClick:()=>{a.setEditingExpense(w),a.setView("EDIT_EXPENSE")},"aria-label":`Edit ${w.description}`,className:"text-app-muted hover:text-indigo-500 transition-all focus-visible:ring-2 focus-visible:ring-indigo-500 rounded outline-none",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),c.jsx("button",{onClick:()=>d(w.id),"aria-label":`Delete ${w.description}`,className:"text-app-muted hover:text-red-500 transition-all focus-visible:ring-2 focus-visible:ring-red-500 rounded outline-none",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]})]})},w.id)})})]}),r==="balances"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-app-card border border-app p-6 rounded-[2rem] text-app-primary shadow-app flex items-center justify-between animate-zoom-in",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-app-secondary text-[10px] font-black uppercase tracking-widest mb-1",children:[n.dashboard.financialOverview," (",t.baseCurrency,")"]}),c.jsx("p",{className:"text-sm font-light leading-snug text-app-secondary",children:n.dashboard.balanceSubtitle})]}),c.jsx("div",{className:"text-3xl grayscale opacity-30","aria-hidden":"true",children:""})]}),c.jsx("div",{className:"grid gap-3",children:Object.entries(j).sort((w,O)=>O[1].netBalance-w[1].netBalance).map(([w,O],R)=>c.jsxs("div",{className:`p-5 bg-app-card border rounded-2xl shadow-app transition-all animate-slide-up ${O.isMerged?"border-indigo-500/30 bg-indigo-500/[0.02]":"border-app"}`,style:{animationDelay:`${R*.05}s`,animationFillMode:"both"},children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-black text-xs ${O.isMerged?"bg-indigo-600 text-white":"bg-app-tertiary border border-app text-app-primary"}`,"aria-hidden":"true",children:k(w).charAt(0).toUpperCase()}),c.jsx("span",{className:"font-bold text-app-primary",children:k(w)})]}),c.jsxs("div",{className:`text-sm font-black px-3 py-1 rounded-lg border ${O.netBalance>=0?"bg-green-500/10 text-green-500 border-green-500/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:[O.netBalance>=0?"+":"",yt(O.netBalance,t.baseCurrency)]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-app",children:[c.jsxs("div",{children:[c.jsx("span",{className:"block text-[9px] text-app-secondary uppercase font-black tracking-widest mb-1",children:n.dashboard.totalPaid}),c.jsx("span",{className:"text-sm font-bold text-app-primary",children:yt(O.totalPaid,t.baseCurrency)})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"block text-[9px] text-app-secondary uppercase font-black tracking-widest mb-1",children:n.dashboard.portion}),c.jsx("span",{className:"text-sm font-bold text-app-primary",children:yt(O.share,t.baseCurrency)})]})]})]},w))})]}),r==="settle"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-indigo-600/10 border border-indigo-500/20 p-6 rounded-[2rem] text-app-primary shadow-lg flex items-center justify-between animate-zoom-in",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-indigo-500 text-[10px] font-black uppercase tracking-widest mb-1",children:[n.dashboard.optimizedPayments," (",t.baseCurrency,")"]}),c.jsx("p",{className:"text-sm font-light text-app-secondary leading-snug",children:n.dashboard.settleSubtitle})]}),c.jsx("div",{className:"text-3xl","aria-hidden":"true",children:""})]}),c.jsx("div",{className:"space-y-3",children:T.length>0?T.map((w,O)=>c.jsxs("div",{className:"p-5 bg-app-card border border-app rounded-[2rem] shadow-app flex items-center gap-4 animate-slide-up",style:{animationDelay:`${O*.08}s`,animationFillMode:"both"},children:[c.jsxs("div",{className:"flex-1 text-center",children:[c.jsx("p",{className:"font-bold text-app-primary text-xs truncate",children:k(w.from)}),c.jsx("p",{className:"text-[9px] font-black uppercase text-app-muted",children:n.dashboard.pays})]}),c.jsxs("div",{className:"flex flex-col items-center","aria-hidden":"true",children:[c.jsx("div",{className:"text-lg font-black text-indigo-500",children:yt(w.amount,t.baseCurrency)}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-indigo-500/50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}),c.jsxs("div",{className:"flex-1 text-center",children:[c.jsx("p",{className:"font-bold text-app-primary text-xs truncate",children:k(w.to)}),c.jsx("p",{className:"text-[9px] font-black uppercase text-app-muted",children:n.dashboard.to})]})]},O)):c.jsxs("div",{className:"py-20 text-center space-y-4 bg-app-card border-2 border-dashed border-app rounded-[3rem] animate-fade-in shadow-app",children:[c.jsx("span",{className:"text-4xl opacity-20 block","aria-hidden":"true",children:""}),c.jsx("p",{className:"text-app-secondary font-black text-xs uppercase tracking-widest",children:n.dashboard.everyoneSquare})]})})]}),r==="stats"&&c.jsxs("div",{className:"space-y-6 animate-zoom-in",children:[c.jsx("div",{className:"bg-app-card border border-app p-6 rounded-[2rem] shadow-app flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h3",{className:"text-app-secondary text-[10px] font-black uppercase tracking-widest mb-1",children:n.dashboard.statsTitle}),c.jsx("p",{className:"text-sm font-light text-app-secondary",children:n.dashboard.statsSubtitle})]})}),c.jsxs("div",{className:"flex flex-col items-center py-6 bg-app-card/50 border border-app rounded-[3rem] shadow-app",children:[c.jsxs("div",{className:"relative w-56 h-56 mb-8 flex items-center justify-center",children:[c.jsx("svg",{viewBox:"0 0 100 100",className:"w-full h-full -rotate-90","aria-label":"Expenses chart",children:(()=>{let w=0;return L.map(([O,R],Y)=>{const vt=R/E*100,Jt=`${vt} ${100-vt}`,Xt=-w;w+=vt;const N=f===O,V=f!==null;return c.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"transparent",stroke:Yr[O]||"#64748b",strokeWidth:N?"14":"10",strokeDasharray:Jt,strokeDashoffset:Xt,pathLength:"100",strokeLinecap:"butt",pointerEvents:"visibleStroke",className:"transition-all duration-300 cursor-pointer origin-center",style:{opacity:V&&!N?.3:1,filter:N?`drop-shadow(0 0 6px ${Yr[O]})`:"none",zIndex:N?10:1},onMouseEnter:()=>b(O),onMouseLeave:()=>b(null)},O)})})()}),c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none text-center px-6","aria-live":"polite",children:[c.jsx("span",{className:"text-[10px] font-black text-app-muted uppercase tracking-widest transition-all duration-300",children:f||"Total"}),c.jsx("span",{className:"text-xl font-black text-app-primary transition-all duration-300",children:yt(f?((Qt=L.find(w=>w[0]===f))==null?void 0:Qt[1])||0:E,t.baseCurrency)}),f&&c.jsxs("span",{className:"text-[10px] font-black text-indigo-500/80 animate-zoom-in",children:[Math.round((((It=L.find(w=>w[0]===f))==null?void 0:It[1])||0)/E*100),"%"]})]})]}),c.jsx("div",{className:"w-full px-6 grid grid-cols-2 gap-3",role:"list",children:L.map(([w,O])=>{const R=f===w;return c.jsxs("div",{role:"listitem",tabIndex:0,onMouseEnter:()=>b(w),onMouseLeave:()=>b(null),onFocus:()=>b(w),onBlur:()=>b(null),className:`flex items-center gap-2 p-3 rounded-2xl border transition-all duration-300 cursor-pointer shadow-app focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none ${R?"bg-app-tertiary border-indigo-500/50 scale-[1.02] shadow-lg":"bg-app-card border-app"}`,children:[c.jsx("div",{className:"w-3 h-3 rounded-full shrink-0 transition-transform duration-300","aria-hidden":"true",style:{backgroundColor:Yr[w]||"#64748b",transform:R?"scale(1.2)":"scale(1)"}}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:`text-[10px] font-black uppercase truncate transition-colors ${R?"text-indigo-500":"text-app-secondary"}`,children:w}),c.jsx("p",{className:"text-xs font-bold text-app-primary",children:yt(O,t.baseCurrency)})]})]},w)})})]})]})]},r),u&&c.jsx("div",{className:"fixed inset-0 z-[11000] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",role:"dialog","aria-modal":"true",onClick:()=>d(null),children:c.jsxs("div",{className:"bg-app-card border border-app p-8 rounded-[2.5rem] shadow-2xl max-w-sm w-full animate-zoom-in",onClick:w=>w.stopPropagation(),children:[c.jsx("h3",{className:"text-2xl font-black text-app-primary mb-2",children:n.dashboard.removeTitle}),c.jsx("p",{className:"text-app-secondary mb-8 leading-relaxed",children:n.dashboard.removeSubtitle}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>d(null),className:"flex-1 py-4 px-4 rounded-2xl border border-app text-app-secondary font-bold hover:bg-app-tertiary transition-all focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none",children:n.common.cancel}),c.jsx("button",{onClick:()=>{a.deleteExpense(u),d(null)},className:"flex-1 py-4 px-4 rounded-2xl bg-red-600 text-white font-black hover:bg-red-700 transition-all shadow-lg shadow-red-900/20 focus-visible:ring-2 focus-visible:ring-red-400 outline-none",children:n.common.delete})]})]})})]})},E_=[{id:"Food",icon:"",label:"food"},{id:"Transport",icon:"",label:"transport"},{id:"Lodging",icon:"",label:"lodging"},{id:"Grocery",icon:"",label:"grocery"},{id:"Activity",icon:"",label:"activity"},{id:"Other",icon:"",label:"other"}],A_=()=>{var Xt;const{trip:e,editingExpense:t,actions:a}=fs(),{t:n}=Fn();if(!e)return null;const i=e.people,s=e.baseCurrency,l=C.useMemo(()=>[...i].sort((N,V)=>N.name.localeCompare(V.name)),[i]),[r,o]=C.useState((t==null?void 0:t.description)||""),[u,d]=C.useState((t==null?void 0:t.category)||"Other"),[v,p]=C.useState(t?Rd(t.amount.toString()):""),[f,b]=C.useState(()=>{if(t)return t.paidById;const N=localStorage.getItem("tripshare_last_payer");return N&&i.some(V=>V.id===N)?N:""}),[_,S]=C.useState(t?t.splitAmongIds==="ALL"?"ALL":"CUSTOM":"ALL"),[g,h]=C.useState(Array.isArray(t==null?void 0:t.splitAmongIds)?t.splitAmongIds:[]),[m,y]=C.useState((t==null?void 0:t.currency)||s),[T,j]=C.useState((t==null?void 0:t.exchangeRate)||1),[E,A]=C.useState(!1),[k,L]=C.useState(""),[xe,$e]=C.useState(!1),[mt,Qt]=C.useState(0),It=C.useRef(null),w=C.useRef(null);C.useEffect(()=>{const N=async()=>{if(m===s){j(1);return}$e(!0);try{const V=await Hv(m,s);j(V)}catch(V){console.error("Failed to fetch rate",V)}finally{$e(!1)}};(!t||m!==t.currency)&&N()},[m,s,t]);const O=C.useMemo(()=>Ci.filter(N=>N.code.toLowerCase().includes(k.toLowerCase())||N.name.toLowerCase().includes(k.toLowerCase())),[k]);C.useEffect(()=>{if(E){Qt(0);const N=V=>{V.key==="Escape"&&A(!1),V.key==="ArrowDown"&&(V.preventDefault(),Qt(ti=>(ti+1)%O.length)),V.key==="ArrowUp"&&(V.preventDefault(),Qt(ti=>(ti-1+O.length)%O.length)),V.key==="Enter"&&mt!==-1&&(V.preventDefault(),y(O[mt].code),A(!1))};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)}},[E,O,mt]),C.useEffect(()=>{var N;E&&((N=w.current)==null||N.focus())},[E]);const R=N=>{const V=N.target.value;/^[0-9\s.,]*$/.test(V)&&p(Rd(V))},Y=N=>{d(N.id),r.trim()||o(n.expenseForm.categories[N.label])},J=N=>{h(V=>V.includes(N)?V.filter(ti=>ti!==N):[...V,N])},vt=N=>{N.preventDefault();const V=kd(v);!r.trim()||V<=0||!f||_==="CUSTOM"&&g.length===0||(localStorage.setItem("tripshare_last_payer",f),a.saveExpense({description:r.trim(),category:u,amount:V,currency:m,exchangeRate:T,paidById:f,splitAmongIds:_==="ALL"?"ALL":g}))},Jt=C.useMemo(()=>{const N=kd(v);return!r.trim()||N<=0||!f||_==="CUSTOM"&&g.length===0},[r,v,f,_,g]);return c.jsxs("div",{className:"space-y-6 animate-slide-up",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-app-primary tracking-tight",children:t?n.expenseForm.editTitle:n.expenseForm.addTitle}),c.jsx("button",{onClick:()=>a.setView("DASHBOARD"),className:"p-2 text-app-muted hover:text-app-primary transition-all focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none rounded-xl","aria-label":n.common.cancel,children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("form",{onSubmit:vt,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{id:"label-desc",className:"text-xs font-bold text-app-muted uppercase tracking-widest px-1",children:n.expenseForm.description}),c.jsx("input",{type:"text",placeholder:n.expenseForm.descPlaceholder,"aria-labelledby":"label-desc",className:"w-full px-5 py-4 rounded-2xl border border-app bg-app-card text-app-primary placeholder-app-muted focus:ring-2 focus:ring-indigo-500 outline-none text-lg transition-all shadow-app",value:r,onChange:N=>o(N.target.value),autoFocus:!0,required:!0}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar -mx-1 px-1",role:"radiogroup","aria-label":"Category Selection",children:E_.map(N=>c.jsxs("button",{type:"button",role:"radio","aria-checked":u===N.id,onClick:()=>Y(N),className:`px-4 py-2 rounded-xl text-xs font-bold border transition-all flex items-center gap-2 shrink-0 focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none ${u===N.id?"bg-indigo-600 border-indigo-500 text-white shadow-lg":"bg-app-card border-app text-app-secondary hover:border-app-muted shadow-app"}`,children:[c.jsx("span",{"aria-hidden":"true",children:N.icon}),c.jsx("span",{children:n.expenseForm.categories[N.label]})]},N.id))})]}),c.jsxs("div",{className:"grid grid-cols-12 gap-3",children:[c.jsxs("div",{className:"col-span-8 space-y-1",children:[c.jsx("label",{id:"label-amount",className:"text-xs font-bold text-app-muted uppercase tracking-widest px-1",children:n.expenseForm.amount}),c.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0","aria-labelledby":"label-amount",className:"w-full px-5 py-4 rounded-2xl border border-app bg-app-card text-app-primary placeholder-app-muted focus:ring-2 focus:ring-indigo-500 outline-none text-2xl font-bold shadow-app",value:v,onChange:R,required:!0})]}),c.jsxs("div",{className:"col-span-4 space-y-1",children:[c.jsx("label",{id:"label-currency",className:"text-xs font-bold text-app-muted uppercase tracking-widest px-1",children:n.expenseForm.currency}),c.jsxs("button",{type:"button",onClick:()=>A(!0),"aria-labelledby":"label-currency",className:"w-full h-[66px] px-2 rounded-2xl border border-app bg-app-card text-app-primary flex flex-col items-center justify-center hover:bg-app-tertiary transition-all shadow-app focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none",children:[c.jsx("span",{className:"text-xs opacity-60 uppercase font-black tracking-tighter","aria-hidden":"true",children:m}),c.jsx("span",{className:"text-xl","aria-hidden":"true",children:(Xt=Ci.find(N=>N.code===m))==null?void 0:Xt.flag})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-app-muted uppercase tracking-widest px-1",children:n.expenseForm.whoPaid}),c.jsx("div",{className:"grid grid-cols-2 gap-2",role:"radiogroup",children:l.map(N=>c.jsx("button",{type:"button",role:"radio","aria-checked":f===N.id,onClick:()=>b(N.id),className:`px-4 py-3 rounded-xl text-sm font-bold border transition-all shadow-app focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none ${f===N.id?"bg-indigo-600 text-white border-indigo-400 shadow-md":"bg-app-card text-app-secondary border-app hover:border-app-muted"}`,children:N.name},N.id))})]}),c.jsxs("div",{className:"space-y-3 pt-4 border-t border-app",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{className:"text-xs font-bold text-app-muted uppercase tracking-widest px-1",children:n.expenseForm.splitWith}),c.jsxs("div",{className:"flex p-1 bg-app-tertiary rounded-xl border border-app relative h-9 w-32 shadow-inner",role:"tablist",children:[c.jsx("div",{className:"absolute h-[calc(100%-8px)] w-[calc(50%-4px)] bg-indigo-600 rounded-lg transition-all duration-300 ease-out shadow-sm",style:{left:_==="ALL"?"4px":"calc(50% + 4px)"}}),c.jsx("button",{type:"button",role:"tab","aria-selected":_==="ALL",onClick:()=>S("ALL"),className:`relative flex-1 text-[10px] font-black z-10 transition-colors focus-visible:text-white outline-none ${_==="ALL"?"text-white":"text-app-muted"}`,children:n.common.all.toUpperCase()}),c.jsx("button",{type:"button",role:"tab","aria-selected":_==="CUSTOM",onClick:()=>S("CUSTOM"),className:`relative flex-1 text-[10px] font-black z-10 transition-colors focus-visible:text-white outline-none ${_==="CUSTOM"?"text-white":"text-app-muted"}`,children:"CUSTOM"})]})]}),_==="CUSTOM"&&c.jsx("div",{className:"grid grid-cols-2 gap-2 animate-zoom-in",role:"group","aria-label":"People to split with",children:l.map(N=>c.jsxs("button",{type:"button","aria-pressed":g.includes(N.id),onClick:()=>J(N.id),className:`px-4 py-3 rounded-xl text-sm font-bold border transition-all flex items-center justify-between shadow-app focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none ${g.includes(N.id)?"bg-indigo-500/10 text-indigo-500 border-indigo-500/30":"bg-app-card text-app-secondary border-app"}`,children:[c.jsx("span",{children:N.name}),g.includes(N.id)&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 animate-zoom-in",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},N.id))})]})]}),c.jsx("button",{type:"submit",disabled:Jt||xe,className:"w-full bg-app-accent hover:opacity-90 disabled:bg-app-tertiary disabled:text-app-muted disabled:shadow-none text-app-accent-fg font-black py-5 rounded-2xl shadow-xl transition-all mt-4 focus-visible:ring-4 focus-visible:ring-indigo-500 outline-none",children:xe?n.common.loading:t?n.common.save:n.expenseForm.confirmBtn})]}),E&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-fade-in",role:"dialog","aria-modal":"true",onClick:()=>A(!1),children:c.jsxs("div",{className:"bg-app-card border border-app rounded-3xl w-full max-w-sm flex flex-col max-h-[80vh] animate-zoom-in shadow-2xl overflow-hidden",onClick:N=>N.stopPropagation(),children:[c.jsxs("div",{className:"p-6 border-b border-app space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-xl font-black text-app-primary",children:n.expenseForm.currency}),c.jsx("button",{onClick:()=>A(!1),className:"text-app-muted hover:text-app-primary transition-colors focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none rounded-lg","aria-label":"Close currency search",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("input",{ref:w,type:"text",placeholder:n.expenseForm.searchCurrency,className:"w-full px-4 py-3 rounded-xl border border-app bg-app-tertiary text-app-primary outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:k,onChange:N=>L(N.target.value),"aria-label":"Filter currencies"})]}),c.jsx("div",{ref:It,className:"flex-1 overflow-y-auto p-2 no-scrollbar",role:"listbox",children:O.map((N,V)=>c.jsxs("button",{role:"option","aria-selected":V===mt,onClick:()=>{y(N.code),A(!1)},className:`w-full flex items-center gap-4 p-4 rounded-xl transition-all outline-none ${V===mt?"bg-indigo-600 text-white":"hover:bg-app-tertiary text-app-secondary"}`,children:[c.jsx("span",{className:"text-2xl","aria-hidden":"true",children:N.flag}),c.jsxs("div",{className:"flex flex-col items-start",children:[c.jsx("span",{className:"font-bold",children:N.code}),c.jsx("span",{className:"text-xs opacity-60",children:N.name})]})]},N.code))})]})})]})},j_=({isOpen:e,onClose:t})=>{const{language:a,setLanguage:n,t:i}=Fn(),s=C.useRef(null);if(C.useEffect(()=>{var r;if(e){const o=u=>{u.key==="Escape"&&t()};return window.addEventListener("keydown",o),(r=s.current)==null||r.focus(),()=>window.removeEventListener("keydown",o)}},[e,t]),!e)return null;const l=[{code:"en",name:i.common.english,flag:""},{code:"sv",name:i.common.swedish,flag:""},{code:"nl",name:i.common.dutch,flag:""},{code:"es",name:i.common.spanish,flag:""},{code:"fr",name:i.common.french,flag:""},{code:"de",name:i.common.german,flag:""},{code:"it",name:i.common.italian,flag:""}];return c.jsx("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center p-4 bg-slate-950/95 backdrop-blur-2xl animate-in fade-in duration-300",role:"dialog","aria-modal":"true","aria-labelledby":"lang-modal-title",onClick:t,children:c.jsxs("div",{ref:s,tabIndex:-1,className:"bg-slate-900 border border-slate-800 rounded-[2.5rem] shadow-[0_0_80px_-10px_rgba(0,0,0,0.8)] w-full max-w-[340px] overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col max-h-[85vh] outline-none",onClick:r=>r.stopPropagation(),children:[c.jsxs("div",{className:"p-7 border-b border-slate-800/50 flex items-center justify-between shrink-0",children:[c.jsx("h3",{id:"lang-modal-title",className:"text-2xl font-black text-white tracking-tight",children:i.common.language}),c.jsx("button",{onClick:t,className:"p-2 text-slate-600 hover:text-white transition-colors rounded-xl bg-slate-800/50 focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none","aria-label":i.common.cancel,children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsx("div",{className:"p-4 space-y-2 overflow-y-auto no-scrollbar",role:"listbox",children:l.map(r=>c.jsxs("button",{role:"option","aria-selected":a===r.code,onClick:()=>{n(r.code),t()},className:`w-full flex items-center gap-4 p-4 rounded-[1.5rem] transition-all focus-visible:ring-2 focus-visible:ring-indigo-500 outline-none ${a===r.code?"bg-indigo-600 text-white shadow-xl shadow-indigo-900/60 ring-2 ring-indigo-400/30":"text-slate-500 hover:bg-slate-800 hover:text-slate-200 border border-transparent"}`,children:[c.jsx("span",{className:"text-2xl filter drop-shadow-md shrink-0","aria-hidden":"true",children:r.flag}),c.jsx("span",{className:"font-bold flex-1 text-left text-sm tracking-tight",children:r.name}),a===r.code&&c.jsx("div",{className:"bg-white/20 p-1 rounded-full shrink-0",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},r.code))}),c.jsx("div",{className:"p-4 shrink-0 bg-slate-900/50 border-t border-slate-800/30",children:c.jsx("p",{className:"text-[10px] text-center font-black uppercase tracking-[0.2em] text-slate-600",children:"Select your language"})})]})})},O_=()=>{const{t:e}=Fn(),{trip:t,view:a,isLoading:n,isSaving:i,isLocalMode:s,supabase:l,actions:r}=fs(),[o,u]=C.useState(!1);return n&&!i?c.jsxs("div",{className:"min-h-screen bg-app-main flex flex-col items-center justify-center space-y-4",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-indigo-500/30 border-t-indigo-500 rounded-full animate-spin"}),c.jsx("p",{className:"text-app-secondary font-medium animate-pulse",children:e.common.loading})]}):!l&&!s?c.jsx("div",{className:"min-h-screen bg-app-main flex items-center justify-center p-6 text-center",children:c.jsxs("div",{className:"max-w-md w-full space-y-8 animate-fade-in duration-700",children:[c.jsx("div",{className:"w-20 h-20 bg-indigo-500/10 rounded-3xl flex items-center justify-center mx-auto mb-6 border border-indigo-500/20 shadow-app",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),c.jsx("h1",{className:"text-3xl font-black text-app-primary tracking-tight",children:"Setup TripShare"}),c.jsx("p",{className:"text-app-secondary leading-relaxed",children:"Choose how you want to save your journeys."}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("button",{onClick:()=>r.toggleMode("local"),className:"w-full py-5 bg-indigo-600 text-white font-black rounded-2xl shadow-xl hover:bg-indigo-700 transition-all",children:"Use Local Mode (No Account)"}),c.jsxs("div",{className:"bg-app-card border border-app rounded-2xl p-5 text-left text-xs text-app-secondary shadow-app",children:[c.jsx("p",{className:"font-bold text-app-primary mb-2 uppercase tracking-widest",children:"Connect to Cloud (Supabase)"}),"To enable real-time syncing, set your ",c.jsx("code",{className:"text-indigo-500 font-bold",children:"VITE_SUPABASE_URL"})," in your environment variables and refresh."]})]})]})}):c.jsxs("div",{className:"min-h-screen bg-app-main text-app-primary relative overflow-x-hidden",children:[c.jsx(j_,{isOpen:o,onClose:()=>u(!1)}),i&&c.jsx("div",{className:"fixed inset-0 z-[10000] bg-black/40 backdrop-blur-sm flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 border-4 border-indigo-500/20 border-t-indigo-500 rounded-full animate-spin"}),c.jsx("span",{className:"text-xs font-black uppercase tracking-[0.2em] text-indigo-500 animate-pulse",children:"Updating..."})]})}),c.jsxs("main",{className:"max-w-xl mx-auto px-4 py-8 md:py-12 min-h-screen",children:[a==="ONBOARDING"&&c.jsx(__,{onOpenLanguage:()=>u(!0)}),t&&a==="PEOPLE_SETUP"&&c.jsx("div",{className:"animate-slide-up",children:c.jsx(w_,{isInitial:t.people.length===0})}),t&&a==="DASHBOARD"&&c.jsx("div",{className:"animate-zoom-in",children:c.jsx(T_,{onOpenLanguage:()=>u(!0)})}),t&&(a==="ADD_EXPENSE"||a==="EDIT_EXPENSE")&&c.jsx("div",{className:"animate-slide-up",children:c.jsx(A_,{})})]}),s&&c.jsx("div",{className:"fixed bottom-4 left-4 right-4 max-w-xl mx-auto pointer-events-none z-[50]",children:c.jsx("div",{className:"bg-amber-500/10 border border-amber-500/20 p-2 rounded-xl text-[9px] font-black uppercase tracking-widest text-amber-500/60 text-center backdrop-blur-sm pointer-events-auto shadow-app",children:"Local Mode Active  Data stays on this device"})})]})},N_=()=>c.jsx(S_,{children:c.jsx(Mv,{children:c.jsx(b_,{children:c.jsx(O_,{})})})}),Cg=document.getElementById("root");if(!Cg)throw new Error("Could not find root element to mount to");const C_=Nv.createRoot(Cg);C_.render(c.jsx(Xg.StrictMode,{children:c.jsx(N_,{})}));
